var NP=Object.defineProperty;var xy=e=>{throw TypeError(e)};var _P=(e,t,n)=>t in e?NP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xt=(e,t,n)=>_P(e,typeof t!="symbol"?t+"":t,n),Ch=(e,t,n)=>t.has(e)||xy("Cannot "+n);var P=(e,t,n)=>(Ch(e,t,"read from private field"),n?n.call(e):t.get(e)),ue=(e,t,n)=>t.has(e)?xy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),te=(e,t,n,r)=>(Ch(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),be=(e,t,n)=>(Ch(e,t,"access private method"),n);var od=(e,t,n,r)=>({set _(s){te(e,t,s,n)},get _(){return P(e,t,r)}});function SP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function CP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var $b={exports:{}},hf={},Ub={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.element"),kP=Symbol.for("react.portal"),EP=Symbol.for("react.fragment"),PP=Symbol.for("react.strict_mode"),TP=Symbol.for("react.profiler"),RP=Symbol.for("react.provider"),MP=Symbol.for("react.context"),AP=Symbol.for("react.forward_ref"),OP=Symbol.for("react.suspense"),IP=Symbol.for("react.memo"),DP=Symbol.for("react.lazy"),yy=Symbol.iterator;function FP(e){return e===null||typeof e!="object"?null:(e=yy&&e[yy]||e["@@iterator"],typeof e=="function"?e:null)}var zb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bb=Object.assign,Wb={};function Sa(e,t,n){this.props=e,this.context=t,this.refs=Wb,this.updater=n||zb}Sa.prototype.isReactComponent={};Sa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hb(){}Hb.prototype=Sa.prototype;function Ig(e,t,n){this.props=e,this.context=t,this.refs=Wb,this.updater=n||zb}var Dg=Ig.prototype=new Hb;Dg.constructor=Ig;Bb(Dg,Sa.prototype);Dg.isPureReactComponent=!0;var wy=Array.isArray,Vb=Object.prototype.hasOwnProperty,Fg={current:null},qb={key:!0,ref:!0,__self:!0,__source:!0};function Kb(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Vb.call(t,r)&&!qb.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Pc,type:e,key:i,ref:a,props:s,_owner:Fg.current}}function LP(e,t){return{$$typeof:Pc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pc}function $P(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var by=/\/+/g;function kh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$P(""+e.key):t.toString(36)}function Wd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Pc:case kP:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+kh(a,0):r,wy(s)?(n="",e!=null&&(n=e.replace(by,"$&/")+"/"),Wd(s,t,n,"",function(d){return d})):s!=null&&(Lg(s)&&(s=LP(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(by,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",wy(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+kh(i,l);a+=Wd(i,t,n,c,s)}else if(c=FP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+kh(i,l++),a+=Wd(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function id(e,t,n){if(e==null)return e;var r=[],s=0;return Wd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function UP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qt={current:null},Hd={transition:null},zP={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Hd,ReactCurrentOwner:Fg};function Gb(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:id,forEach:function(e,t,n){id(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return id(e,function(){t++}),t},toArray:function(e){return id(e,function(t){return t})||[]},only:function(e){if(!Lg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=Sa;Ne.Fragment=EP;Ne.Profiler=TP;Ne.PureComponent=Ig;Ne.StrictMode=PP;Ne.Suspense=OP;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zP;Ne.act=Gb;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bb({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Fg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Vb.call(t,c)&&!qb.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Pc,type:e.type,key:s,ref:i,props:r,_owner:a}};Ne.createContext=function(e){return e={$$typeof:MP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RP,_context:e},e.Consumer=e};Ne.createElement=Kb;Ne.createFactory=function(e){var t=Kb.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:AP,render:e}};Ne.isValidElement=Lg;Ne.lazy=function(e){return{$$typeof:DP,_payload:{_status:-1,_result:e},_init:UP}};Ne.memo=function(e,t){return{$$typeof:IP,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=Hd.transition;Hd.transition={};try{e()}finally{Hd.transition=t}};Ne.unstable_act=Gb;Ne.useCallback=function(e,t){return Qt.current.useCallback(e,t)};Ne.useContext=function(e){return Qt.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Qt.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Qt.current.useEffect(e,t)};Ne.useId=function(){return Qt.current.useId()};Ne.useImperativeHandle=function(e,t,n){return Qt.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return Qt.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Qt.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Qt.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return Qt.current.useReducer(e,t,n)};Ne.useRef=function(e){return Qt.current.useRef(e)};Ne.useState=function(e){return Qt.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return Qt.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return Qt.current.useTransition()};Ne.version="18.3.1";Ub.exports=Ne;var h=Ub.exports;const F=Lb(h),Yb=SP({__proto__:null,default:F},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=h,WP=Symbol.for("react.element"),HP=Symbol.for("react.fragment"),VP=Object.prototype.hasOwnProperty,qP=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function Qb(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)VP.call(t,r)&&!KP.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:WP,type:e,key:i,ref:a,props:s,_owner:qP.current}}hf.Fragment=HP;hf.jsx=Qb;hf.jsxs=Qb;$b.exports=hf;var o=$b.exports,Jb={exports:{}},_n={},Xb={exports:{}},Zb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,T){var z=S.length;S.push(T);e:for(;0<z;){var B=z-1>>>1,H=S[B];if(0<s(H,T))S[B]=T,S[z]=H,z=B;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var T=S[0],z=S.pop();if(z!==T){S[0]=z;e:for(var B=0,H=S.length,V=H>>>1;B<V;){var J=2*(B+1)-1,ve=S[J],X=J+1,$=S[X];if(0>s(ve,z))X<H&&0>s($,ve)?(S[B]=$,S[X]=z,B=X):(S[B]=ve,S[J]=z,B=J);else if(X<H&&0>s($,z))S[B]=$,S[X]=z,B=X;else break e}}return T}function s(S,T){var z=S.sortIndex-T.sortIndex;return z!==0?z:S.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,f=null,m=3,p=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(S){for(var T=n(d);T!==null;){if(T.callback===null)r(d);else if(T.startTime<=S)r(d),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(d)}}function j(S){if(g=!1,b(S),!y)if(n(c)!==null)y=!0,U(_);else{var T=n(d);T!==null&&D(j,T.startTime-S)}}function _(S,T){y=!1,g&&(g=!1,x(k),k=-1),p=!0;var z=m;try{for(b(T),f=n(c);f!==null&&(!(f.expirationTime>T)||S&&!M());){var B=f.callback;if(typeof B=="function"){f.callback=null,m=f.priorityLevel;var H=B(f.expirationTime<=T);T=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(c)&&r(c),b(T)}else r(c);f=n(c)}if(f!==null)var V=!0;else{var J=n(d);J!==null&&D(j,J.startTime-T),V=!1}return V}finally{f=null,m=z,p=!1}}var C=!1,N=null,k=-1,E=5,R=-1;function M(){return!(e.unstable_now()-R<E)}function O(){if(N!==null){var S=e.unstable_now();R=S;var T=!0;try{T=N(!0,S)}finally{T?A():(C=!1,N=null)}}else C=!1}var A;if(typeof w=="function")A=function(){w(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,W=I.port2;I.port1.onmessage=O,A=function(){W.postMessage(null)}}else A=function(){v(O,0)};function U(S){N=S,C||(C=!0,A())}function D(S,T){k=v(function(){S(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,U(_))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var z=m;m=T;try{return S()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,T){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var z=m;m=S;try{return T()}finally{m=z}},e.unstable_scheduleCallback=function(S,T,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,S){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,S={id:u++,callback:T,priorityLevel:S,startTime:z,expirationTime:H,sortIndex:-1},z>B?(S.sortIndex=z,t(d,S),n(c)===null&&S===n(d)&&(g?(x(k),k=-1):g=!0,D(j,z-B))):(S.sortIndex=H,t(c,S),y||p||(y=!0,U(_))),S},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(S){var T=m;return function(){var z=m;m=T;try{return S.apply(this,arguments)}finally{m=z}}}})(Zb);Xb.exports=Zb;var GP=Xb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=h,Nn=GP;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ej=new Set,ql={};function Zo(e,t){ca(e,t),ca(e+"Capture",t)}function ca(e,t){for(ql[e]=t,e=0;e<t.length;e++)ej.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dm=Object.prototype.hasOwnProperty,QP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jy={},Ny={};function JP(e){return Dm.call(Ny,e)?!0:Dm.call(jy,e)?!1:QP.test(e)?Ny[e]=!0:(jy[e]=!0,!1)}function XP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZP(e,t,n,r){if(t===null||typeof t>"u"||XP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var $g=/[\-:]([a-z])/g;function Ug(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($g,Ug);kt[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($g,Ug);kt[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($g,Ug);kt[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function zg(e,t,n,r){var s=kt.hasOwnProperty(t)?kt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZP(t,n,s,r)&&(n=null),r||s===null?JP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ds=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ad=Symbol.for("react.element"),_i=Symbol.for("react.portal"),Si=Symbol.for("react.fragment"),Bg=Symbol.for("react.strict_mode"),Fm=Symbol.for("react.profiler"),tj=Symbol.for("react.provider"),nj=Symbol.for("react.context"),Wg=Symbol.for("react.forward_ref"),Lm=Symbol.for("react.suspense"),$m=Symbol.for("react.suspense_list"),Hg=Symbol.for("react.memo"),_s=Symbol.for("react.lazy"),rj=Symbol.for("react.offscreen"),_y=Symbol.iterator;function ol(e){return e===null||typeof e!="object"?null:(e=_y&&e[_y]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Eh;function wl(e){if(Eh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Eh=t&&t[1]||""}return`
`+Eh+e}var Ph=!1;function Th(e,t){if(!e||Ph)return"";Ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ph=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wl(e):""}function eT(e){switch(e.tag){case 5:return wl(e.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return e=Th(e.type,!1),e;case 11:return e=Th(e.type.render,!1),e;case 1:return e=Th(e.type,!0),e;default:return""}}function Um(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Si:return"Fragment";case _i:return"Portal";case Fm:return"Profiler";case Bg:return"StrictMode";case Lm:return"Suspense";case $m:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nj:return(e.displayName||"Context")+".Consumer";case tj:return(e._context.displayName||"Context")+".Provider";case Wg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hg:return t=e.displayName||null,t!==null?t:Um(e.type)||"Memo";case _s:t=e._payload,e=e._init;try{return Um(e(t))}catch{}}return null}function tT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Um(t);case 8:return t===Bg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nT(e){var t=sj(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ld(e){e._valueTracker||(e._valueTracker=nT(e))}function oj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sj(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zm(e,t){var n=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ij(e,t){t=t.checked,t!=null&&zg(e,"checked",t,!1)}function Bm(e,t){ij(e,t);var n=Xs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wm(e,t.type,Xs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wm(e,t,n){(t!=="number"||cu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bl=Array.isArray;function Di(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Hm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ky(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(bl(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xs(n)}}function aj(e,t){var n=Xs(t.value),r=Xs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ey(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cd,cj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cd=cd||document.createElement("div"),cd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rT=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(e){rT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),El[t]=El[e]})});function dj(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||El.hasOwnProperty(e)&&El[e]?(""+t).trim():t+"px"}function uj(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dj(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var sT=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qm(e,t){if(t){if(sT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Km(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gm=null;function Vg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ym=null,Fi=null,Li=null;function Py(e){if(e=Mc(e)){if(typeof Ym!="function")throw Error(q(280));var t=e.stateNode;t&&(t=xf(t),Ym(e.stateNode,e.type,t))}}function fj(e){Fi?Li?Li.push(e):Li=[e]:Fi=e}function hj(){if(Fi){var e=Fi,t=Li;if(Li=Fi=null,Py(e),t)for(e=0;e<t.length;e++)Py(t[e])}}function mj(e,t){return e(t)}function pj(){}var Rh=!1;function gj(e,t,n){if(Rh)return e(t,n);Rh=!0;try{return mj(e,t,n)}finally{Rh=!1,(Fi!==null||Li!==null)&&(pj(),hj())}}function Gl(e,t){var n=e.stateNode;if(n===null)return null;var r=xf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Qm=!1;if(ns)try{var il={};Object.defineProperty(il,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{Qm=!1}function oT(e,t,n,r,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Pl=!1,du=null,uu=!1,Jm=null,iT={onError:function(e){Pl=!0,du=e}};function aT(e,t,n,r,s,i,a,l,c){Pl=!1,du=null,oT.apply(iT,arguments)}function lT(e,t,n,r,s,i,a,l,c){if(aT.apply(this,arguments),Pl){if(Pl){var d=du;Pl=!1,du=null}else throw Error(q(198));uu||(uu=!0,Jm=d)}}function ei(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ty(e){if(ei(e)!==e)throw Error(q(188))}function cT(e){var t=e.alternate;if(!t){if(t=ei(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ty(s),e;if(i===r)return Ty(s),t;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function xj(e){return e=cT(e),e!==null?yj(e):null}function yj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yj(e);if(t!==null)return t;e=e.sibling}return null}var wj=Nn.unstable_scheduleCallback,Ry=Nn.unstable_cancelCallback,dT=Nn.unstable_shouldYield,uT=Nn.unstable_requestPaint,it=Nn.unstable_now,fT=Nn.unstable_getCurrentPriorityLevel,qg=Nn.unstable_ImmediatePriority,bj=Nn.unstable_UserBlockingPriority,fu=Nn.unstable_NormalPriority,hT=Nn.unstable_LowPriority,jj=Nn.unstable_IdlePriority,mf=null,Ar=null;function mT(e){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(mf,e,void 0,(e.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:vT,pT=Math.log,gT=Math.LN2;function vT(e){return e>>>=0,e===0?32:31-(pT(e)/gT|0)|0}var dd=64,ud=4194304;function jl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=jl(l):(i&=a,i!==0&&(r=jl(i)))}else a=n&~s,a!==0?r=jl(a):i!==0&&(r=jl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-sr(t),s=1<<n,r|=e[n],t&=~s;return r}function xT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-sr(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=xT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Xm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nj(){var e=dd;return dd<<=1,!(dd&4194240)&&(dd=64),e}function Mh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sr(t),e[t]=n}function wT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-sr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Kg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-sr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Oe=0;function _j(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sj,Gg,Cj,kj,Ej,Zm=!1,fd=[],Ws=null,Hs=null,Vs=null,Yl=new Map,Ql=new Map,Es=[],bT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function My(e,t){switch(e){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(t.pointerId)}}function al(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Mc(t),t!==null&&Gg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jT(e,t,n,r,s){switch(t){case"focusin":return Ws=al(Ws,e,t,n,r,s),!0;case"dragenter":return Hs=al(Hs,e,t,n,r,s),!0;case"mouseover":return Vs=al(Vs,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Yl.set(i,al(Yl.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ql.set(i,al(Ql.get(i)||null,e,t,n,r,s)),!0}return!1}function Pj(e){var t=ko(e.target);if(t!==null){var n=ei(t);if(n!==null){if(t=n.tag,t===13){if(t=vj(n),t!==null){e.blockedOn=t,Ej(e.priority,function(){Cj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ep(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gm=r,n.target.dispatchEvent(r),Gm=null}else return t=Mc(n),t!==null&&Gg(t),e.blockedOn=n,!1;t.shift()}return!0}function Ay(e,t,n){Vd(e)&&n.delete(t)}function NT(){Zm=!1,Ws!==null&&Vd(Ws)&&(Ws=null),Hs!==null&&Vd(Hs)&&(Hs=null),Vs!==null&&Vd(Vs)&&(Vs=null),Yl.forEach(Ay),Ql.forEach(Ay)}function ll(e,t){e.blockedOn===t&&(e.blockedOn=null,Zm||(Zm=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,NT)))}function Jl(e){function t(s){return ll(s,e)}if(0<fd.length){ll(fd[0],e);for(var n=1;n<fd.length;n++){var r=fd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ws!==null&&ll(Ws,e),Hs!==null&&ll(Hs,e),Vs!==null&&ll(Vs,e),Yl.forEach(t),Ql.forEach(t),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)Pj(n),n.blockedOn===null&&Es.shift()}var $i=ds.ReactCurrentBatchConfig,mu=!0;function _T(e,t,n,r){var s=Oe,i=$i.transition;$i.transition=null;try{Oe=1,Yg(e,t,n,r)}finally{Oe=s,$i.transition=i}}function ST(e,t,n,r){var s=Oe,i=$i.transition;$i.transition=null;try{Oe=4,Yg(e,t,n,r)}finally{Oe=s,$i.transition=i}}function Yg(e,t,n,r){if(mu){var s=ep(e,t,n,r);if(s===null)Bh(e,t,r,pu,n),My(e,r);else if(jT(s,e,t,n,r))r.stopPropagation();else if(My(e,r),t&4&&-1<bT.indexOf(e)){for(;s!==null;){var i=Mc(s);if(i!==null&&Sj(i),i=ep(e,t,n,r),i===null&&Bh(e,t,r,pu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bh(e,t,r,null,n)}}var pu=null;function ep(e,t,n,r){if(pu=null,e=Vg(r),e=ko(e),e!==null)if(t=ei(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vj(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pu=e,null}function Tj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fT()){case qg:return 1;case bj:return 4;case fu:case hT:return 16;case jj:return 536870912;default:return 16}default:return 16}}var Us=null,Qg=null,qd=null;function Rj(){if(qd)return qd;var e,t=Qg,n=t.length,r,s="value"in Us?Us.value:Us.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return qd=s.slice(e,1<r?1-r:void 0)}function Kd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hd(){return!0}function Oy(){return!1}function Sn(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hd:Oy,this.isPropagationStopped=Oy,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hd)},persist:function(){},isPersistent:hd}),t}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jg=Sn(Ca),Rc=tt({},Ca,{view:0,detail:0}),CT=Sn(Rc),Ah,Oh,cl,pf=tt({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cl&&(cl&&e.type==="mousemove"?(Ah=e.screenX-cl.screenX,Oh=e.screenY-cl.screenY):Oh=Ah=0,cl=e),Ah)},movementY:function(e){return"movementY"in e?e.movementY:Oh}}),Iy=Sn(pf),kT=tt({},pf,{dataTransfer:0}),ET=Sn(kT),PT=tt({},Rc,{relatedTarget:0}),Ih=Sn(PT),TT=tt({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),RT=Sn(TT),MT=tt({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AT=Sn(MT),OT=tt({},Ca,{data:0}),Dy=Sn(OT),IT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FT[e])?!!t[e]:!1}function Xg(){return LT}var $T=tt({},Rc,{key:function(e){if(e.key){var t=IT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(e){return e.type==="keypress"?Kd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UT=Sn($T),zT=tt({},pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=Sn(zT),BT=tt({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),WT=Sn(BT),HT=tt({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),VT=Sn(HT),qT=tt({},pf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KT=Sn(qT),GT=[9,13,27,32],Zg=ns&&"CompositionEvent"in window,Tl=null;ns&&"documentMode"in document&&(Tl=document.documentMode);var YT=ns&&"TextEvent"in window&&!Tl,Mj=ns&&(!Zg||Tl&&8<Tl&&11>=Tl),Ly=" ",$y=!1;function Aj(e,t){switch(e){case"keyup":return GT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ci=!1;function QT(e,t){switch(e){case"compositionend":return Oj(t);case"keypress":return t.which!==32?null:($y=!0,Ly);case"textInput":return e=t.data,e===Ly&&$y?null:e;default:return null}}function JT(e,t){if(Ci)return e==="compositionend"||!Zg&&Aj(e,t)?(e=Rj(),qd=Qg=Us=null,Ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mj&&t.locale!=="ko"?null:t.data;default:return null}}var XT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XT[e.type]:t==="textarea"}function Ij(e,t,n,r){fj(r),t=gu(t,"onChange"),0<t.length&&(n=new Jg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rl=null,Xl=null;function ZT(e){qj(e,0)}function gf(e){var t=Pi(e);if(oj(t))return e}function eR(e,t){if(e==="change")return t}var Dj=!1;if(ns){var Dh;if(ns){var Fh="oninput"in document;if(!Fh){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),Fh=typeof zy.oninput=="function"}Dh=Fh}else Dh=!1;Dj=Dh&&(!document.documentMode||9<document.documentMode)}function By(){Rl&&(Rl.detachEvent("onpropertychange",Fj),Xl=Rl=null)}function Fj(e){if(e.propertyName==="value"&&gf(Xl)){var t=[];Ij(t,Xl,e,Vg(e)),gj(ZT,t)}}function tR(e,t,n){e==="focusin"?(By(),Rl=t,Xl=n,Rl.attachEvent("onpropertychange",Fj)):e==="focusout"&&By()}function nR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gf(Xl)}function rR(e,t){if(e==="click")return gf(t)}function sR(e,t){if(e==="input"||e==="change")return gf(t)}function oR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:oR;function Zl(e,t){if(ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Dm.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function Wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hy(e,t){var n=Wy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wy(n)}}function Lj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $j(){for(var e=window,t=cu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cu(e.document)}return t}function ev(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iR(e){var t=$j(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lj(n.ownerDocument.documentElement,n)){if(r!==null&&ev(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Hy(n,i);var a=Hy(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aR=ns&&"documentMode"in document&&11>=document.documentMode,ki=null,tp=null,Ml=null,np=!1;function Vy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;np||ki==null||ki!==cu(r)||(r=ki,"selectionStart"in r&&ev(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ml&&Zl(Ml,r)||(Ml=r,r=gu(tp,"onSelect"),0<r.length&&(t=new Jg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ki)))}function md(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ei={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},Lh={},Uj={};ns&&(Uj=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function vf(e){if(Lh[e])return Lh[e];if(!Ei[e])return e;var t=Ei[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uj)return Lh[e]=t[n];return e}var zj=vf("animationend"),Bj=vf("animationiteration"),Wj=vf("animationstart"),Hj=vf("transitionend"),Vj=new Map,qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(e,t){Vj.set(e,t),Zo(t,[e])}for(var $h=0;$h<qy.length;$h++){var Uh=qy[$h],lR=Uh.toLowerCase(),cR=Uh[0].toUpperCase()+Uh.slice(1);ao(lR,"on"+cR)}ao(zj,"onAnimationEnd");ao(Bj,"onAnimationIteration");ao(Wj,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(Hj,"onTransitionEnd");ca("onMouseEnter",["mouseout","mouseover"]);ca("onMouseLeave",["mouseout","mouseover"]);ca("onPointerEnter",["pointerout","pointerover"]);ca("onPointerLeave",["pointerout","pointerover"]);Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function Ky(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lT(r,t,void 0,e),e.currentTarget=null}function qj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Ky(s,l,d),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Ky(s,l,d),i=c}}}if(uu)throw e=Jm,uu=!1,Jm=null,e}function Be(e,t){var n=t[ap];n===void 0&&(n=t[ap]=new Set);var r=e+"__bubble";n.has(r)||(Kj(t,e,2,!1),n.add(r))}function zh(e,t,n){var r=0;t&&(r|=4),Kj(n,e,r,t)}var pd="_reactListening"+Math.random().toString(36).slice(2);function ec(e){if(!e[pd]){e[pd]=!0,ej.forEach(function(n){n!=="selectionchange"&&(dR.has(n)||zh(n,!1,e),zh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pd]||(t[pd]=!0,zh("selectionchange",!1,t))}}function Kj(e,t,n,r){switch(Tj(t)){case 1:var s=_T;break;case 4:s=ST;break;default:s=Yg}n=s.bind(null,t,n,e),s=void 0,!Qm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Bh(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ko(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}gj(function(){var d=i,u=Vg(n),f=[];e:{var m=Vj.get(e);if(m!==void 0){var p=Jg,y=e;switch(e){case"keypress":if(Kd(n)===0)break e;case"keydown":case"keyup":p=UT;break;case"focusin":y="focus",p=Ih;break;case"focusout":y="blur",p=Ih;break;case"beforeblur":case"afterblur":p=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ET;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=WT;break;case zj:case Bj:case Wj:p=RT;break;case Hj:p=VT;break;case"scroll":p=CT;break;case"wheel":p=KT;break;case"copy":case"cut":case"paste":p=AT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fy}var g=(t&4)!==0,v=!g&&e==="scroll",x=g?m!==null?m+"Capture":null:m;g=[];for(var w=d,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=Gl(w,x),j!=null&&g.push(tc(w,j,b)))),v)break;w=w.return}0<g.length&&(m=new p(m,y,null,n,u),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Gm&&(y=n.relatedTarget||n.fromElement)&&(ko(y)||y[rs]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=d,y=y?ko(y):null,y!==null&&(v=ei(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=d),p!==y)){if(g=Iy,j="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=Fy,j="onPointerLeave",x="onPointerEnter",w="pointer"),v=p==null?m:Pi(p),b=y==null?m:Pi(y),m=new g(j,w+"leave",p,n,u),m.target=v,m.relatedTarget=b,j=null,ko(u)===d&&(g=new g(x,w+"enter",y,n,u),g.target=b,g.relatedTarget=v,j=g),v=j,p&&y)t:{for(g=p,x=y,w=0,b=g;b;b=fi(b))w++;for(b=0,j=x;j;j=fi(j))b++;for(;0<w-b;)g=fi(g),w--;for(;0<b-w;)x=fi(x),b--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=fi(g),x=fi(x)}g=null}else g=null;p!==null&&Gy(f,m,p,g,!1),y!==null&&v!==null&&Gy(f,v,y,g,!0)}}e:{if(m=d?Pi(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=eR;else if(Uy(m))if(Dj)_=sR;else{_=nR;var C=tR}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=rR);if(_&&(_=_(e,d))){Ij(f,_,n,u);break e}C&&C(e,m,d),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Wm(m,"number",m.value)}switch(C=d?Pi(d):window,e){case"focusin":(Uy(C)||C.contentEditable==="true")&&(ki=C,tp=d,Ml=null);break;case"focusout":Ml=tp=ki=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,Vy(f,n,u);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":Vy(f,n,u)}var N;if(Zg)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ci?Aj(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Mj&&n.locale!=="ko"&&(Ci||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ci&&(N=Rj()):(Us=u,Qg="value"in Us?Us.value:Us.textContent,Ci=!0)),C=gu(d,k),0<C.length&&(k=new Dy(k,e,null,n,u),f.push({event:k,listeners:C}),N?k.data=N:(N=Oj(n),N!==null&&(k.data=N)))),(N=YT?QT(e,n):JT(e,n))&&(d=gu(d,"onBeforeInput"),0<d.length&&(u=new Dy("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=N))}qj(f,t)})}function tc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gl(e,n),i!=null&&r.unshift(tc(e,i,s)),i=Gl(e,t),i!=null&&r.push(tc(e,i,s))),e=e.return}return r}function fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gy(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Gl(n,i),c!=null&&a.unshift(tc(n,c,l))):s||(c=Gl(n,i),c!=null&&a.push(tc(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var uR=/\r\n?/g,fR=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(uR,`
`).replace(fR,"")}function gd(e,t,n){if(t=Yy(t),Yy(e)!==t&&n)throw Error(q(425))}function vu(){}var rp=null,sp=null;function op(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ip=typeof setTimeout=="function"?setTimeout:void 0,hR=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,mR=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(e){return Qy.resolve(null).then(e).catch(pR)}:ip;function pR(e){setTimeout(function(){throw e})}function Wh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Jl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Jl(t)}function qs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ka=Math.random().toString(36).slice(2),Tr="__reactFiber$"+ka,nc="__reactProps$"+ka,rs="__reactContainer$"+ka,ap="__reactEvents$"+ka,gR="__reactListeners$"+ka,vR="__reactHandles$"+ka;function ko(e){var t=e[Tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rs]||n[Tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jy(e);e!==null;){if(n=e[Tr])return n;e=Jy(e)}return t}e=n,n=e.parentNode}return null}function Mc(e){return e=e[Tr]||e[rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function xf(e){return e[nc]||null}var lp=[],Ti=-1;function lo(e){return{current:e}}function We(e){0>Ti||(e.current=lp[Ti],lp[Ti]=null,Ti--)}function $e(e,t){Ti++,lp[Ti]=e.current,e.current=t}var Zs={},Ut=lo(Zs),ln=lo(!1),Uo=Zs;function da(e,t){var n=e.type.contextTypes;if(!n)return Zs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function cn(e){return e=e.childContextTypes,e!=null}function xu(){We(ln),We(Ut)}function Xy(e,t,n){if(Ut.current!==Zs)throw Error(q(168));$e(Ut,t),$e(ln,n)}function Gj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(q(108,tT(e)||"Unknown",s));return tt({},n,r)}function yu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zs,Uo=Ut.current,$e(Ut,e),$e(ln,ln.current),!0}function Zy(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=Gj(e,t,Uo),r.__reactInternalMemoizedMergedChildContext=e,We(ln),We(Ut),$e(Ut,e)):We(ln),$e(ln,n)}var Qr=null,yf=!1,Hh=!1;function Yj(e){Qr===null?Qr=[e]:Qr.push(e)}function xR(e){yf=!0,Yj(e)}function co(){if(!Hh&&Qr!==null){Hh=!0;var e=0,t=Oe;try{var n=Qr;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qr=null,yf=!1}catch(s){throw Qr!==null&&(Qr=Qr.slice(e+1)),wj(qg,co),s}finally{Oe=t,Hh=!1}}return null}var Ri=[],Mi=0,wu=null,bu=0,Mn=[],An=0,zo=null,Xr=1,Zr="";function bo(e,t){Ri[Mi++]=bu,Ri[Mi++]=wu,wu=e,bu=t}function Qj(e,t,n){Mn[An++]=Xr,Mn[An++]=Zr,Mn[An++]=zo,zo=e;var r=Xr;e=Zr;var s=32-sr(r)-1;r&=~(1<<s),n+=1;var i=32-sr(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Xr=1<<32-sr(t)+s|n<<s|r,Zr=i+e}else Xr=1<<i|n<<s|r,Zr=e}function tv(e){e.return!==null&&(bo(e,1),Qj(e,1,0))}function nv(e){for(;e===wu;)wu=Ri[--Mi],Ri[Mi]=null,bu=Ri[--Mi],Ri[Mi]=null;for(;e===zo;)zo=Mn[--An],Mn[An]=null,Zr=Mn[--An],Mn[An]=null,Xr=Mn[--An],Mn[An]=null}var bn=null,wn=null,qe=!1,tr=null;function Jj(e,t){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function e0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,wn=qs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,wn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zo!==null?{id:Xr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bn=e,wn=null,!0):!1;default:return!1}}function cp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dp(e){if(qe){var t=wn;if(t){var n=t;if(!e0(e,t)){if(cp(e))throw Error(q(418));t=qs(n.nextSibling);var r=bn;t&&e0(e,t)?Jj(r,n):(e.flags=e.flags&-4097|2,qe=!1,bn=e)}}else{if(cp(e))throw Error(q(418));e.flags=e.flags&-4097|2,qe=!1,bn=e}}}function t0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function vd(e){if(e!==bn)return!1;if(!qe)return t0(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!op(e.type,e.memoizedProps)),t&&(t=wn)){if(cp(e))throw Xj(),Error(q(418));for(;t;)Jj(e,t),t=qs(t.nextSibling)}if(t0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wn=qs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wn=null}}else wn=bn?qs(e.stateNode.nextSibling):null;return!0}function Xj(){for(var e=wn;e;)e=qs(e.nextSibling)}function ua(){wn=bn=null,qe=!1}function rv(e){tr===null?tr=[e]:tr.push(e)}var yR=ds.ReactCurrentBatchConfig;function dl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function xd(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function n0(e){var t=e._init;return t(e._payload)}function Zj(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Qs(x,w),x.index=0,x.sibling=null,x}function i(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,w,b,j){return w===null||w.tag!==6?(w=Jh(b,x.mode,j),w.return=x,w):(w=s(w,b),w.return=x,w)}function c(x,w,b,j){var _=b.type;return _===Si?u(x,w,b.props.children,j,b.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===_s&&n0(_)===w.type)?(j=s(w,b.props),j.ref=dl(x,w,b),j.return=x,j):(j=eu(b.type,b.key,b.props,null,x.mode,j),j.ref=dl(x,w,b),j.return=x,j)}function d(x,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Xh(b,x.mode,j),w.return=x,w):(w=s(w,b.children||[]),w.return=x,w)}function u(x,w,b,j,_){return w===null||w.tag!==7?(w=Lo(b,x.mode,j,_),w.return=x,w):(w=s(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Jh(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ad:return b=eu(w.type,w.key,w.props,null,x.mode,b),b.ref=dl(x,null,w),b.return=x,b;case _i:return w=Xh(w,x.mode,b),w.return=x,w;case _s:var j=w._init;return f(x,j(w._payload),b)}if(bl(w)||ol(w))return w=Lo(w,x.mode,b,null),w.return=x,w;xd(x,w)}return null}function m(x,w,b,j){var _=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(x,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ad:return b.key===_?c(x,w,b,j):null;case _i:return b.key===_?d(x,w,b,j):null;case _s:return _=b._init,m(x,w,_(b._payload),j)}if(bl(b)||ol(b))return _!==null?null:u(x,w,b,j,null);xd(x,b)}return null}function p(x,w,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,l(w,x,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ad:return x=x.get(j.key===null?b:j.key)||null,c(w,x,j,_);case _i:return x=x.get(j.key===null?b:j.key)||null,d(w,x,j,_);case _s:var C=j._init;return p(x,w,b,C(j._payload),_)}if(bl(j)||ol(j))return x=x.get(b)||null,u(w,x,j,_,null);xd(w,j)}return null}function y(x,w,b,j){for(var _=null,C=null,N=w,k=w=0,E=null;N!==null&&k<b.length;k++){N.index>k?(E=N,N=null):E=N.sibling;var R=m(x,N,b[k],j);if(R===null){N===null&&(N=E);break}e&&N&&R.alternate===null&&t(x,N),w=i(R,w,k),C===null?_=R:C.sibling=R,C=R,N=E}if(k===b.length)return n(x,N),qe&&bo(x,k),_;if(N===null){for(;k<b.length;k++)N=f(x,b[k],j),N!==null&&(w=i(N,w,k),C===null?_=N:C.sibling=N,C=N);return qe&&bo(x,k),_}for(N=r(x,N);k<b.length;k++)E=p(N,x,k,b[k],j),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),w=i(E,w,k),C===null?_=E:C.sibling=E,C=E);return e&&N.forEach(function(M){return t(x,M)}),qe&&bo(x,k),_}function g(x,w,b,j){var _=ol(b);if(typeof _!="function")throw Error(q(150));if(b=_.call(b),b==null)throw Error(q(151));for(var C=_=null,N=w,k=w=0,E=null,R=b.next();N!==null&&!R.done;k++,R=b.next()){N.index>k?(E=N,N=null):E=N.sibling;var M=m(x,N,R.value,j);if(M===null){N===null&&(N=E);break}e&&N&&M.alternate===null&&t(x,N),w=i(M,w,k),C===null?_=M:C.sibling=M,C=M,N=E}if(R.done)return n(x,N),qe&&bo(x,k),_;if(N===null){for(;!R.done;k++,R=b.next())R=f(x,R.value,j),R!==null&&(w=i(R,w,k),C===null?_=R:C.sibling=R,C=R);return qe&&bo(x,k),_}for(N=r(x,N);!R.done;k++,R=b.next())R=p(N,x,k,R.value,j),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?k:R.key),w=i(R,w,k),C===null?_=R:C.sibling=R,C=R);return e&&N.forEach(function(O){return t(x,O)}),qe&&bo(x,k),_}function v(x,w,b,j){if(typeof b=="object"&&b!==null&&b.type===Si&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ad:e:{for(var _=b.key,C=w;C!==null;){if(C.key===_){if(_=b.type,_===Si){if(C.tag===7){n(x,C.sibling),w=s(C,b.props.children),w.return=x,x=w;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===_s&&n0(_)===C.type){n(x,C.sibling),w=s(C,b.props),w.ref=dl(x,C,b),w.return=x,x=w;break e}n(x,C);break}else t(x,C);C=C.sibling}b.type===Si?(w=Lo(b.props.children,x.mode,j,b.key),w.return=x,x=w):(j=eu(b.type,b.key,b.props,null,x.mode,j),j.ref=dl(x,w,b),j.return=x,x=j)}return a(x);case _i:e:{for(C=b.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(x,w.sibling),w=s(w,b.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=Xh(b,x.mode,j),w.return=x,x=w}return a(x);case _s:return C=b._init,v(x,w,C(b._payload),j)}if(bl(b))return y(x,w,b,j);if(ol(b))return g(x,w,b,j);xd(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,b),w.return=x,x=w):(n(x,w),w=Jh(b,x.mode,j),w.return=x,x=w),a(x)):n(x,w)}return v}var fa=Zj(!0),e1=Zj(!1),ju=lo(null),Nu=null,Ai=null,sv=null;function ov(){sv=Ai=Nu=null}function iv(e){var t=ju.current;We(ju),e._currentValue=t}function up(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ui(e,t){Nu=e,sv=Ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function $n(e){var t=e._currentValue;if(sv!==e)if(e={context:e,memoizedValue:t,next:null},Ai===null){if(Nu===null)throw Error(q(308));Ai=e,Nu.dependencies={lanes:0,firstContext:e}}else Ai=Ai.next=e;return t}var Eo=null;function av(e){Eo===null?Eo=[e]:Eo.push(e)}function t1(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,av(t)):(n.next=s.next,s.next=n),t.interleaved=n,ss(e,r)}function ss(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ss=!1;function lv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ss(e,n)}return s=r.interleaved,s===null?(t.next=t,av(r)):(t.next=s.next,s.next=t),r.interleaved=t,ss(e,n)}function Gd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kg(e,n)}}function r0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _u(e,t,n,r){var s=e.updateQueue;Ss=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==a&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(m=t,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(p,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,m=typeof y=="function"?y.call(p,f,m):y,m==null)break e;f=tt({},f,m);break e;case 2:Ss=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Wo|=a,e.lanes=a,e.memoizedState=f}}function s0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var Ac={},Or=lo(Ac),rc=lo(Ac),sc=lo(Ac);function Po(e){if(e===Ac)throw Error(q(174));return e}function cv(e,t){switch($e(sc,t),$e(rc,e),$e(Or,Ac),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vm(t,e)}We(Or),$e(Or,t)}function ha(){We(Or),We(rc),We(sc)}function r1(e){Po(sc.current);var t=Po(Or.current),n=Vm(t,e.type);t!==n&&($e(rc,e),$e(Or,n))}function dv(e){rc.current===e&&(We(Or),We(rc))}var Xe=lo(0);function Su(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vh=[];function uv(){for(var e=0;e<Vh.length;e++)Vh[e]._workInProgressVersionPrimary=null;Vh.length=0}var Yd=ds.ReactCurrentDispatcher,qh=ds.ReactCurrentBatchConfig,Bo=0,Ze=null,dt=null,wt=null,Cu=!1,Al=!1,oc=0,wR=0;function Mt(){throw Error(q(321))}function fv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function hv(e,t,n,r,s,i){if(Bo=i,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yd.current=e===null||e.memoizedState===null?_R:SR,e=n(r,s),Al){i=0;do{if(Al=!1,oc=0,25<=i)throw Error(q(301));i+=1,wt=dt=null,t.updateQueue=null,Yd.current=CR,e=n(r,s)}while(Al)}if(Yd.current=ku,t=dt!==null&&dt.next!==null,Bo=0,wt=dt=Ze=null,Cu=!1,t)throw Error(q(300));return e}function mv(){var e=oc!==0;return oc=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=e:wt=wt.next=e,wt}function Un(){if(dt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=wt===null?Ze.memoizedState:wt.next;if(t!==null)wt=t,dt=e;else{if(e===null)throw Error(q(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},wt===null?Ze.memoizedState=wt=e:wt=wt.next=e}return wt}function ic(e,t){return typeof t=="function"?t(e):t}function Kh(e){var t=Un(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,d=i;do{var u=d.lane;if((Bo&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Ze.lanes|=u,Wo|=u}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=l,ar(r,t.memoizedState)||(on=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ze.lanes|=i,Wo|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gh(e){var t=Un(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);ar(i,t.memoizedState)||(on=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function s1(){}function o1(e,t){var n=Ze,r=Un(),s=t(),i=!ar(r.memoizedState,s);if(i&&(r.memoizedState=s,on=!0),r=r.queue,pv(l1.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,ac(9,a1.bind(null,n,r,s,t),void 0,null),jt===null)throw Error(q(349));Bo&30||i1(n,t,s)}return s}function i1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function a1(e,t,n,r){t.value=n,t.getSnapshot=r,c1(t)&&d1(e)}function l1(e,t,n){return n(function(){c1(t)&&d1(e)})}function c1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch{return!0}}function d1(e){var t=ss(e,1);t!==null&&or(t,e,1,-1)}function o0(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:e},t.queue=e,e=e.dispatch=NR.bind(null,Ze,e),[t.memoizedState,e]}function ac(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function u1(){return Un().memoizedState}function Qd(e,t,n,r){var s=Sr();Ze.flags|=e,s.memoizedState=ac(1|t,n,void 0,r===void 0?null:r)}function wf(e,t,n,r){var s=Un();r=r===void 0?null:r;var i=void 0;if(dt!==null){var a=dt.memoizedState;if(i=a.destroy,r!==null&&fv(r,a.deps)){s.memoizedState=ac(t,n,i,r);return}}Ze.flags|=e,s.memoizedState=ac(1|t,n,i,r)}function i0(e,t){return Qd(8390656,8,e,t)}function pv(e,t){return wf(2048,8,e,t)}function f1(e,t){return wf(4,2,e,t)}function h1(e,t){return wf(4,4,e,t)}function m1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p1(e,t,n){return n=n!=null?n.concat([e]):null,wf(4,4,m1.bind(null,t,e),n)}function gv(){}function g1(e,t){var n=Un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function v1(e,t){var n=Un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function x1(e,t,n){return Bo&21?(ar(n,t)||(n=Nj(),Ze.lanes|=n,Wo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=n)}function bR(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=qh.transition;qh.transition={};try{e(!1),t()}finally{Oe=n,qh.transition=r}}function y1(){return Un().memoizedState}function jR(e,t,n){var r=Ys(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w1(e))b1(t,n);else if(n=t1(e,t,n,r),n!==null){var s=Yt();or(n,e,r,s),j1(n,t,r)}}function NR(e,t,n){var r=Ys(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w1(e))b1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ar(l,a)){var c=t.interleaved;c===null?(s.next=s,av(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=t1(e,t,s,r),n!==null&&(s=Yt(),or(n,e,r,s),j1(n,t,r))}}function w1(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function b1(e,t){Al=Cu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function j1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kg(e,n)}}var ku={readContext:$n,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},_R={readContext:$n,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:$n,useEffect:i0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qd(4194308,4,m1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qd(4,2,e,t)},useMemo:function(e,t){var n=Sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jR.bind(null,Ze,e),[r.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:o0,useDebugValue:gv,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=o0(!1),t=e[0];return e=bR.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ze,s=Sr();if(qe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),jt===null)throw Error(q(349));Bo&30||i1(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,i0(l1.bind(null,r,i,e),[e]),r.flags|=2048,ac(9,a1.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Sr(),t=jt.identifierPrefix;if(qe){var n=Zr,r=Xr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=oc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SR={readContext:$n,useCallback:g1,useContext:$n,useEffect:pv,useImperativeHandle:p1,useInsertionEffect:f1,useLayoutEffect:h1,useMemo:v1,useReducer:Kh,useRef:u1,useState:function(){return Kh(ic)},useDebugValue:gv,useDeferredValue:function(e){var t=Un();return x1(t,dt.memoizedState,e)},useTransition:function(){var e=Kh(ic)[0],t=Un().memoizedState;return[e,t]},useMutableSource:s1,useSyncExternalStore:o1,useId:y1,unstable_isNewReconciler:!1},CR={readContext:$n,useCallback:g1,useContext:$n,useEffect:pv,useImperativeHandle:p1,useInsertionEffect:f1,useLayoutEffect:h1,useMemo:v1,useReducer:Gh,useRef:u1,useState:function(){return Gh(ic)},useDebugValue:gv,useDeferredValue:function(e){var t=Un();return dt===null?t.memoizedState=e:x1(t,dt.memoizedState,e)},useTransition:function(){var e=Gh(ic)[0],t=Un().memoizedState;return[e,t]},useMutableSource:s1,useSyncExternalStore:o1,useId:y1,unstable_isNewReconciler:!1};function Jn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bf={isMounted:function(e){return(e=e._reactInternals)?ei(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yt(),s=Ys(e),i=es(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ks(e,i,s),t!==null&&(or(t,e,s,r),Gd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yt(),s=Ys(e),i=es(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ks(e,i,s),t!==null&&(or(t,e,s,r),Gd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yt(),r=Ys(e),s=es(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ks(e,s,r),t!==null&&(or(t,e,r,n),Gd(t,e,r))}};function a0(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Zl(n,r)||!Zl(s,i):!0}function N1(e,t,n){var r=!1,s=Zs,i=t.contextType;return typeof i=="object"&&i!==null?i=$n(i):(s=cn(t)?Uo:Ut.current,r=t.contextTypes,i=(r=r!=null)?da(e,s):Zs),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function l0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bf.enqueueReplaceState(t,t.state,null)}function hp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},lv(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=$n(i):(i=cn(t)?Uo:Ut.current,s.context=da(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fp(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bf.enqueueReplaceState(s,s.state,null),_u(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ma(e,t){try{var n="",r=t;do n+=eT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Yh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kR=typeof WeakMap=="function"?WeakMap:Map;function _1(e,t,n){n=es(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pu||(Pu=!0,_p=r),mp(e,t)},n}function S1(e,t,n){n=es(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){mp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mp(e,t),typeof r!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function c0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kR;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=zR.bind(null,e,t,n),t.then(e,e))}function d0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u0(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=es(-1,1),t.tag=2,Ks(n,t,1))),n.lanes|=1),e)}var ER=ds.ReactCurrentOwner,on=!1;function Kt(e,t,n,r){t.child=e===null?e1(t,null,n,r):fa(t,e.child,n,r)}function f0(e,t,n,r,s){n=n.render;var i=t.ref;return Ui(t,s),r=hv(e,t,n,r,i,s),n=mv(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,os(e,t,s)):(qe&&n&&tv(t),t.flags|=1,Kt(e,t,r,s),t.child)}function h0(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!_v(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,C1(e,t,i,r,s)):(e=eu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zl,n(a,r)&&e.ref===t.ref)return os(e,t,s)}return t.flags|=1,e=Qs(i,r),e.ref=t.ref,e.return=t,t.child=e}function C1(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Zl(i,r)&&e.ref===t.ref)if(on=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,os(e,t,s)}return pp(e,t,n,r,s)}function k1(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ii,vn),vn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Ii,vn),vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(Ii,vn),vn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,$e(Ii,vn),vn|=r;return Kt(e,t,s,n),t.child}function E1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pp(e,t,n,r,s){var i=cn(n)?Uo:Ut.current;return i=da(t,i),Ui(t,s),n=hv(e,t,n,r,i,s),r=mv(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,os(e,t,s)):(qe&&r&&tv(t),t.flags|=1,Kt(e,t,n,s),t.child)}function m0(e,t,n,r,s){if(cn(n)){var i=!0;yu(t)}else i=!1;if(Ui(t,s),t.stateNode===null)Jd(e,t),N1(t,n,r),hp(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=$n(d):(d=cn(n)?Uo:Ut.current,d=da(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&l0(t,a,r,d),Ss=!1;var m=t.memoizedState;a.state=m,_u(t,r,a,s),c=t.memoizedState,l!==r||m!==c||ln.current||Ss?(typeof u=="function"&&(fp(t,n,u,r),c=t.memoizedState),(l=Ss||a0(t,n,l,r,m,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,n1(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Jn(t.type,l),a.props=d,f=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=$n(c):(c=cn(n)?Uo:Ut.current,c=da(t,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&l0(t,a,r,c),Ss=!1,m=t.memoizedState,a.state=m,_u(t,r,a,s);var y=t.memoizedState;l!==f||m!==y||ln.current||Ss?(typeof p=="function"&&(fp(t,n,p,r),y=t.memoizedState),(d=Ss||a0(t,n,d,r,m,y,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return gp(e,t,n,r,i,s)}function gp(e,t,n,r,s,i){E1(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Zy(t,n,!1),os(e,t,i);r=t.stateNode,ER.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=fa(t,e.child,null,i),t.child=fa(t,null,l,i)):Kt(e,t,l,i),t.memoizedState=r.state,s&&Zy(t,n,!0),t.child}function P1(e){var t=e.stateNode;t.pendingContext?Xy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xy(e,t.context,!1),cv(e,t.containerInfo)}function p0(e,t,n,r,s){return ua(),rv(s),t.flags|=256,Kt(e,t,n,r),t.child}var vp={dehydrated:null,treeContext:null,retryLane:0};function xp(e){return{baseLanes:e,cachePool:null,transitions:null}}function T1(e,t,n){var r=t.pendingProps,s=Xe.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$e(Xe,s&1),e===null)return dp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=_f(a,r,0,null),e=Lo(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=xp(n),t.memoizedState=vp,e):vv(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return PR(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Qs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qs(l,i):(i=Lo(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?xp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=vp,r}return i=e.child,e=i.sibling,r=Qs(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vv(e,t){return t=_f({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yd(e,t,n,r){return r!==null&&rv(r),fa(t,e.child,null,n),e=vv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PR(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Yh(Error(q(422))),yd(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=_f({mode:"visible",children:r.children},s,0,null),i=Lo(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&fa(t,e.child,null,a),t.child.memoizedState=xp(a),t.memoizedState=vp,i);if(!(t.mode&1))return yd(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(q(419)),r=Yh(i,r,void 0),yd(e,t,a,r)}if(l=(a&e.childLanes)!==0,on||l){if(r=jt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ss(e,s),or(r,e,s,-1))}return Nv(),r=Yh(Error(q(421))),yd(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=BR.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,wn=qs(s.nextSibling),bn=t,qe=!0,tr=null,e!==null&&(Mn[An++]=Xr,Mn[An++]=Zr,Mn[An++]=zo,Xr=e.id,Zr=e.overflow,zo=t),t=vv(t,r.children),t.flags|=4096,t)}function g0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),up(e.return,t,n)}function Qh(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function R1(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Kt(e,t,r.children,n),r=Xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&g0(e,n,t);else if(e.tag===19)g0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Xe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Su(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qh(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Su(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qh(t,!0,n,null,i);break;case"together":Qh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function os(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=Qs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function TR(e,t,n){switch(t.tag){case 3:P1(t),ua();break;case 5:r1(t);break;case 1:cn(t.type)&&yu(t);break;case 4:cv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;$e(ju,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Xe,Xe.current&1),t.flags|=128,null):n&t.child.childLanes?T1(e,t,n):($e(Xe,Xe.current&1),e=os(e,t,n),e!==null?e.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return R1(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(Xe,Xe.current),r)break;return null;case 22:case 23:return t.lanes=0,k1(e,t,n)}return os(e,t,n)}var M1,yp,A1,O1;M1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yp=function(){};A1=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Po(Or.current);var i=null;switch(n){case"input":s=zm(e,s),r=zm(e,r),i=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":s=Hm(e,s),r=Hm(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vu)}qm(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ql.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ql.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Be("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};O1=function(e,t,n,r){n!==r&&(t.flags|=4)};function ul(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function RR(e,t,n){var r=t.pendingProps;switch(nv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return cn(t.type)&&xu(),At(t),null;case 3:return r=t.stateNode,ha(),We(ln),We(Ut),uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tr!==null&&(kp(tr),tr=null))),yp(e,t),At(t),null;case 5:dv(t);var s=Po(sc.current);if(n=t.type,e!==null&&t.stateNode!=null)A1(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return At(t),null}if(e=Po(Or.current),vd(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Tr]=t,r[nc]=i,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Nl.length;s++)Be(Nl[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Sy(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":ky(r,i),Be("invalid",r)}qm(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&gd(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&gd(r.textContent,l,e),s=["children",""+l]):ql.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",r)}switch(n){case"input":ld(r),Cy(r,i,!0);break;case"textarea":ld(r),Ey(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lj(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Tr]=t,e[nc]=r,M1(e,t,!1,!1),t.stateNode=e;e:{switch(a=Km(n,r),n){case"dialog":Be("cancel",e),Be("close",e),s=r;break;case"iframe":case"object":case"embed":Be("load",e),s=r;break;case"video":case"audio":for(s=0;s<Nl.length;s++)Be(Nl[s],e);s=r;break;case"source":Be("error",e),s=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=r;break;case"details":Be("toggle",e),s=r;break;case"input":Sy(e,r),s=zm(e,r),Be("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),Be("invalid",e);break;case"textarea":ky(e,r),s=Hm(e,r),Be("invalid",e);break;default:s=r}qm(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?uj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cj(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Kl(e,c):typeof c=="number"&&Kl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ql.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Be("scroll",e):c!=null&&zg(e,i,c,a))}switch(n){case"input":ld(e),Cy(e,r,!1);break;case"textarea":ld(e),Ey(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Di(e,!!r.multiple,i,!1):r.defaultValue!=null&&Di(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)O1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Po(sc.current),Po(Or.current),vd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tr]=t,(i=r.nodeValue!==n)&&(e=bn,e!==null))switch(e.tag){case 3:gd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gd(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=t,t.stateNode=r}return At(t),null;case 13:if(We(Xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&wn!==null&&t.mode&1&&!(t.flags&128))Xj(),ua(),t.flags|=98560,i=!1;else if(i=vd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Tr]=t}else ua(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),i=!1}else tr!==null&&(kp(tr),tr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?ht===0&&(ht=3):Nv())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return ha(),yp(e,t),e===null&&ec(t.stateNode.containerInfo),At(t),null;case 10:return iv(t.type._context),At(t),null;case 17:return cn(t.type)&&xu(),At(t),null;case 19:if(We(Xe),i=t.memoizedState,i===null)return At(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)ul(i,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Su(e),a!==null){for(t.flags|=128,ul(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Xe,Xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&it()>pa&&(t.flags|=128,r=!0,ul(i,!1),t.lanes=4194304)}else{if(!r)if(e=Su(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ul(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!qe)return At(t),null}else 2*it()-i.renderingStartTime>pa&&n!==1073741824&&(t.flags|=128,r=!0,ul(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=it(),t.sibling=null,n=Xe.current,$e(Xe,r?n&1|2:n&1),t):(At(t),null);case 22:case 23:return jv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vn&1073741824&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function MR(e,t){switch(nv(t),t.tag){case 1:return cn(t.type)&&xu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ha(),We(ln),We(Ut),uv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dv(t),null;case 13:if(We(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Xe),null;case 4:return ha(),null;case 10:return iv(t.type._context),null;case 22:case 23:return jv(),null;case 24:return null;default:return null}}var wd=!1,Ft=!1,AR=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Oi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(e,t,r)}else n.current=null}function wp(e,t,n){try{n()}catch(r){st(e,t,r)}}var v0=!1;function OR(e,t){if(rp=mu,e=$j(),ev(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++d===s&&(l=a),m===i&&++u===r&&(c=a),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sp={focusedElem:e,selectionRange:n},mu=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Jn(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){st(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return y=v0,v0=!1,y}function Ol(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&wp(t,n,i)}s=s.next}while(s!==r)}}function jf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function I1(e){var t=e.alternate;t!==null&&(e.alternate=null,I1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[nc],delete t[ap],delete t[gR],delete t[vR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D1(e){return e.tag===5||e.tag===3||e.tag===4}function x0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vu));else if(r!==4&&(e=e.child,e!==null))for(jp(e,t,n),e=e.sibling;e!==null;)jp(e,t,n),e=e.sibling}function Np(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Np(e,t,n),e=e.sibling;e!==null;)Np(e,t,n),e=e.sibling}var _t=null,Zn=!1;function vs(e,t,n){for(n=n.child;n!==null;)F1(e,t,n),n=n.sibling}function F1(e,t,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(mf,n)}catch{}switch(n.tag){case 5:Ft||Oi(n,t);case 6:var r=_t,s=Zn;_t=null,vs(e,t,n),_t=r,Zn=s,_t!==null&&(Zn?(e=_t,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(Zn?(e=_t,n=n.stateNode,e.nodeType===8?Wh(e.parentNode,n):e.nodeType===1&&Wh(e,n),Jl(e)):Wh(_t,n.stateNode));break;case 4:r=_t,s=Zn,_t=n.stateNode.containerInfo,Zn=!0,vs(e,t,n),_t=r,Zn=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&wp(n,t,a),s=s.next}while(s!==r)}vs(e,t,n);break;case 1:if(!Ft&&(Oi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){st(n,t,l)}vs(e,t,n);break;case 21:vs(e,t,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,vs(e,t,n),Ft=r):vs(e,t,n);break;default:vs(e,t,n)}}function y0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new AR),t.forEach(function(r){var s=WR.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:_t=l.stateNode,Zn=!1;break e;case 3:_t=l.stateNode.containerInfo,Zn=!0;break e;case 4:_t=l.stateNode.containerInfo,Zn=!0;break e}l=l.return}if(_t===null)throw Error(q(160));F1(i,a,s),_t=null,Zn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){st(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)L1(t,e),t=t.sibling}function L1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),_r(e),r&4){try{Ol(3,e,e.return),jf(3,e)}catch(g){st(e,e.return,g)}try{Ol(5,e,e.return)}catch(g){st(e,e.return,g)}}break;case 1:Gn(t,e),_r(e),r&512&&n!==null&&Oi(n,n.return);break;case 5:if(Gn(t,e),_r(e),r&512&&n!==null&&Oi(n,n.return),e.flags&32){var s=e.stateNode;try{Kl(s,"")}catch(g){st(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ij(s,i),Km(l,a);var d=Km(l,i);for(a=0;a<c.length;a+=2){var u=c[a],f=c[a+1];u==="style"?uj(s,f):u==="dangerouslySetInnerHTML"?cj(s,f):u==="children"?Kl(s,f):zg(s,u,f,d)}switch(l){case"input":Bm(s,i);break;case"textarea":aj(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Di(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Di(s,!!i.multiple,i.defaultValue,!0):Di(s,!!i.multiple,i.multiple?[]:"",!1))}s[nc]=i}catch(g){st(e,e.return,g)}}break;case 6:if(Gn(t,e),_r(e),r&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){st(e,e.return,g)}}break;case 3:if(Gn(t,e),_r(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jl(t.containerInfo)}catch(g){st(e,e.return,g)}break;case 4:Gn(t,e),_r(e);break;case 13:Gn(t,e),_r(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wv=it())),r&4&&y0(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ft=(d=Ft)||u,Gn(t,e),Ft=d):Gn(t,e),_r(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ne=e,u=e.child;u!==null;){for(f=ne=u;ne!==null;){switch(m=ne,p=m.child,m.tag){case 0:case 11:case 14:case 15:Ol(4,m,m.return);break;case 1:Oi(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){st(r,n,g)}}break;case 5:Oi(m,m.return);break;case 22:if(m.memoizedState!==null){b0(f);continue}}p!==null?(p.return=m,ne=p):b0(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dj("display",a))}catch(g){st(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){st(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gn(t,e),_r(e),r&4&&y0(e);break;case 21:break;default:Gn(t,e),_r(e)}}function _r(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(D1(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Kl(s,""),r.flags&=-33);var i=x0(e);Np(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=x0(e);jp(e,l,a);break;default:throw Error(q(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IR(e,t,n){ne=e,$1(e)}function $1(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||wd;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ft;l=wd;var d=Ft;if(wd=a,(Ft=c)&&!d)for(ne=s;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?j0(s):c!==null?(c.return=a,ne=c):j0(s);for(;i!==null;)ne=i,$1(i),i=i.sibling;ne=s,wd=l,Ft=d}w0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):w0(e)}}function w0(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ft||jf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Jn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&s0(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}s0(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Jl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ft||t.flags&512&&bp(t)}catch(m){st(t,t.return,m)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function b0(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function j0(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jf(4,t)}catch(c){st(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){st(t,s,c)}}var i=t.return;try{bp(t)}catch(c){st(t,i,c)}break;case 5:var a=t.return;try{bp(t)}catch(c){st(t,a,c)}}}catch(c){st(t,t.return,c)}if(t===e){ne=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ne=l;break}ne=t.return}}var DR=Math.ceil,Eu=ds.ReactCurrentDispatcher,xv=ds.ReactCurrentOwner,Dn=ds.ReactCurrentBatchConfig,Te=0,jt=null,lt=null,Ct=0,vn=0,Ii=lo(0),ht=0,lc=null,Wo=0,Nf=0,yv=0,Il=null,rn=null,wv=0,pa=1/0,Gr=null,Pu=!1,_p=null,Gs=null,bd=!1,zs=null,Tu=0,Dl=0,Sp=null,Xd=-1,Zd=0;function Yt(){return Te&6?it():Xd!==-1?Xd:Xd=it()}function Ys(e){return e.mode&1?Te&2&&Ct!==0?Ct&-Ct:yR.transition!==null?(Zd===0&&(Zd=Nj()),Zd):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Tj(e.type)),e):1}function or(e,t,n,r){if(50<Dl)throw Dl=0,Sp=null,Error(q(185));Tc(e,n,r),(!(Te&2)||e!==jt)&&(e===jt&&(!(Te&2)&&(Nf|=n),ht===4&&Ps(e,Ct)),dn(e,r),n===1&&Te===0&&!(t.mode&1)&&(pa=it()+500,yf&&co()))}function dn(e,t){var n=e.callbackNode;yT(e,t);var r=hu(e,e===jt?Ct:0);if(r===0)n!==null&&Ry(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ry(n),t===1)e.tag===0?xR(N0.bind(null,e)):Yj(N0.bind(null,e)),mR(function(){!(Te&6)&&co()}),n=null;else{switch(_j(r)){case 1:n=qg;break;case 4:n=bj;break;case 16:n=fu;break;case 536870912:n=jj;break;default:n=fu}n=K1(n,U1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function U1(e,t){if(Xd=-1,Zd=0,Te&6)throw Error(q(327));var n=e.callbackNode;if(zi()&&e.callbackNode!==n)return null;var r=hu(e,e===jt?Ct:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ru(e,r);else{t=r;var s=Te;Te|=2;var i=B1();(jt!==e||Ct!==t)&&(Gr=null,pa=it()+500,Fo(e,t));do try{$R();break}catch(l){z1(e,l)}while(!0);ov(),Eu.current=i,Te=s,lt!==null?t=0:(jt=null,Ct=0,t=ht)}if(t!==0){if(t===2&&(s=Xm(e),s!==0&&(r=s,t=Cp(e,s))),t===1)throw n=lc,Fo(e,0),Ps(e,r),dn(e,it()),n;if(t===6)Ps(e,r);else{if(s=e.current.alternate,!(r&30)&&!FR(s)&&(t=Ru(e,r),t===2&&(i=Xm(e),i!==0&&(r=i,t=Cp(e,i))),t===1))throw n=lc,Fo(e,0),Ps(e,r),dn(e,it()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:jo(e,rn,Gr);break;case 3:if(Ps(e,r),(r&130023424)===r&&(t=wv+500-it(),10<t)){if(hu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Yt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ip(jo.bind(null,e,rn,Gr),t);break}jo(e,rn,Gr);break;case 4:if(Ps(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-sr(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DR(r/1960))-r,10<r){e.timeoutHandle=ip(jo.bind(null,e,rn,Gr),r);break}jo(e,rn,Gr);break;case 5:jo(e,rn,Gr);break;default:throw Error(q(329))}}}return dn(e,it()),e.callbackNode===n?U1.bind(null,e):null}function Cp(e,t){var n=Il;return e.current.memoizedState.isDehydrated&&(Fo(e,t).flags|=256),e=Ru(e,t),e!==2&&(t=rn,rn=n,t!==null&&kp(t)),e}function kp(e){rn===null?rn=e:rn.push.apply(rn,e)}function FR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ps(e,t){for(t&=~yv,t&=~Nf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sr(t),r=1<<n;e[n]=-1,t&=~r}}function N0(e){if(Te&6)throw Error(q(327));zi();var t=hu(e,0);if(!(t&1))return dn(e,it()),null;var n=Ru(e,t);if(e.tag!==0&&n===2){var r=Xm(e);r!==0&&(t=r,n=Cp(e,r))}if(n===1)throw n=lc,Fo(e,0),Ps(e,t),dn(e,it()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,rn,Gr),dn(e,it()),null}function bv(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(pa=it()+500,yf&&co())}}function Ho(e){zs!==null&&zs.tag===0&&!(Te&6)&&zi();var t=Te;Te|=1;var n=Dn.transition,r=Oe;try{if(Dn.transition=null,Oe=1,e)return e()}finally{Oe=r,Dn.transition=n,Te=t,!(Te&6)&&co()}}function jv(){vn=Ii.current,We(Ii)}function Fo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hR(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(nv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xu();break;case 3:ha(),We(ln),We(Ut),uv();break;case 5:dv(r);break;case 4:ha();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:iv(r.type._context);break;case 22:case 23:jv()}n=n.return}if(jt=e,lt=e=Qs(e.current,null),Ct=vn=t,ht=0,lc=null,yv=Nf=Wo=0,rn=Il=null,Eo!==null){for(t=0;t<Eo.length;t++)if(n=Eo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Eo=null}return e}function z1(e,t){do{var n=lt;try{if(ov(),Yd.current=ku,Cu){for(var r=Ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Cu=!1}if(Bo=0,wt=dt=Ze=null,Al=!1,oc=0,xv.current=null,n===null||n.return===null){ht=1,lc=t,lt=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=d0(a);if(p!==null){p.flags&=-257,u0(p,a,l,i,t),p.mode&1&&c0(i,d,t),t=p,c=d;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){c0(i,d,t),Nv();break e}c=Error(q(426))}}else if(qe&&l.mode&1){var v=d0(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),u0(v,a,l,i,t),rv(ma(c,l));break e}}i=c=ma(c,l),ht!==4&&(ht=2),Il===null?Il=[i]:Il.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=_1(i,c,t);r0(i,x);break e;case 1:l=c;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Gs===null||!Gs.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=S1(i,l,t);r0(i,j);break e}}i=i.return}while(i!==null)}H1(n)}catch(_){t=_,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function B1(){var e=Eu.current;return Eu.current=ku,e===null?ku:e}function Nv(){(ht===0||ht===3||ht===2)&&(ht=4),jt===null||!(Wo&268435455)&&!(Nf&268435455)||Ps(jt,Ct)}function Ru(e,t){var n=Te;Te|=2;var r=B1();(jt!==e||Ct!==t)&&(Gr=null,Fo(e,t));do try{LR();break}catch(s){z1(e,s)}while(!0);if(ov(),Te=n,Eu.current=r,lt!==null)throw Error(q(261));return jt=null,Ct=0,ht}function LR(){for(;lt!==null;)W1(lt)}function $R(){for(;lt!==null&&!dT();)W1(lt)}function W1(e){var t=q1(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?H1(e):lt=t,xv.current=null}function H1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=MR(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,lt=null;return}}else if(n=RR(n,t,vn),n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ht===0&&(ht=5)}function jo(e,t,n){var r=Oe,s=Dn.transition;try{Dn.transition=null,Oe=1,UR(e,t,n,r)}finally{Dn.transition=s,Oe=r}return null}function UR(e,t,n,r){do zi();while(zs!==null);if(Te&6)throw Error(q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(wT(e,i),e===jt&&(lt=jt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bd||(bd=!0,K1(fu,function(){return zi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dn.transition,Dn.transition=null;var a=Oe;Oe=1;var l=Te;Te|=4,xv.current=null,OR(e,n),L1(n,e),iR(sp),mu=!!rp,sp=rp=null,e.current=n,IR(n),uT(),Te=l,Oe=a,Dn.transition=i}else e.current=n;if(bd&&(bd=!1,zs=e,Tu=s),i=e.pendingLanes,i===0&&(Gs=null),mT(n.stateNode),dn(e,it()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Pu)throw Pu=!1,e=_p,_p=null,e;return Tu&1&&e.tag!==0&&zi(),i=e.pendingLanes,i&1?e===Sp?Dl++:(Dl=0,Sp=e):Dl=0,co(),null}function zi(){if(zs!==null){var e=_j(Tu),t=Dn.transition,n=Oe;try{if(Dn.transition=null,Oe=16>e?16:e,zs===null)var r=!1;else{if(e=zs,zs=null,Tu=0,Te&6)throw Error(q(331));var s=Te;for(Te|=4,ne=e.current;ne!==null;){var i=ne,a=i.child;if(ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ne=d;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:Ol(8,u,i)}var f=u.child;if(f!==null)f.return=u,ne=f;else for(;ne!==null;){u=ne;var m=u.sibling,p=u.return;if(I1(u),u===d){ne=null;break}if(m!==null){m.return=p,ne=m;break}ne=p}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ne=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ne=a;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ol(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ne=x;break e}ne=i.return}}var w=e.current;for(ne=w;ne!==null;){a=ne;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ne=b;else e:for(a=w;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jf(9,l)}}catch(_){st(l,l.return,_)}if(l===a){ne=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ne=j;break e}ne=l.return}}if(Te=s,co(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(mf,e)}catch{}r=!0}return r}finally{Oe=n,Dn.transition=t}}return!1}function _0(e,t,n){t=ma(n,t),t=_1(e,t,1),e=Ks(e,t,1),t=Yt(),e!==null&&(Tc(e,1,t),dn(e,t))}function st(e,t,n){if(e.tag===3)_0(e,e,n);else for(;t!==null;){if(t.tag===3){_0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gs===null||!Gs.has(r))){e=ma(n,e),e=S1(t,e,1),t=Ks(t,e,1),e=Yt(),t!==null&&(Tc(t,1,e),dn(t,e));break}}t=t.return}}function zR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Yt(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(Ct&n)===n&&(ht===4||ht===3&&(Ct&130023424)===Ct&&500>it()-wv?Fo(e,0):yv|=n),dn(e,t)}function V1(e,t){t===0&&(e.mode&1?(t=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):t=1);var n=Yt();e=ss(e,t),e!==null&&(Tc(e,t,n),dn(e,n))}function BR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),V1(e,n)}function WR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),V1(e,n)}var q1;q1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)on=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return on=!1,TR(e,t,n);on=!!(e.flags&131072)}else on=!1,qe&&t.flags&1048576&&Qj(t,bu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jd(e,t),e=t.pendingProps;var s=da(t,Ut.current);Ui(t,n),s=hv(null,t,r,e,s,n);var i=mv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(r)?(i=!0,yu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lv(t),s.updater=bf,t.stateNode=s,s._reactInternals=t,hp(t,r,e,n),t=gp(null,t,r,!0,i,n)):(t.tag=0,qe&&i&&tv(t),Kt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=VR(r),e=Jn(r,e),s){case 0:t=pp(null,t,r,e,n);break e;case 1:t=m0(null,t,r,e,n);break e;case 11:t=f0(null,t,r,e,n);break e;case 14:t=h0(null,t,r,Jn(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),pp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),m0(e,t,r,s,n);case 3:e:{if(P1(t),e===null)throw Error(q(387));r=t.pendingProps,i=t.memoizedState,s=i.element,n1(e,t),_u(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ma(Error(q(423)),t),t=p0(e,t,r,n,s);break e}else if(r!==s){s=ma(Error(q(424)),t),t=p0(e,t,r,n,s);break e}else for(wn=qs(t.stateNode.containerInfo.firstChild),bn=t,qe=!0,tr=null,n=e1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),r===s){t=os(e,t,n);break e}Kt(e,t,r,n)}t=t.child}return t;case 5:return r1(t),e===null&&dp(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,op(r,s)?a=null:i!==null&&op(r,i)&&(t.flags|=32),E1(e,t),Kt(e,t,a,n),t.child;case 6:return e===null&&dp(t),null;case 13:return T1(e,t,n);case 4:return cv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fa(t,null,r,n):Kt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),f0(e,t,r,s,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,$e(ju,r._currentValue),r._currentValue=a,i!==null)if(ar(i.value,a)){if(i.children===s.children&&!ln.current){t=os(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=es(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),up(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(q(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),up(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Kt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ui(t,n),s=$n(s),r=r(s),t.flags|=1,Kt(e,t,r,n),t.child;case 14:return r=t.type,s=Jn(r,t.pendingProps),s=Jn(r.type,s),h0(e,t,r,s,n);case 15:return C1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),Jd(e,t),t.tag=1,cn(r)?(e=!0,yu(t)):e=!1,Ui(t,n),N1(t,r,s),hp(t,r,s,n),gp(null,t,r,!0,e,n);case 19:return R1(e,t,n);case 22:return k1(e,t,n)}throw Error(q(156,t.tag))};function K1(e,t){return wj(e,t)}function HR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,n,r){return new HR(e,t,n,r)}function _v(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VR(e){if(typeof e=="function")return _v(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wg)return 11;if(e===Hg)return 14}return 2}function Qs(e,t){var n=e.alternate;return n===null?(n=On(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eu(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")_v(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Si:return Lo(n.children,s,i,t);case Bg:a=8,s|=8;break;case Fm:return e=On(12,n,t,s|2),e.elementType=Fm,e.lanes=i,e;case Lm:return e=On(13,n,t,s),e.elementType=Lm,e.lanes=i,e;case $m:return e=On(19,n,t,s),e.elementType=$m,e.lanes=i,e;case rj:return _f(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tj:a=10;break e;case nj:a=9;break e;case Wg:a=11;break e;case Hg:a=14;break e;case _s:a=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=On(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Lo(e,t,n,r){return e=On(7,e,r,t),e.lanes=n,e}function _f(e,t,n,r){return e=On(22,e,r,t),e.elementType=rj,e.lanes=n,e.stateNode={isHidden:!1},e}function Jh(e,t,n){return e=On(6,e,null,t),e.lanes=n,e}function Xh(e,t,n){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qR(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mh(0),this.expirationTimes=Mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sv(e,t,n,r,s,i,a,l,c){return e=new qR(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=On(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lv(i),e}function KR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function G1(e){if(!e)return Zs;e=e._reactInternals;e:{if(ei(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(cn(n))return Gj(e,n,t)}return t}function Y1(e,t,n,r,s,i,a,l,c){return e=Sv(n,r,!0,e,s,i,a,l,c),e.context=G1(null),n=e.current,r=Yt(),s=Ys(n),i=es(r,s),i.callback=t??null,Ks(n,i,s),e.current.lanes=s,Tc(e,s,r),dn(e,r),e}function Sf(e,t,n,r){var s=t.current,i=Yt(),a=Ys(s);return n=G1(n),t.context===null?t.context=n:t.pendingContext=n,t=es(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ks(s,t,a),e!==null&&(or(e,s,a,i),Gd(e,s,a)),a}function Mu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function S0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cv(e,t){S0(e,t),(e=e.alternate)&&S0(e,t)}function GR(){return null}var Q1=typeof reportError=="function"?reportError:function(e){console.error(e)};function kv(e){this._internalRoot=e}Cf.prototype.render=kv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Sf(e,t,null,null)};Cf.prototype.unmount=kv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ho(function(){Sf(null,e,null,null)}),t[rs]=null}};function Cf(e){this._internalRoot=e}Cf.prototype.unstable_scheduleHydration=function(e){if(e){var t=kj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Es.length&&t!==0&&t<Es[n].priority;n++);Es.splice(n,0,e),n===0&&Pj(e)}};function Ev(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function C0(){}function YR(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Mu(a);i.call(d)}}var a=Y1(t,r,e,0,null,!1,!1,"",C0);return e._reactRootContainer=a,e[rs]=a.current,ec(e.nodeType===8?e.parentNode:e),Ho(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Mu(c);l.call(d)}}var c=Sv(e,0,!1,null,null,!1,!1,"",C0);return e._reactRootContainer=c,e[rs]=c.current,ec(e.nodeType===8?e.parentNode:e),Ho(function(){Sf(t,c,n,r)}),c}function Ef(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Mu(a);l.call(c)}}Sf(t,a,e,s)}else a=YR(n,t,e,s,r);return Mu(a)}Sj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jl(t.pendingLanes);n!==0&&(Kg(t,n|1),dn(t,it()),!(Te&6)&&(pa=it()+500,co()))}break;case 13:Ho(function(){var r=ss(e,1);if(r!==null){var s=Yt();or(r,e,1,s)}}),Cv(e,1)}};Gg=function(e){if(e.tag===13){var t=ss(e,134217728);if(t!==null){var n=Yt();or(t,e,134217728,n)}Cv(e,134217728)}};Cj=function(e){if(e.tag===13){var t=Ys(e),n=ss(e,t);if(n!==null){var r=Yt();or(n,e,t,r)}Cv(e,t)}};kj=function(){return Oe};Ej=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};Ym=function(e,t,n){switch(t){case"input":if(Bm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=xf(r);if(!s)throw Error(q(90));oj(r),Bm(r,s)}}}break;case"textarea":aj(e,n);break;case"select":t=n.value,t!=null&&Di(e,!!n.multiple,t,!1)}};mj=bv;pj=Ho;var QR={usingClientEntryPoint:!1,Events:[Mc,Pi,xf,fj,hj,bv]},fl={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JR={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xj(e),e===null?null:e.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||GR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{mf=jd.inject(JR),Ar=jd}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QR;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ev(t))throw Error(q(200));return KR(e,t,null,n)};_n.createRoot=function(e,t){if(!Ev(e))throw Error(q(299));var n=!1,r="",s=Q1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Sv(e,1,!1,null,null,n,!1,r,s),e[rs]=t.current,ec(e.nodeType===8?e.parentNode:e),new kv(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=xj(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return Ho(e)};_n.hydrate=function(e,t,n){if(!kf(t))throw Error(q(200));return Ef(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!Ev(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Q1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Y1(t,null,e,1,n??null,s,!1,i,a),e[rs]=t.current,ec(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Cf(t)};_n.render=function(e,t,n){if(!kf(t))throw Error(q(200));return Ef(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!kf(e))throw Error(q(40));return e._reactRootContainer?(Ho(function(){Ef(null,null,e,!1,function(){e._reactRootContainer=null,e[rs]=null})}),!0):!1};_n.unstable_batchedUpdates=bv;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!kf(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Ef(e,t,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function J1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J1)}catch(e){console.error(e)}}J1(),Jb.exports=_n;var In=Jb.exports;const X1=Lb(In);var Z1,k0=In;Z1=k0.createRoot,k0.hydrateRoot;const XR=1,ZR=1e6;let Zh=0;function eM(){return Zh=(Zh+1)%Number.MAX_SAFE_INTEGER,Zh.toString()}const em=new Map,E0=e=>{if(em.has(e))return;const t=setTimeout(()=>{em.delete(e),Fl({type:"REMOVE_TOAST",toastId:e})},ZR);em.set(e,t)},tM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,XR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?E0(n):e.toasts.forEach(r=>{E0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},tu=[];let nu={toasts:[]};function Fl(e){nu=tM(nu,e),tu.forEach(t=>{t(nu)})}function nM({...e}){const t=eM(),n=s=>Fl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Fl({type:"DISMISS_TOAST",toastId:t});return Fl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function ke(){const[e,t]=h.useState(nu);return h.useEffect(()=>(tu.push(t),()=>{const n=tu.indexOf(t);n>-1&&tu.splice(n,1)}),[e]),{...e,toast:nM,dismiss:n=>Fl({type:"DISMISS_TOAST",toastId:n})}}function K(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function rM(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Pf(...e){return t=>e.forEach(n=>rM(n,t))}function ye(...e){return h.useCallback(Pf(...e),e)}function sM(e,t=[]){let n=[];function r(i,a){const l=h.createContext(a),c=n.length;n=[...n,a];function d(f){const{scope:m,children:p,...y}=f,g=(m==null?void 0:m[e][c])||l,v=h.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})}function u(f,m){const p=(m==null?void 0:m[e][c])||l,y=h.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=n.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,oM(s,...t)]}function oM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var is=h.forwardRef((e,t)=>{const{children:n,...r}=e,s=h.Children.toArray(n),i=s.find(iM);if(i){const a=i.props.children,l=s.map(c=>c===i?h.Children.count(a)>1?h.Children.only(null):h.isValidElement(a)?a.props.children:null:c);return o.jsx(Ep,{...r,ref:t,children:h.isValidElement(a)?h.cloneElement(a,void 0,l):null})}return o.jsx(Ep,{...r,ref:t,children:n})});is.displayName="Slot";var Ep=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const s=lM(n);return h.cloneElement(n,{...aM(r,n.props),ref:t?Pf(t,s):s})}return h.Children.count(n)>1?h.Children.only(null):null});Ep.displayName="SlotClone";var Pv=({children:e})=>o.jsx(o.Fragment,{children:e});function iM(e){return h.isValidElement(e)&&e.type===Pv}function aM(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function lM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Tf(e){const t=e+"CollectionProvider",[n,r]=sM(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:y,children:g}=p,v=F.useRef(null),x=F.useRef(new Map).current;return o.jsx(s,{scope:y,itemMap:x,collectionRef:v,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=F.forwardRef((p,y)=>{const{scope:g,children:v}=p,x=i(l,g),w=ye(y,x.collectionRef);return o.jsx(is,{ref:w,children:v})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=F.forwardRef((p,y)=>{const{scope:g,children:v,...x}=p,w=F.useRef(null),b=ye(y,w),j=i(d,g);return F.useEffect(()=>(j.itemMap.set(w,{ref:w,...x}),()=>void j.itemMap.delete(w))),o.jsx(is,{[u]:"",ref:b,children:v})});f.displayName=d;function m(p){const y=i(e+"CollectionConsumer",p);return F.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((j,_)=>x.indexOf(j.ref.current)-x.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},m,r]}function cM(e,t){const n=h.createContext(t),r=i=>{const{children:a,...l}=i,c=h.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=h.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Hn(e,t=[]){let n=[];function r(i,a){const l=h.createContext(a),c=n.length;n=[...n,a];const d=f=>{var x;const{scope:m,children:p,...y}=f,g=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,v=h.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})};d.displayName=i+"Provider";function u(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,y=h.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=n.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,dM(s,...t)]}function dM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var uM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ae=uM.reduce((e,t)=>{const n=h.forwardRef((r,s)=>{const{asChild:i,...a}=r,l=i?is:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Tv(e,t){e&&In.flushSync(()=>e.dispatchEvent(t))}function Ke(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function fM(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var hM="DismissableLayer",Pp="dismissableLayer.update",mM="dismissableLayer.pointerDownOutside",pM="dismissableLayer.focusOutside",P0,eN=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ti=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,d=h.useContext(eN),[u,f]=h.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),y=ye(t,N=>f(N)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),w=u?g.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=w>=x,_=vM(N=>{const k=N.target,E=[...d.branches].some(R=>R.contains(k));!j||E||(s==null||s(N),a==null||a(N),N.defaultPrevented||l==null||l())},m),C=xM(N=>{const k=N.target;[...d.branches].some(R=>R.contains(k))||(i==null||i(N),a==null||a(N),N.defaultPrevented||l==null||l())},m);return fM(N=>{w===d.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),h.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(P0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),T0(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=P0)}},[u,m,n,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),T0())},[u,d]),h.useEffect(()=>{const N=()=>p({});return document.addEventListener(Pp,N),()=>document.removeEventListener(Pp,N)},[]),o.jsx(ae.div,{...c,ref:y,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:K(e.onFocusCapture,C.onFocusCapture),onBlurCapture:K(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:K(e.onPointerDownCapture,_.onPointerDownCapture)})});ti.displayName=hM;var gM="DismissableLayerBranch",tN=h.forwardRef((e,t)=>{const n=h.useContext(eN),r=h.useRef(null),s=ye(t,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(ae.div,{...e,ref:s})});tN.displayName=gM;function vM(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){nN(mM,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function xM(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e),r=h.useRef(!1);return h.useEffect(()=>{const s=i=>{i.target&&!r.current&&nN(pM,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function T0(){const e=new CustomEvent(Pp);document.dispatchEvent(e)}function nN(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Tv(s,i):s.dispatchEvent(i)}var yM=ti,wM=tN,pt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},bM="Portal",Ea=h.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=h.useState(!1);pt(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?X1.createPortal(o.jsx(ae.div,{...r,ref:t}),a):null});Ea.displayName=bM;function jM(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Rt=e=>{const{present:t,children:n}=e,r=NM(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=ye(r.ref,_M(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:i}):null};Rt.displayName="Presence";function NM(e){const[t,n]=h.useState(),r=h.useRef({}),s=h.useRef(e),i=h.useRef("none"),a=e?"mounted":"unmounted",[l,c]=jM(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Nd(r.current);i.current=l==="mounted"?d:"none"},[l]),pt(()=>{const d=r.current,u=s.current;if(u!==e){const m=i.current,p=Nd(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),pt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const g=Nd(r.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=p=>{p.target===t&&(i.current=Nd(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Nd(e){return(e==null?void 0:e.animationName)||"none"}function _M(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function zn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=SM({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,l=Ke(n),c=h.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else s(d)},[i,e,s,l]);return[a,c]}function SM({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,s=h.useRef(r),i=Ke(t);return h.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var CM="VisuallyHidden",Oc=h.forwardRef((e,t)=>o.jsx(ae.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Oc.displayName=CM;var kM=Oc,Rv="ToastProvider",[Mv,EM,PM]=Tf("Toast"),[rN,lH]=Hn("Toast",[PM]),[TM,Rf]=rN(Rv),sN=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Rv}\`. Expected non-empty \`string\`.`),o.jsx(Mv.Provider,{scope:t,children:o.jsx(TM,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(p=>p+1),[]),onToastRemove:h.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};sN.displayName=Rv;var oN="ToastViewport",RM=["F8"],Tp="toast.viewportPause",Rp="toast.viewportResume",iN=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=RM,label:s="Notifications ({hotkey})",...i}=e,a=Rf(oN,n),l=EM(n),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=ye(t,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;h.useEffect(()=>{const v=x=>{var b;r.length!==0&&r.every(j=>x[j]||x.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),h.useEffect(()=>{const v=c.current,x=f.current;if(y&&v&&x){const w=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(Tp);x.dispatchEvent(C),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(Rp);x.dispatchEvent(C),a.isClosePausedRef.current=!1}},j=C=>{!v.contains(C.relatedTarget)&&b()},_=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",w),v.addEventListener("focusout",j),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",_),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[y,a.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:v})=>{const w=l().map(b=>{const j=b.ref.current,_=[j,...HM(j)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return h.useEffect(()=>{const v=f.current;if(v){const x=w=>{var _,C,N;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const k=document.activeElement,E=w.shiftKey;if(w.target===v&&E){(_=d.current)==null||_.focus();return}const O=g({tabbingDirection:E?"backwards":"forwards"}),A=O.findIndex(I=>I===k);tm(O.slice(A+1))?w.preventDefault():E?(C=d.current)==null||C.focus():(N=u.current)==null||N.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,g]),o.jsxs(wM,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(Mp,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});tm(v)}}),o.jsx(Mv.Slot,{scope:n,children:o.jsx(ae.ol,{tabIndex:-1,...i,ref:m})}),y&&o.jsx(Mp,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});tm(v)}})]})});iN.displayName=oN;var aN="ToastFocusProxy",Mp=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Rf(aN,n);return o.jsx(Oc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});Mp.displayName=aN;var Mf="Toast",MM="toast.swipeStart",AM="toast.swipeMove",OM="toast.swipeCancel",IM="toast.swipeEnd",lN=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[l=!0,c]=zn({prop:r,defaultProp:s,onChange:i});return o.jsx(Rt,{present:n||l,children:o.jsx(LM,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Ke(e.onPause),onResume:Ke(e.onResume),onSwipeStart:K(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:K(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:K(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:K(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});lN.displayName=Mf;var[DM,FM]=rN(Mf,{onClose(){}}),LM=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...y}=e,g=Rf(Mf,n),[v,x]=h.useState(null),w=ye(t,I=>x(I)),b=h.useRef(null),j=h.useRef(null),_=s||g.duration,C=h.useRef(0),N=h.useRef(_),k=h.useRef(0),{onToastAdd:E,onToastRemove:R}=g,M=Ke(()=>{var W;(v==null?void 0:v.contains(document.activeElement))&&((W=g.viewport)==null||W.focus()),a()}),O=h.useCallback(I=>{!I||I===1/0||(window.clearTimeout(k.current),C.current=new Date().getTime(),k.current=window.setTimeout(M,I))},[M]);h.useEffect(()=>{const I=g.viewport;if(I){const W=()=>{O(N.current),d==null||d()},U=()=>{const D=new Date().getTime()-C.current;N.current=N.current-D,window.clearTimeout(k.current),c==null||c()};return I.addEventListener(Tp,U),I.addEventListener(Rp,W),()=>{I.removeEventListener(Tp,U),I.removeEventListener(Rp,W)}}},[g.viewport,_,c,d,O]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&O(_)},[i,_,g.isClosePausedRef,O]),h.useEffect(()=>(E(),()=>R()),[E,R]);const A=h.useMemo(()=>v?pN(v):null,[v]);return g.viewport?o.jsxs(o.Fragment,{children:[A&&o.jsx($M,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),o.jsx(DM,{scope:n,onClose:M,children:In.createPortal(o.jsx(Mv.ItemSlot,{scope:n,children:o.jsx(yM,{asChild:!0,onEscapeKeyDown:K(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:K(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:K(e.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:K(e.onPointerMove,I=>{if(!b.current)return;const W=I.clientX-b.current.x,U=I.clientY-b.current.y,D=!!j.current,S=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=S?T(0,W):0,B=S?0:T(0,U),H=I.pointerType==="touch"?10:2,V={x:z,y:B},J={originalEvent:I,delta:V};D?(j.current=V,_d(AM,f,J,{discrete:!1})):R0(V,g.swipeDirection,H)?(j.current=V,_d(MM,u,J,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(W)>H||Math.abs(U)>H)&&(b.current=null)}),onPointerUp:K(e.onPointerUp,I=>{const W=j.current,U=I.target;if(U.hasPointerCapture(I.pointerId)&&U.releasePointerCapture(I.pointerId),j.current=null,b.current=null,W){const D=I.currentTarget,S={originalEvent:I,delta:W};R0(W,g.swipeDirection,g.swipeThreshold)?_d(IM,p,S,{discrete:!0}):_d(OM,m,S,{discrete:!0}),D.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),$M=e=>{const{__scopeToast:t,children:n,...r}=e,s=Rf(Mf,t),[i,a]=h.useState(!1),[l,c]=h.useState(!1);return BM(()=>a(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:o.jsx(Ea,{asChild:!0,children:o.jsx(Oc,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},UM="ToastTitle",cN=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ae.div,{...r,ref:t})});cN.displayName=UM;var zM="ToastDescription",dN=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ae.div,{...r,ref:t})});dN.displayName=zM;var uN="ToastAction",fN=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(mN,{altText:n,asChild:!0,children:o.jsx(Av,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${uN}\`. Expected non-empty \`string\`.`),null)});fN.displayName=uN;var hN="ToastClose",Av=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=FM(hN,n);return o.jsx(mN,{asChild:!0,children:o.jsx(ae.button,{type:"button",...r,ref:t,onClick:K(e.onClick,s.onClose)})})});Av.displayName=hN;var mN=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function pN(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),WM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...pN(r))}}),t}function _d(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Tv(s,i):s.dispatchEvent(i)}var R0=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function BM(e=()=>{}){const t=Ke(e);pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function WM(e){return e.nodeType===e.ELEMENT_NODE}function HM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var VM=sN,gN=iN,vN=lN,xN=cN,yN=dN,wN=fN,bN=Av;function jN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=jN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function NN(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=jN(e))&&(r&&(r+=" "),r+=t);return r}const M0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,A0=NN,ni=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return A0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(d=>{const u=n==null?void 0:n[d],f=i==null?void 0:i[d];if(u===null)return null;const m=M0(u)||M0(f);return s[d][m]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:f,className:m,...p}=u;return Object.entries(p).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...d,f,m]:d},[]);return A0(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_N=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>h.createElement("svg",{ref:c,...KM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:_N("lucide",s),...l},[...a.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const n=h.forwardRef(({className:r,...s},i)=>h.createElement(GM,{ref:i,iconNode:t,className:_N(`lucide-${qM(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=ee("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ee("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ee("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=ee("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ee("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=ee("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ee("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=ee("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=ee("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=ee("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ee("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ee("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ee("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=ee("Replace",[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=ee("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=ee("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Lv="-",jA=e=>{const t=_A(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(Lv);return l[0]===""&&l.length!==1&&l.shift(),RN(l,t)||NA(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},RN=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?RN(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Lv);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},$0=/^\[(.+)\]$/,NA=e=>{if($0.test(e)){const t=$0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},_A=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return CA(Object.entries(e.classGroups),n).forEach(([i,a])=>{Dp(a,r,i,t)}),r},Dp=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:U0(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(SA(s)){Dp(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Dp(a,U0(t,i),n,r)})})},U0=(e,t)=>{let n=e;return t.split(Lv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SA=e=>e.isThemeGetter,CA=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,s]}):e,kA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},MN="!",EA=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let d=0,u=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(d===0){if(x===s&&(r||l.slice(v,v+i)===t)){c.push(l.slice(u,v)),u=v+i;continue}if(x==="/"){f=v;continue}}x==="["?d++:x==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(MN),y=p?m.substring(1):m,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},PA=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},TA=e=>({cache:kA(e.cacheSize),parseClassName:EA(e),...jA(e)}),RA=/\s+/,MA=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(RA);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(d);let y=!!p,g=r(y?m.substring(0,p):m);if(!g){if(!y){l=d+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=d+(l.length>0?" "+l:l);continue}y=!1}const v=PA(u).join(":"),x=f?v+MN:v,w=x+g;if(i.includes(w))continue;i.push(w);const b=s(g,y);for(let j=0;j<b.length;++j){const _=b[j];i.push(x+_)}l=d+(l.length>0?" "+l:l)}return l};function AA(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=AN(t))&&(r&&(r+=" "),r+=n);return r}const AN=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=AN(e[r]))&&(n&&(n+=" "),n+=t);return n};function OA(e,...t){let n,r,s,i=a;function a(c){const d=t.reduce((u,f)=>f(u),e());return n=TA(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=MA(c,n);return s(c,u),u}return function(){return i(AA.apply(null,arguments))}}const ze=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ON=/^\[(?:([a-z-]+):)?(.+)\]$/i,IA=/^\d+\/\d+$/,DA=new Set(["px","full","screen"]),FA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$A=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,UA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hr=e=>Bi(e)||DA.has(e)||IA.test(e),xs=e=>Pa(e,"length",YA),Bi=e=>!!e&&!Number.isNaN(Number(e)),rm=e=>Pa(e,"number",Bi),ml=e=>!!e&&Number.isInteger(Number(e)),BA=e=>e.endsWith("%")&&Bi(e.slice(0,-1)),we=e=>ON.test(e),ys=e=>FA.test(e),WA=new Set(["length","size","percentage"]),HA=e=>Pa(e,WA,IN),VA=e=>Pa(e,"position",IN),qA=new Set(["image","url"]),KA=e=>Pa(e,qA,JA),GA=e=>Pa(e,"",QA),pl=()=>!0,Pa=(e,t,n)=>{const r=ON.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},YA=e=>LA.test(e)&&!$A.test(e),IN=()=>!1,QA=e=>UA.test(e),JA=e=>zA.test(e),XA=()=>{const e=ze("colors"),t=ze("spacing"),n=ze("blur"),r=ze("brightness"),s=ze("borderColor"),i=ze("borderRadius"),a=ze("borderSpacing"),l=ze("borderWidth"),c=ze("contrast"),d=ze("grayscale"),u=ze("hueRotate"),f=ze("invert"),m=ze("gap"),p=ze("gradientColorStops"),y=ze("gradientColorStopPositions"),g=ze("inset"),v=ze("margin"),x=ze("opacity"),w=ze("padding"),b=ze("saturate"),j=ze("scale"),_=ze("sepia"),C=ze("skew"),N=ze("space"),k=ze("translate"),E=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",we,t],O=()=>[we,t],A=()=>["",Hr,xs],I=()=>["auto",Bi,we],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",we],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Bi,we];return{cacheSize:500,separator:":",theme:{colors:[pl],spacing:[Hr,xs],blur:["none","",ys,we],brightness:B(),borderColor:[e],borderRadius:["none","","full",ys,we],borderSpacing:O(),borderWidth:A(),contrast:B(),grayscale:T(),hueRotate:B(),invert:T(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[BA,xs],inset:M(),margin:M(),opacity:B(),padding:O(),saturate:B(),scale:B(),sepia:T(),skew:B(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[ys]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),we]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ml,we]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",ml,we]}],"grid-cols":[{"grid-cols":[pl]}],"col-start-end":[{col:["auto",{span:["full",ml,we]},we]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[pl]}],"row-start-end":[{row:["auto",{span:[ml,we]},we]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,t]}],"min-w":[{"min-w":[we,t,"min","max","fit"]}],"max-w":[{"max-w":[we,t,"none","full","min","max","fit","prose",{screen:[ys]},ys]}],h:[{h:[we,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ys,xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rm]}],"font-family":[{font:[pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",Bi,rm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hr,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hr,xs]}],"underline-offset":[{"underline-offset":["auto",Hr,we]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),VA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Hr,we]}],"outline-w":[{outline:[Hr,xs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Hr,xs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ys,GA]}],"shadow-color":[{shadow:[pl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ys,we]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ml,we]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Hr,xs,rm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZA=OA(XA);function Y(...e){return ZA(NN(e))}const eO=VM,DN=h.forwardRef(({className:e,...t},n)=>o.jsx(gN,{ref:n,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));DN.displayName=gN.displayName;const tO=ni("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),FN=h.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(vN,{ref:r,className:Y(tO({variant:t}),e),...n}));FN.displayName=vN.displayName;const nO=h.forwardRef(({className:e,...t},n)=>o.jsx(wN,{ref:n,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));nO.displayName=wN.displayName;const LN=h.forwardRef(({className:e,...t},n)=>o.jsx(bN,{ref:n,className:Y("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(no,{className:"h-4 w-4"})}));LN.displayName=bN.displayName;const $N=h.forwardRef(({className:e,...t},n)=>o.jsx(xN,{ref:n,className:Y("text-sm font-semibold",e),...t}));$N.displayName=xN.displayName;const UN=h.forwardRef(({className:e,...t},n)=>o.jsx(yN,{ref:n,className:Y("text-sm opacity-90",e),...t}));UN.displayName=yN.displayName;function rO(){const{toasts:e}=ke();return o.jsxs(eO,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return o.jsxs(FN,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx($N,{children:n}),r&&o.jsx(UN,{children:r})]}),s,o.jsx(LN,{})]},t)}),o.jsx(DN,{})]})}var Fu=["light","dark"],$v="(prefers-color-scheme: dark)",sO=typeof window>"u",Uv=h.createContext(void 0),oO={setTheme:e=>{},themes:[]},zv=()=>{var e;return(e=h.useContext(Uv))!=null?e:oO},iO=e=>h.useContext(Uv)?e.children:h.createElement(lO,{...e}),aO=["light","dark"],lO=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=aO,defaultTheme:a=n?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[f,m]=h.useState(()=>z0(s,a)),[p,y]=h.useState(()=>z0(s)),g=c?Object.values(c):i,v=h.useCallback(j=>{let _=j;if(!_)return;j==="system"&&n&&(_=B0());let C=c?c[_]:_,N=t?dO():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...g),C&&k.classList.add(C)):C?k.setAttribute(l,C):k.removeAttribute(l),r){let E=Fu.includes(a)?a:null,R=Fu.includes(_)?_:E;k.style.colorScheme=R}N==null||N()},[]),x=h.useCallback(j=>{let _=typeof j=="function"?j(j):j;m(_);try{localStorage.setItem(s,_)}catch{}},[e]),w=h.useCallback(j=>{let _=B0(j);y(_),f==="system"&&n&&!e&&v("system")},[f,e]);h.useEffect(()=>{let j=window.matchMedia($v);return j.addListener(w),w(j),()=>j.removeListener(w)},[w]),h.useEffect(()=>{let j=_=>{if(_.key!==s)return;let C=_.newValue||a;x(C)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[x]),h.useEffect(()=>{v(e??f)},[e,f]);let b=h.useMemo(()=>({theme:f,setTheme:x,forcedTheme:e,resolvedTheme:f==="system"?p:f,themes:n?[...i,"system"]:i,systemTheme:n?p:void 0}),[f,x,e,p,n,i]);return h.createElement(Uv.Provider,{value:b},h.createElement(cO,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:a,attribute:l,value:c,children:d,attrs:g,nonce:u}),d)},cO=h.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let d=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Fu.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,g=!1,v=!0)=>{let x=a?a[y]:y,w=g?y+"|| ''":`'${x}'`,b="";return s&&v&&!g&&Fu.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),n==="class"?g||x?b+=`c.add(${w})`:b+="null":x&&(b+=`d[s](n,${w})`),b},p=e?`!function(){${u}${m(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${$v}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),z0=(e,t)=>{if(sO)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},dO=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},B0=e=>(e||(e=window.matchMedia($v)),e.matches?"dark":"light"),uO=e=>{switch(e){case"success":return mO;case"info":return gO;case"warning":return pO;case"error":return vO;default:return null}},fO=Array(12).fill(0),hO=({visible:e})=>F.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},F.createElement("div",{className:"sonner-spinner"},fO.map((t,n)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),mO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xO=()=>{let[e,t]=F.useState(document.hidden);return F.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Fp=1,yO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Fp++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async i=>{if(bO(i)&&!i.ok){s=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:n,type:"error",message:a,description:l})}else if(t.success!==void 0){s=!1;let a=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"success",message:a,description:l})}}).catch(async i=>{if(t.error!==void 0){s=!1;let a=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"error",message:a,description:l})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=t.finally)==null||i.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Fp++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},gn=new yO,wO=(e,t)=>{let n=(t==null?void 0:t.id)||Fp++;return gn.addToast({title:e,...t,id:n}),n},bO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",jO=wO,NO=()=>gn.toasts;Object.assign(jO,{success:gn.success,info:gn.info,warning:gn.warning,error:gn.error,custom:gn.custom,message:gn.message,promise:gn.promise,dismiss:gn.dismiss,loading:gn.loading},{getHistory:NO});function _O(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}_O(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sd(e){return e.label!==void 0}var SO=3,CO="32px",kO=4e3,EO=356,PO=14,TO=20,RO=200;function MO(...e){return e.filter(Boolean).join(" ")}var AO=e=>{var t,n,r,s,i,a,l,c,d,u;let{invert:f,toast:m,unstyled:p,interacting:y,setHeights:g,visibleToasts:v,heights:x,index:w,toasts:b,expanded:j,removeToast:_,defaultRichColors:C,closeButton:N,style:k,cancelButtonStyle:E,actionButtonStyle:R,className:M="",descriptionClassName:O="",duration:A,position:I,gap:W,loadingIcon:U,expandByDefault:D,classNames:S,icons:T,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:B,cn:H}=e,[V,J]=F.useState(!1),[ve,X]=F.useState(!1),[$,Z]=F.useState(!1),[me,oe]=F.useState(!1),[_e,ge]=F.useState(0),[nt,Je]=F.useState(0),Bt=F.useRef(null),ct=F.useRef(null),wr=w===0,li=w+1<=v,ot=m.type,Wt=m.dismissible!==!1,ci=m.className||"",di=m.descriptionClassName||"",xo=F.useMemo(()=>x.findIndex(pe=>pe.toastId===m.id)||0,[x,m.id]),nd=F.useMemo(()=>{var pe;return(pe=m.closeButton)!=null?pe:N},[m.closeButton,N]),rd=F.useMemo(()=>m.duration||A||kO,[m.duration,A]),Za=F.useRef(0),hn=F.useRef(0),Br=F.useRef(0),Cn=F.useRef(null),[el,br]=I.split("-"),tl=F.useMemo(()=>x.reduce((pe,De,Ie)=>Ie>=xo?pe:pe+De.height,0),[x,xo]),sd=xO(),Nh=m.invert||f,yo=ot==="loading";hn.current=F.useMemo(()=>xo*W+tl,[xo,tl]),F.useEffect(()=>{J(!0)},[]),F.useLayoutEffect(()=>{if(!V)return;let pe=ct.current,De=pe.style.height;pe.style.height="auto";let Ie=pe.getBoundingClientRect().height;pe.style.height=De,Je(Ie),g(kn=>kn.find(Fe=>Fe.toastId===m.id)?kn.map(Fe=>Fe.toastId===m.id?{...Fe,height:Ie}:Fe):[{toastId:m.id,height:Ie,position:m.position},...kn])},[V,m.title,m.description,g,m.id]);let Kn=F.useCallback(()=>{X(!0),ge(hn.current),g(pe=>pe.filter(De=>De.toastId!==m.id)),setTimeout(()=>{_(m)},RO)},[m,_,g,hn]);F.useEffect(()=>{if(m.promise&&ot==="loading"||m.duration===1/0||m.type==="loading")return;let pe,De=rd;return j||y||B&&sd?(()=>{if(Br.current<Za.current){let Ie=new Date().getTime()-Za.current;De=De-Ie}Br.current=new Date().getTime()})():De!==1/0&&(Za.current=new Date().getTime(),pe=setTimeout(()=>{var Ie;(Ie=m.onAutoClose)==null||Ie.call(m,m),Kn()},De)),()=>clearTimeout(pe)},[j,y,D,m,rd,Kn,m.promise,ot,B,sd]),F.useEffect(()=>{let pe=ct.current;if(pe){let De=pe.getBoundingClientRect().height;return Je(De),g(Ie=>[{toastId:m.id,height:De,position:m.position},...Ie]),()=>g(Ie=>Ie.filter(kn=>kn.toastId!==m.id))}},[g,m.id]),F.useEffect(()=>{m.delete&&Kn()},[Kn,m.delete]);function _h(){return T!=null&&T.loading?F.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},T.loading):U?F.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},U):F.createElement(hO,{visible:ot==="loading"})}return F.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ct,className:H(M,ci,S==null?void 0:S.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,S==null?void 0:S.default,S==null?void 0:S[ot],(n=m==null?void 0:m.classNames)==null?void 0:n[ot]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":V,"data-promise":!!m.promise,"data-removed":ve,"data-visible":li,"data-y-position":el,"data-x-position":br,"data-index":w,"data-front":wr,"data-swiping":$,"data-dismissible":Wt,"data-type":ot,"data-invert":Nh,"data-swipe-out":me,"data-expanded":!!(j||D&&V),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${ve?_e:hn.current}px`,"--initial-height":D?"auto":`${nt}px`,...k,...m.style},onPointerDown:pe=>{yo||!Wt||(Bt.current=new Date,ge(hn.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(Z(!0),Cn.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,De,Ie,kn;if(me||!Wt)return;Cn.current=null;let Fe=Number(((pe=ct.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),vt=new Date().getTime()-((De=Bt.current)==null?void 0:De.getTime()),Ht=Math.abs(Fe)/vt;if(Math.abs(Fe)>=TO||Ht>.11){ge(hn.current),(Ie=m.onDismiss)==null||Ie.call(m,m),Kn(),oe(!0);return}(kn=ct.current)==null||kn.style.setProperty("--swipe-amount","0px"),Z(!1)},onPointerMove:pe=>{var De;if(!Cn.current||!Wt)return;let Ie=pe.clientY-Cn.current.y,kn=pe.clientX-Cn.current.x,Fe=(el==="top"?Math.min:Math.max)(0,Ie),vt=pe.pointerType==="touch"?10:2;Math.abs(Fe)>vt?(De=ct.current)==null||De.style.setProperty("--swipe-amount",`${Ie}px`):Math.abs(kn)>vt&&(Cn.current=null)}},nd&&!m.jsx?F.createElement("button",{"aria-label":z,"data-disabled":yo,"data-close-button":!0,onClick:yo||!Wt?()=>{}:()=>{var pe;Kn(),(pe=m.onDismiss)==null||pe.call(m,m)},className:H(S==null?void 0:S.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||F.isValidElement(m.title)?m.jsx||m.title:F.createElement(F.Fragment,null,ot||m.icon||m.promise?F.createElement("div",{"data-icon":"",className:H(S==null?void 0:S.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||_h():null,m.type!=="loading"?m.icon||(T==null?void 0:T[ot])||uO(ot):null):null,F.createElement("div",{"data-content":"",className:H(S==null?void 0:S.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},F.createElement("div",{"data-title":"",className:H(S==null?void 0:S.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?F.createElement("div",{"data-description":"",className:H(O,di,S==null?void 0:S.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),F.isValidElement(m.cancel)?m.cancel:m.cancel&&Sd(m.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:pe=>{var De,Ie;Sd(m.cancel)&&Wt&&((Ie=(De=m.cancel).onClick)==null||Ie.call(De,pe),Kn())},className:H(S==null?void 0:S.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,F.isValidElement(m.action)?m.action:m.action&&Sd(m.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:pe=>{var De,Ie;Sd(m.action)&&(pe.defaultPrevented||((Ie=(De=m.action).onClick)==null||Ie.call(De,pe),Kn()))},className:H(S==null?void 0:S.actionButton,(u=m==null?void 0:m.classNames)==null?void 0:u.actionButton)},m.action.label):null))};function W0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var OO=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:l,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:m=SO,toastOptions:p,dir:y=W0(),gap:g=PO,loadingIcon:v,icons:x,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:j=MO}=e,[_,C]=F.useState([]),N=F.useMemo(()=>Array.from(new Set([n].concat(_.filter(B=>B.position).map(B=>B.position)))),[_,n]),[k,E]=F.useState([]),[R,M]=F.useState(!1),[O,A]=F.useState(!1),[I,W]=F.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=F.useRef(null),D=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=F.useRef(null),T=F.useRef(!1),z=F.useCallback(B=>{var H;(H=_.find(V=>V.id===B.id))!=null&&H.delete||gn.dismiss(B.id),C(V=>V.filter(({id:J})=>J!==B.id))},[_]);return F.useEffect(()=>gn.subscribe(B=>{if(B.dismiss){C(H=>H.map(V=>V.id===B.id?{...V,delete:!0}:V));return}setTimeout(()=>{X1.flushSync(()=>{C(H=>{let V=H.findIndex(J=>J.id===B.id);return V!==-1?[...H.slice(0,V),{...H[V],...B},...H.slice(V+1)]:[B,...H]})})})}),[]),F.useEffect(()=>{if(c!=="system"){W(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:B})=>{W(B?"dark":"light")})},[c]),F.useEffect(()=>{_.length<=1&&M(!1)},[_]),F.useEffect(()=>{let B=H=>{var V,J;r.every(ve=>H[ve]||H.code===ve)&&(M(!0),(V=U.current)==null||V.focus()),H.code==="Escape"&&(document.activeElement===U.current||(J=U.current)!=null&&J.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[r]),F.useEffect(()=>{if(U.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,T.current=!1)}},[U.current]),_.length?F.createElement("section",{"aria-label":`${w} ${D}`,tabIndex:-1},N.map((B,H)=>{var V;let[J,ve]=B.split("-");return F.createElement("ol",{key:B,dir:y==="auto"?W0():y,tabIndex:-1,ref:U,className:a,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":J,"data-x-position":ve,style:{"--front-toast-height":`${((V=k[0])==null?void 0:V.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||CO,"--width":`${EO}px`,"--gap":`${g}px`,...f},onBlur:X=>{T.current&&!X.currentTarget.contains(X.relatedTarget)&&(T.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||T.current||(T.current=!0,S.current=X.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{O||M(!1)},onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},_.filter(X=>!X.position&&H===0||X.position===B).map((X,$)=>{var Z,me;return F.createElement(AO,{key:X.id,icons:x,index:$,toast:X,defaultRichColors:d,duration:(Z=p==null?void 0:p.duration)!=null?Z:u,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:m,closeButton:(me=p==null?void 0:p.closeButton)!=null?me:i,interacting:O,position:B,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:z,toasts:_.filter(oe=>oe.position==X.position),heights:k.filter(oe=>oe.position==X.position),setHeights:E,expandByDefault:s,gap:g,loadingIcon:v,expanded:R,pauseWhenPageIsHidden:b,cn:j})}))})):null};const IO=({...e})=>{const{theme:t="system"}=zv();return o.jsx(OO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var DO=Yb.useId||(()=>{}),FO=0;function ir(e){const[t,n]=h.useState(DO());return pt(()=>{n(r=>r??String(FO++))},[e]),t?`radix-${t}`:""}const LO=["top","right","bottom","left"],ro=Math.min,yn=Math.max,Lu=Math.round,Cd=Math.floor,so=e=>({x:e,y:e}),$O={left:"right",right:"left",bottom:"top",top:"bottom"},UO={start:"end",end:"start"};function Lp(e,t,n){return yn(e,ro(t,n))}function as(e,t){return typeof e=="function"?e(t):e}function ls(e){return e.split("-")[0]}function Ta(e){return e.split("-")[1]}function Bv(e){return e==="x"?"y":"x"}function Wv(e){return e==="y"?"height":"width"}function oo(e){return["top","bottom"].includes(ls(e))?"y":"x"}function Hv(e){return Bv(oo(e))}function zO(e,t,n){n===void 0&&(n=!1);const r=Ta(e),s=Hv(e),i=Wv(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=$u(a)),[a,$u(a)]}function BO(e){const t=$u(e);return[$p(e),t,$p(t)]}function $p(e){return e.replace(/start|end/g,t=>UO[t])}function WO(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:a;default:return[]}}function HO(e,t,n,r){const s=Ta(e);let i=WO(ls(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map($p)))),i}function $u(e){return e.replace(/left|right|bottom|top/g,t=>$O[t])}function VO(e){return{top:0,right:0,bottom:0,left:0,...e}}function zN(e){return typeof e!="number"?VO(e):{top:e,right:e,bottom:e,left:e}}function Uu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function H0(e,t,n){let{reference:r,floating:s}=e;const i=oo(t),a=Hv(t),l=Wv(a),c=ls(t),d=i==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ta(t)){case"start":p[a]-=m*(n&&d?-1:1);break;case"end":p[a]+=m*(n&&d?-1:1);break}return p}const qO=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=H0(d,r,c),m=r,p={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:x}=l[g],{x:w,y:b,data:j,reset:_}=await x({x:u,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:d,platform:a,elements:{reference:e,floating:t}});u=w??u,f=b??f,p={...p,[v]:{...p[v],...j}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(d=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:u,y:f}=H0(d,m,c)),g=-1)}return{x:u,y:f,placement:m,strategy:s,middlewareData:p}};async function dc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=as(t,e),y=zN(p),v=l[m?f==="floating"?"reference":"floating":f],x=Uu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),w=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Uu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(x.top-_.top+y.top)/j.y,bottom:(_.bottom-x.bottom+y.bottom)/j.y,left:(x.left-_.left+y.left)/j.x,right:(_.right-x.right+y.right)/j.x}}const KO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=as(e,t)||{};if(d==null)return{};const f=zN(u),m={x:n,y:r},p=Hv(s),y=Wv(p),g=await a.getDimensions(d),v=p==="y",x=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",j=i.reference[y]+i.reference[p]-m[p]-i.floating[y],_=m[p]-i.reference[p],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let N=C?C[b]:0;(!N||!await(a.isElement==null?void 0:a.isElement(C)))&&(N=l.floating[b]||i.floating[y]);const k=j/2-_/2,E=N/2-g[y]/2-1,R=ro(f[x],E),M=ro(f[w],E),O=R,A=N-g[y]-M,I=N/2-g[y]/2+k,W=Lp(O,I,A),U=!c.arrow&&Ta(s)!=null&&I!==W&&i.reference[y]/2-(I<O?R:M)-g[y]/2<0,D=U?I<O?I-O:I-A:0;return{[p]:m[p]+D,data:{[p]:W,centerOffset:I-W-D,...U&&{alignmentOffset:D}},reset:U}}}),GO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=as(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=ls(s),w=oo(l),b=ls(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=m||(b||!g?[$u(l)]:BO(l)),C=y!=="none";!m&&C&&_.push(...HO(l,g,y,j));const N=[l,..._],k=await dc(t,v),E=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&E.push(k[x]),f){const I=zO(s,a,j);E.push(k[I[0]],k[I[1]])}if(R=[...R,{placement:s,overflows:E}],!E.every(I=>I<=0)){var M,O;const I=(((M=i.flip)==null?void 0:M.index)||0)+1,W=N[I];if(W)return{data:{index:I,overflows:R},reset:{placement:W}};let U=(O=R.filter(D=>D.overflows[0]<=0).sort((D,S)=>D.overflows[1]-S.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(p){case"bestFit":{var A;const D=(A=R.filter(S=>{if(C){const T=oo(S.placement);return T===w||T==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(T=>T>0).reduce((T,z)=>T+z,0)]).sort((S,T)=>S[1]-T[1])[0])==null?void 0:A[0];D&&(U=D);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function V0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function q0(e){return LO.some(t=>e[t]>=0)}const YO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=as(e,t);switch(r){case"referenceHidden":{const i=await dc(t,{...s,elementContext:"reference"}),a=V0(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:q0(a)}}}case"escaped":{const i=await dc(t,{...s,altBoundary:!0}),a=V0(i,n.floating);return{data:{escapedOffsets:a,escaped:q0(a)}}}default:return{}}}}};async function QO(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ls(n),l=Ta(n),c=oo(n)==="y",d=["left","top"].includes(a)?-1:1,u=i&&c?-1:1,f=as(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const JO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await QO(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},XO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...c}=as(e,t),d={x:n,y:r},u=await dc(t,c),f=oo(ls(s)),m=Bv(f);let p=d[m],y=d[f];if(i){const v=m==="y"?"top":"left",x=m==="y"?"bottom":"right",w=p+u[v],b=p-u[x];p=Lp(w,p,b)}if(a){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=y+u[v],b=y-u[x];y=Lp(w,y,b)}const g=l.fn({...t,[m]:p,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:i,[f]:a}}}}}},ZO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=as(e,t),u={x:n,y:r},f=oo(s),m=Bv(f);let p=u[m],y=u[f];const g=as(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",j=i.reference[m]-i.floating[b]+v.mainAxis,_=i.reference[m]+i.reference[b]-v.mainAxis;p<j?p=j:p>_&&(p=_)}if(d){var x,w;const b=m==="y"?"width":"height",j=["top","left"].includes(ls(s)),_=i.reference[f]-i.floating[b]+(j&&((x=a.offset)==null?void 0:x[f])||0)+(j?0:v.crossAxis),C=i.reference[f]+i.reference[b]+(j?0:((w=a.offset)==null?void 0:w[f])||0)-(j?v.crossAxis:0);y<_?y=_:y>C&&(y=C)}return{[m]:p,[f]:y}}}},e4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...d}=as(e,t),u=await dc(t,d),f=ls(s),m=Ta(s),p=oo(s)==="y",{width:y,height:g}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=m==="end"?"top":"bottom");const w=g-u.top-u.bottom,b=y-u.left-u.right,j=ro(g-u[v],w),_=ro(y-u[x],b),C=!t.middlewareData.shift;let N=j,k=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=w),C&&!m){const R=yn(u.left,0),M=yn(u.right,0),O=yn(u.top,0),A=yn(u.bottom,0);p?k=y-2*(R!==0||M!==0?R+M:yn(u.left,u.right)):N=g-2*(O!==0||A!==0?O+A:yn(u.top,u.bottom))}await c({...t,availableWidth:k,availableHeight:N});const E=await a.getDimensions(l.floating);return y!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function $f(){return typeof window<"u"}function Ra(e){return BN(e)?(e.nodeName||"").toLowerCase():"#document"}function jn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $r(e){var t;return(t=(BN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BN(e){return $f()?e instanceof Node||e instanceof jn(e).Node:!1}function cr(e){return $f()?e instanceof Element||e instanceof jn(e).Element:!1}function Fr(e){return $f()?e instanceof HTMLElement||e instanceof jn(e).HTMLElement:!1}function K0(e){return!$f()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof jn(e).ShadowRoot}function Fc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=dr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function t4(e){return["table","td","th"].includes(Ra(e))}function Uf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Vv(e){const t=qv(),n=cr(e)?dr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function n4(e){let t=io(e);for(;Fr(t)&&!xa(t);){if(Vv(t))return t;if(Uf(t))return null;t=io(t)}return null}function qv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xa(e){return["html","body","#document"].includes(Ra(e))}function dr(e){return jn(e).getComputedStyle(e)}function zf(e){return cr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function io(e){if(Ra(e)==="html")return e;const t=e.assignedSlot||e.parentNode||K0(e)&&e.host||$r(e);return K0(t)?t.host:t}function WN(e){const t=io(e);return xa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fr(t)&&Fc(t)?t:WN(t)}function uc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=WN(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=jn(s);if(i){const l=Up(a);return t.concat(a,a.visualViewport||[],Fc(s)?s:[],l&&n?uc(l):[])}return t.concat(s,uc(s,[],n))}function Up(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function HN(e){const t=dr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Fr(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=Lu(n)!==i||Lu(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Kv(e){return cr(e)?e:e.contextElement}function Wi(e){const t=Kv(e);if(!Fr(t))return so(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=HN(t);let a=(i?Lu(n.width):n.width)/r,l=(i?Lu(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const r4=so(0);function VN(e){const t=jn(e);return!qv()||!t.visualViewport?r4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function s4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==jn(e)?!1:t}function qo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Kv(e);let a=so(1);t&&(r?cr(r)&&(a=Wi(r)):a=Wi(e));const l=s4(i,n,r)?VN(i):so(0);let c=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,u=s.width/a.x,f=s.height/a.y;if(i){const m=jn(i),p=r&&cr(r)?jn(r):r;let y=m,g=Up(y);for(;g&&r&&p!==y;){const v=Wi(g),x=g.getBoundingClientRect(),w=dr(g),b=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,j=x.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,f*=v.y,c+=b,d+=j,y=jn(g),g=Up(y)}}return Uu({width:u,height:f,x:c,y:d})}function o4(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=$r(r),l=t?Uf(t.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=so(1);const u=so(0),f=Fr(r);if((f||!f&&!i)&&((Ra(r)!=="body"||Fc(a))&&(c=zf(r)),Fr(r))){const m=qo(r);d=Wi(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x,y:n.y*d.y-c.scrollTop*d.y+u.y}}function i4(e){return Array.from(e.getClientRects())}function zp(e,t){const n=zf(e).scrollLeft;return t?t.left+n:qo($r(e)).left+n}function a4(e){const t=$r(e),n=zf(e),r=e.ownerDocument.body,s=yn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=yn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+zp(e);const l=-n.scrollTop;return dr(r).direction==="rtl"&&(a+=yn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function l4(e,t){const n=jn(e),r=$r(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const d=qv();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function c4(e,t){const n=qo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Fr(e)?Wi(e):so(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:a,height:l,x:c,y:d}}function G0(e,t,n){let r;if(t==="viewport")r=l4(e,n);else if(t==="document")r=a4($r(e));else if(cr(t))r=c4(t,n);else{const s=VN(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Uu(r)}function qN(e,t){const n=io(e);return n===t||!cr(n)||xa(n)?!1:dr(n).position==="fixed"||qN(n,t)}function d4(e,t){const n=t.get(e);if(n)return n;let r=uc(e,[],!1).filter(l=>cr(l)&&Ra(l)!=="body"),s=null;const i=dr(e).position==="fixed";let a=i?io(e):e;for(;cr(a)&&!xa(a);){const l=dr(a),c=Vv(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Fc(a)&&!c&&qN(e,a))?r=r.filter(u=>u!==a):s=l,a=io(a)}return t.set(e,r),r}function u4(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Uf(t)?[]:d4(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((d,u)=>{const f=G0(t,u,s);return d.top=yn(f.top,d.top),d.right=ro(f.right,d.right),d.bottom=ro(f.bottom,d.bottom),d.left=yn(f.left,d.left),d},G0(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function f4(e){const{width:t,height:n}=HN(e);return{width:t,height:n}}function h4(e,t,n){const r=Fr(t),s=$r(t),i=n==="fixed",a=qo(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=so(0);if(r||!r&&!i)if((Ra(t)!=="body"||Fc(s))&&(l=zf(t)),r){const p=qo(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=zp(s));let d=0,u=0;if(s&&!r&&!i){const p=s.getBoundingClientRect();u=p.top+l.scrollTop,d=p.left+l.scrollLeft-zp(s,p)}const f=a.left+l.scrollLeft-c.x-d,m=a.top+l.scrollTop-c.y-u;return{x:f,y:m,width:a.width,height:a.height}}function sm(e){return dr(e).position==="static"}function Y0(e,t){if(!Fr(e)||dr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $r(e)===n&&(n=n.ownerDocument.body),n}function KN(e,t){const n=jn(e);if(Uf(e))return n;if(!Fr(e)){let s=io(e);for(;s&&!xa(s);){if(cr(s)&&!sm(s))return s;s=io(s)}return n}let r=Y0(e,t);for(;r&&t4(r)&&sm(r);)r=Y0(r,t);return r&&xa(r)&&sm(r)&&!Vv(r)?n:r||n4(e)||n}const m4=async function(e){const t=this.getOffsetParent||KN,n=this.getDimensions,r=await n(e.floating);return{reference:h4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function p4(e){return dr(e).direction==="rtl"}const g4={convertOffsetParentRelativeRectToViewportRelativeRect:o4,getDocumentElement:$r,getClippingRect:u4,getOffsetParent:KN,getElementRects:m4,getClientRects:i4,getDimensions:f4,getScale:Wi,isElement:cr,isRTL:p4};function v4(e,t){let n=null,r;const s=$r(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const p=Cd(u),y=Cd(s.clientWidth-(d+f)),g=Cd(s.clientHeight-(u+m)),v=Cd(d),w={rootMargin:-p+"px "+-y+"px "+-g+"px "+-v+"px",threshold:yn(0,ro(1,c))||1};let b=!0;function j(_){const C=_[0].intersectionRatio;if(C!==c){if(!b)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,w)}n.observe(e)}return a(!0),i}function x4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Kv(e),u=s||i?[...d?uc(d):[],...uc(t)]:[];u.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=d&&l?v4(d,n):null;let m=-1,p=null;a&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),d&&!c&&p.observe(d),p.observe(t));let y,g=c?qo(e):null;c&&v();function v(){const x=qo(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,y=requestAnimationFrame(v)}return n(),()=>{var x;u.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const y4=JO,w4=XO,b4=GO,j4=e4,N4=YO,Q0=KO,_4=ZO,S4=(e,t,n)=>{const r=new Map,s={platform:g4,...n},i={...s.platform,_c:r};return qO(e,t,{...s,platform:i})};var ru=typeof document<"u"?h.useLayoutEffect:h.useEffect;function zu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!zu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function GN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function J0(e,t){const n=GN(e);return Math.round(t*n)/n}function om(e){const t=h.useRef(e);return ru(()=>{t.current=e}),t}function C4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(r);zu(m,r)||p(r);const[y,g]=h.useState(null),[v,x]=h.useState(null),w=h.useCallback(S=>{S!==C.current&&(C.current=S,g(S))},[]),b=h.useCallback(S=>{S!==N.current&&(N.current=S,x(S))},[]),j=i||y,_=a||v,C=h.useRef(null),N=h.useRef(null),k=h.useRef(u),E=c!=null,R=om(c),M=om(s),O=om(d),A=h.useCallback(()=>{if(!C.current||!N.current)return;const S={placement:t,strategy:n,middleware:m};M.current&&(S.platform=M.current),S4(C.current,N.current,S).then(T=>{const z={...T,isPositioned:O.current!==!1};I.current&&!zu(k.current,z)&&(k.current=z,In.flushSync(()=>{f(z)}))})},[m,t,n,M,O]);ru(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[d]);const I=h.useRef(!1);ru(()=>(I.current=!0,()=>{I.current=!1}),[]),ru(()=>{if(j&&(C.current=j),_&&(N.current=_),j&&_){if(R.current)return R.current(j,_,A);A()}},[j,_,A,R,E]);const W=h.useMemo(()=>({reference:C,floating:N,setReference:w,setFloating:b}),[w,b]),U=h.useMemo(()=>({reference:j,floating:_}),[j,_]),D=h.useMemo(()=>{const S={position:n,left:0,top:0};if(!U.floating)return S;const T=J0(U.floating,u.x),z=J0(U.floating,u.y);return l?{...S,transform:"translate("+T+"px, "+z+"px)",...GN(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:z}},[n,l,U.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:A,refs:W,elements:U,floatingStyles:D}),[u,A,W,U,D])}const k4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Q0({element:r.current,padding:s}).fn(n):{}:r?Q0({element:r,padding:s}).fn(n):{}}}},E4=(e,t)=>({...y4(e),options:[e,t]}),P4=(e,t)=>({...w4(e),options:[e,t]}),T4=(e,t)=>({..._4(e),options:[e,t]}),R4=(e,t)=>({...b4(e),options:[e,t]}),M4=(e,t)=>({...j4(e),options:[e,t]}),A4=(e,t)=>({...N4(e),options:[e,t]}),O4=(e,t)=>({...k4(e),options:[e,t]});var I4="Arrow",YN=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return o.jsx(ae.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});YN.displayName=I4;var D4=YN;function F4(e,t=[]){let n=[];function r(i,a){const l=h.createContext(a),c=n.length;n=[...n,a];function d(f){const{scope:m,children:p,...y}=f,g=(m==null?void 0:m[e][c])||l,v=h.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})}function u(f,m){const p=(m==null?void 0:m[e][c])||l,y=h.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=n.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,L4(s,...t)]}function L4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function QN(e){const[t,n]=h.useState(void 0);return pt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Gv="Popper",[JN,uo]=F4(Gv),[$4,XN]=JN(Gv),ZN=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return o.jsx($4,{scope:t,anchor:r,onAnchorChange:s,children:n})};ZN.displayName=Gv;var e_="PopperAnchor",t_=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=XN(e_,n),a=h.useRef(null),l=ye(t,a);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(ae.div,{...s,ref:l})});t_.displayName=e_;var Yv="PopperContent",[U4,z4]=JN(Yv),n_=h.forwardRef((e,t)=>{var $,Z,me,oe,_e,ge;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=e,v=XN(Yv,n),[x,w]=h.useState(null),b=ye(t,nt=>w(nt)),[j,_]=h.useState(null),C=QN(j),N=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,E=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(d)?d:[d],O=M.length>0,A={padding:R,boundary:M.filter(W4),altBoundary:O},{refs:I,floatingStyles:W,placement:U,isPositioned:D,middlewareData:S}=C4({strategy:"fixed",placement:E,whileElementsMounted:(...nt)=>x4(...nt,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[E4({mainAxis:s+k,alignmentAxis:a}),c&&P4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?T4():void 0,...A}),c&&R4({...A}),M4({...A,apply:({elements:nt,rects:Je,availableWidth:Bt,availableHeight:ct})=>{const{width:wr,height:li}=Je.reference,ot=nt.floating.style;ot.setProperty("--radix-popper-available-width",`${Bt}px`),ot.setProperty("--radix-popper-available-height",`${ct}px`),ot.setProperty("--radix-popper-anchor-width",`${wr}px`),ot.setProperty("--radix-popper-anchor-height",`${li}px`)}}),j&&O4({element:j,padding:l}),H4({arrowWidth:N,arrowHeight:k}),m&&A4({strategy:"referenceHidden",...A})]}),[T,z]=o_(U),B=Ke(y);pt(()=>{D&&(B==null||B())},[D,B]);const H=($=S.arrow)==null?void 0:$.x,V=(Z=S.arrow)==null?void 0:Z.y,J=((me=S.arrow)==null?void 0:me.centerOffset)!==0,[ve,X]=h.useState();return pt(()=>{x&&X(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:D?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(oe=S.transformOrigin)==null?void 0:oe.x,(_e=S.transformOrigin)==null?void 0:_e.y].join(" "),...((ge=S.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(U4,{scope:n,placedSide:T,onArrowChange:_,arrowX:H,arrowY:V,shouldHideArrow:J,children:o.jsx(ae.div,{"data-side":T,"data-align":z,...g,ref:b,style:{...g.style,animation:D?void 0:"none"}})})})});n_.displayName=Yv;var r_="PopperArrow",B4={top:"bottom",right:"left",bottom:"top",left:"right"},s_=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=z4(r_,r),a=B4[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(D4,{...s,ref:n,style:{...s.style,display:"block"}})})});s_.displayName=r_;function W4(e){return e!==null}var H4=e=>({name:"transformOrigin",options:e,fn(t){var v,x,w;const{placement:n,rects:r,middlewareData:s}=t,a=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[d,u]=o_(n),f={start:"0%",center:"50%",end:"100%"}[u],m=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let y="",g="";return d==="bottom"?(y=a?f:`${m}px`,g=`${-c}px`):d==="top"?(y=a?f:`${m}px`,g=`${r.floating.height+c}px`):d==="right"?(y=`${-c}px`,g=a?f:`${p}px`):d==="left"&&(y=`${r.floating.width+c}px`,g=a?f:`${p}px`),{data:{x:y,y:g}}}});function o_(e){const[t,n="center"]=e.split("-");return[t,n]}var Qv=ZN,Lc=t_,Bf=n_,Wf=s_,[Hf,cH]=Hn("Tooltip",[uo]),Jv=uo(),i_="TooltipProvider",V4=700,X0="tooltip.open",[q4,a_]=Hf(i_),l_=e=>{const{__scopeTooltip:t,delayDuration:n=V4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,[a,l]=h.useState(!0),c=h.useRef(!1),d=h.useRef(0);return h.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),o.jsx(q4,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:h.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:i})};l_.displayName=i_;var c_="Tooltip",[dH,Vf]=Hf(c_),Bp="TooltipTrigger",K4=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Vf(Bp,n),i=a_(Bp,n),a=Jv(n),l=h.useRef(null),c=ye(t,l,s.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(Lc,{asChild:!0,...a,children:o.jsx(ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:K(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:K(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:K(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:K(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:K(e.onBlur,s.onClose),onClick:K(e.onClick,s.onClose)})})});K4.displayName=Bp;var G4="TooltipPortal",[uH,Y4]=Hf(G4,{forceMount:void 0}),ya="TooltipContent",d_=h.forwardRef((e,t)=>{const n=Y4(ya,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=Vf(ya,e.__scopeTooltip);return o.jsx(Rt,{present:r||a.open,children:a.disableHoverableContent?o.jsx(u_,{side:s,...i,ref:t}):o.jsx(Q4,{side:s,...i,ref:t})})}),Q4=h.forwardRef((e,t)=>{const n=Vf(ya,e.__scopeTooltip),r=a_(ya,e.__scopeTooltip),s=h.useRef(null),i=ye(t,s),[a,l]=h.useState(null),{trigger:c,onClose:d}=n,u=s.current,{onPointerInTransitChange:f}=r,m=h.useCallback(()=>{l(null),f(!1)},[f]),p=h.useCallback((y,g)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},w=eI(x,v.getBoundingClientRect()),b=tI(x,w),j=nI(g.getBoundingClientRect()),_=sI([...b,...j]);l(_),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const y=v=>p(v,u),g=v=>p(v,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",g)}}},[c,u,p,m]),h.useEffect(()=>{if(a){const y=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),b=!rI(x,a);w?m():b&&(m(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,a,d,m]),o.jsx(u_,{...e,ref:i})}),[J4,X4]=Hf(c_,{isInside:!1}),u_=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Vf(ya,n),d=Jv(n),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(X0,u),()=>document.removeEventListener(X0,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),o.jsx(ti,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:o.jsxs(Bf,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Pv,{children:r}),o.jsx(J4,{scope:n,isInside:!0,children:o.jsx(kM,{id:c.contentId,role:"tooltip",children:s||r})})]})})});d_.displayName=ya;var f_="TooltipArrow",Z4=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Jv(n);return X4(f_,n).isInside?null:o.jsx(Wf,{...s,...r,ref:t})});Z4.displayName=f_;function eI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function nI(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function rI(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,d=t[a].x,u=t[a].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(s=!s)}return s}function sI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),oI(t)}function oI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var iI=l_,h_=d_;const aI=iI,lI=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(h_,{ref:r,sideOffset:t,className:Y("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));lI.displayName=h_.displayName;var Ma=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ko=typeof window>"u"||"Deno"in globalThis;function Tn(){}function cI(e,t){return typeof e=="function"?e(t):e}function Wp(e){return typeof e=="number"&&e>=0&&e!==1/0}function m_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hi(e,t){return typeof e=="function"?e(t):e}function nr(e,t){return typeof e=="function"?e(t):e}function Z0(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==Xv(a,t.options))return!1}else if(!fc(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function ew(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Go(t.options.mutationKey)!==Go(i))return!1}else if(!fc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Xv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Go)(e)}function Go(e){return JSON.stringify(e,(t,n)=>Hp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!fc(e[n],t[n])):!1}function p_(e,t){if(e===t)return e;const n=tw(e)&&tw(t);if(n||Hp(e)&&Hp(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,l=n?[]:{};let c=0;for(let d=0;d<a;d++){const u=n?d:i[d];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=p_(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function Bu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function tw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Hp(e){if(!nw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!nw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function nw(e){return Object.prototype.toString.call(e)==="[object Object]"}function dI(e){return new Promise(t=>{setTimeout(t,e)})}function Vp(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?p_(e,t):t}function uI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function fI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Zv=Symbol();function g_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Zv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var To,Rs,Qi,Eb,hI=(Eb=class extends Ma{constructor(){super();ue(this,To);ue(this,Rs);ue(this,Qi);te(this,Qi,t=>{if(!Ko&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,Rs)||this.setEventListener(P(this,Qi))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Rs))==null||t.call(this),te(this,Rs,void 0))}setEventListener(t){var n;te(this,Qi,t),(n=P(this,Rs))==null||n.call(this),te(this,Rs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){P(this,To)!==t&&(te(this,To,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof P(this,To)=="boolean"?P(this,To):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},To=new WeakMap,Rs=new WeakMap,Qi=new WeakMap,Eb),ex=new hI,Ji,Ms,Xi,Pb,mI=(Pb=class extends Ma{constructor(){super();ue(this,Ji,!0);ue(this,Ms);ue(this,Xi);te(this,Xi,t=>{if(!Ko&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,Ms)||this.setEventListener(P(this,Xi))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Ms))==null||t.call(this),te(this,Ms,void 0))}setEventListener(t){var n;te(this,Xi,t),(n=P(this,Ms))==null||n.call(this),te(this,Ms,t(this.setOnline.bind(this)))}setOnline(t){P(this,Ji)!==t&&(te(this,Ji,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return P(this,Ji)}},Ji=new WeakMap,Ms=new WeakMap,Xi=new WeakMap,Pb),Wu=new mI;function qp(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function pI(e){return Math.min(1e3*2**e,3e4)}function v_(e){return(e??"online")==="online"?Wu.isOnline():!0}var x_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function im(e){return e instanceof x_}function y_(e){let t=!1,n=0,r=!1,s;const i=qp(),a=g=>{var v;r||(m(new x_(g)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>ex.isFocused()&&(e.networkMode==="always"||Wu.isOnline())&&e.canRun(),u=()=>v_(e.networkMode)&&e.canRun(),f=g=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,g),s==null||s(),i.resolve(g))},m=g=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var v;s=x=>{(r||d())&&g(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(r)return;let g;const v=n===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var C;if(r)return;const w=e.retry??(Ko?0:3),b=e.retryDelay??pI,j=typeof b=="function"?b(n,x):b,_=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(t||!_){m(x);return}n++,(C=e.onFail)==null||C.call(e,n,x),dI(j).then(()=>d()?void 0:p()).then(()=>{t?m(x):y()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():p().then(y),i)}}function gI(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var ft=gI(),Ro,Tb,w_=(Tb=class{constructor(){ue(this,Ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wp(this.gcTime)&&te(this,Ro,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ko?1/0:5*60*1e3))}clearGcTimeout(){P(this,Ro)&&(clearTimeout(P(this,Ro)),te(this,Ro,void 0))}},Ro=new WeakMap,Tb),Zi,ea,Pn,Dt,Sc,Mo,Xn,qr,Rb,vI=(Rb=class extends w_{constructor(t){super();ue(this,Xn);ue(this,Zi);ue(this,ea);ue(this,Pn);ue(this,Dt);ue(this,Sc);ue(this,Mo);te(this,Mo,!1),te(this,Sc,t.defaultOptions),this.setOptions(t.options),this.observers=[],te(this,Pn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,te(this,Zi,xI(this.options)),this.state=t.state??P(this,Zi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,Dt))==null?void 0:t.promise}setOptions(t){this.options={...P(this,Sc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Pn).remove(this)}setData(t,n){const r=Vp(this.state.data,t,this.options);return be(this,Xn,qr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){be(this,Xn,qr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=P(this,Dt))==null?void 0:r.promise;return(s=P(this,Dt))==null||s.cancel(t),n?n.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,Zi))}isActive(){return this.observers.some(t=>nr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!m_(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,Dt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,Dt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,Pn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(P(this,Dt)&&(P(this,Mo)?P(this,Dt).cancel({revert:!0}):P(this,Dt).cancelRetry()),this.scheduleGc()),P(this,Pn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,Xn,qr).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,Dt))return P(this,Dt).continueRetry(),P(this,Dt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(te(this,Mo,!0),r.signal)})},i=()=>{const f=g_(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return s(m),te(this,Mo,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),te(this,ea,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&be(this,Xn,qr).call(this,{type:"fetch",meta:(u=a.fetchOptions)==null?void 0:u.meta});const l=f=>{var m,p,y,g;im(f)&&f.silent||be(this,Xn,qr).call(this,{type:"error",error:f}),im(f)||((p=(m=P(this,Pn).config).onError)==null||p.call(m,f,this),(g=(y=P(this,Pn).config).onSettled)==null||g.call(y,this.state.data,f,this)),this.scheduleGc()};return te(this,Dt,y_({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,p,y,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(p=(m=P(this,Pn).config).onSuccess)==null||p.call(m,f,this),(g=(y=P(this,Pn).config).onSettled)==null||g.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{be(this,Xn,qr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{be(this,Xn,qr).call(this,{type:"pause"})},onContinue:()=>{be(this,Xn,qr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),P(this,Dt).start()}},Zi=new WeakMap,ea=new WeakMap,Pn=new WeakMap,Dt=new WeakMap,Sc=new WeakMap,Mo=new WeakMap,Xn=new WeakSet,qr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...b_(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return im(s)&&s.revert&&P(this,ea)?{...P(this,ea),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ft.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,Pn).notify({query:this,type:"updated",action:t})})},Rb);function b_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Cr,Mb,yI=(Mb=class extends Ma{constructor(t={}){super();ue(this,Cr);this.config=t,te(this,Cr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Xv(s,n);let a=this.get(i);return a||(a=new vI({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){P(this,Cr).has(t.queryHash)||(P(this,Cr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=P(this,Cr).get(t.queryHash);n&&(t.destroy(),n===t&&P(this,Cr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ft.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,Cr).get(t)}getAll(){return[...P(this,Cr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Z0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Z0(t,r)):n}notify(t){ft.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ft.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ft.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Cr=new WeakMap,Mb),kr,Vt,Ao,Er,bs,Ab,wI=(Ab=class extends w_{constructor(t){super();ue(this,Er);ue(this,kr);ue(this,Vt);ue(this,Ao);this.mutationId=t.mutationId,te(this,Vt,t.mutationCache),te(this,kr,[]),this.state=t.state||j_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,kr).includes(t)||(P(this,kr).push(t),this.clearGcTimeout(),P(this,Vt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){te(this,kr,P(this,kr).filter(n=>n!==t)),this.scheduleGc(),P(this,Vt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,kr).length||(this.state.status==="pending"?this.scheduleGc():P(this,Vt).remove(this))}continue(){var t;return((t=P(this,Ao))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,l,c,d,u,f,m,p,y,g,v,x,w,b,j,_,C,N;te(this,Ao,y_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{be(this,Er,bs).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{be(this,Er,bs).call(this,{type:"pause"})},onContinue:()=>{be(this,Er,bs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Vt).canRun(this)}));const n=this.state.status==="pending",r=!P(this,Ao).canStart();try{if(!n){be(this,Er,bs).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(s=P(this,Vt).config).onMutate)==null?void 0:i.call(s,t,this));const E=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));E!==this.state.context&&be(this,Er,bs).call(this,{type:"pending",context:E,variables:t,isPaused:r})}const k=await P(this,Ao).start();return await((d=(c=P(this,Vt).config).onSuccess)==null?void 0:d.call(c,k,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,k,t,this.state.context)),await((p=(m=P(this,Vt).config).onSettled)==null?void 0:p.call(m,k,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,k,null,t,this.state.context)),be(this,Er,bs).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(v=P(this,Vt).config).onError)==null?void 0:x.call(v,k,t,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,k,t,this.state.context)),await((_=(j=P(this,Vt).config).onSettled)==null?void 0:_.call(j,void 0,k,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,k,t,this.state.context)),k}finally{be(this,Er,bs).call(this,{type:"error",error:k})}}finally{P(this,Vt).runNext(this)}}},kr=new WeakMap,Vt=new WeakMap,Ao=new WeakMap,Er=new WeakSet,bs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ft.batch(()=>{P(this,kr).forEach(r=>{r.onMutationUpdate(t)}),P(this,Vt).notify({mutation:this,type:"updated",action:t})})},Ab);function j_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pn,Cc,Ob,bI=(Ob=class extends Ma{constructor(t={}){super();ue(this,pn);ue(this,Cc);this.config=t,te(this,pn,new Map),te(this,Cc,Date.now())}build(t,n,r){const s=new wI({mutationCache:this,mutationId:++od(this,Cc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=kd(t),r=P(this,pn).get(n)??[];r.push(t),P(this,pn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=kd(t);if(P(this,pn).has(n)){const s=(r=P(this,pn).get(n))==null?void 0:r.filter(i=>i!==t);s&&(s.length===0?P(this,pn).delete(n):P(this,pn).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=P(this,pn).get(kd(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=P(this,pn).get(kd(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ft.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...P(this,pn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ew(n,r))}findAll(t={}){return this.getAll().filter(n=>ew(t,n))}notify(t){ft.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ft.batch(()=>Promise.all(t.map(n=>n.continue().catch(Tn))))}},pn=new WeakMap,Cc=new WeakMap,Ob);function kd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function rw(e){return{onFetch:(t,n)=>{var u,f,m,p,y;const r=t.options,s=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],a=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=g_(t.options,t.fetchOptions),w=async(b,j,_)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const C={queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};v(C);const N=await x(C),{maxPages:k}=t.options,E=_?fI:uI;return{pages:E(b.pages,N,k),pageParams:E(b.pageParams,j,k)}};if(s&&i.length){const b=s==="backward",j=b?jI:sw,_={pages:i,pageParams:a},C=j(r,_);l=await w(_,C,b)}else{const b=e??i.length;do{const j=c===0?a[0]??r.initialPageParam:sw(r,l);if(c>0&&j==null)break;l=await w(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function sw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function jI(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var rt,As,Os,ta,na,Is,ra,sa,Ib,NI=(Ib=class{constructor(e={}){ue(this,rt);ue(this,As);ue(this,Os);ue(this,ta);ue(this,na);ue(this,Is);ue(this,ra);ue(this,sa);te(this,rt,e.queryCache||new yI),te(this,As,e.mutationCache||new bI),te(this,Os,e.defaultOptions||{}),te(this,ta,new Map),te(this,na,new Map),te(this,Is,0)}mount(){od(this,Is)._++,P(this,Is)===1&&(te(this,ra,ex.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,rt).onFocus())})),te(this,sa,Wu.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,rt).onOnline())})))}unmount(){var e,t;od(this,Is)._--,P(this,Is)===0&&((e=P(this,ra))==null||e.call(this),te(this,ra,void 0),(t=P(this,sa))==null||t.call(this),te(this,sa,void 0))}isFetching(e){return P(this,rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,As).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,rt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=P(this,rt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Hi(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return P(this,rt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=P(this,rt).get(r.queryHash),i=s==null?void 0:s.state.data,a=cI(t,i);if(a!==void 0)return P(this,rt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return ft.batch(()=>P(this,rt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,rt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=P(this,rt);ft.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=P(this,rt),r={type:"active",...e};return ft.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=ft.batch(()=>P(this,rt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(e={},t={}){return ft.batch(()=>{if(P(this,rt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=ft.batch(()=>P(this,rt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Tn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=P(this,rt).build(this,t);return n.isStaleByTime(Hi(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tn).catch(Tn)}fetchInfiniteQuery(e){return e.behavior=rw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tn).catch(Tn)}ensureInfiniteQueryData(e){return e.behavior=rw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wu.isOnline()?P(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,rt)}getMutationCache(){return P(this,As)}getDefaultOptions(){return P(this,Os)}setDefaultOptions(e){te(this,Os,e)}setQueryDefaults(e,t){P(this,ta).set(Go(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,ta).values()];let n={};return t.forEach(r=>{fc(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){P(this,na).set(Go(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,na).values()];let n={};return t.forEach(r=>{fc(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,Os).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Zv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,Os).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,rt).clear(),P(this,As).clear()}},rt=new WeakMap,As=new WeakMap,Os=new WeakMap,ta=new WeakMap,na=new WeakMap,Is=new WeakMap,ra=new WeakMap,sa=new WeakMap,Ib),tn,Se,kc,qt,Oo,oa,Ds,Pr,Ec,ia,aa,Io,Do,Fs,la,Me,_l,Kp,Gp,Yp,Qp,Jp,Xp,Zp,N_,Db,_I=(Db=class extends Ma{constructor(t,n){super();ue(this,Me);ue(this,tn);ue(this,Se);ue(this,kc);ue(this,qt);ue(this,Oo);ue(this,oa);ue(this,Ds);ue(this,Pr);ue(this,Ec);ue(this,ia);ue(this,aa);ue(this,Io);ue(this,Do);ue(this,Fs);ue(this,la,new Set);this.options=n,te(this,tn,t),te(this,Pr,null),te(this,Ds,qp()),this.options.experimental_prefetchInRender||P(this,Ds).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,Se).addObserver(this),ow(P(this,Se),this.options)?be(this,Me,_l).call(this):this.updateResult(),be(this,Me,Qp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eg(P(this,Se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eg(P(this,Se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,Me,Jp).call(this),be(this,Me,Xp).call(this),P(this,Se).removeObserver(this)}setOptions(t,n){const r=this.options,s=P(this,Se);if(this.options=P(this,tn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nr(this.options.enabled,P(this,Se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,Me,Zp).call(this),P(this,Se).setOptions(this.options),r._defaulted&&!Bu(this.options,r)&&P(this,tn).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,Se),observer:this});const i=this.hasListeners();i&&iw(P(this,Se),s,this.options,r)&&be(this,Me,_l).call(this),this.updateResult(n),i&&(P(this,Se)!==s||nr(this.options.enabled,P(this,Se))!==nr(r.enabled,P(this,Se))||Hi(this.options.staleTime,P(this,Se))!==Hi(r.staleTime,P(this,Se)))&&be(this,Me,Kp).call(this);const a=be(this,Me,Gp).call(this);i&&(P(this,Se)!==s||nr(this.options.enabled,P(this,Se))!==nr(r.enabled,P(this,Se))||a!==P(this,Fs))&&be(this,Me,Yp).call(this,a)}getOptimisticResult(t){const n=P(this,tn).getQueryCache().build(P(this,tn),t),r=this.createResult(n,t);return CI(this,r)&&(te(this,qt,r),te(this,oa,this.options),te(this,Oo,P(this,Se).state)),r}getCurrentResult(){return P(this,qt)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){P(this,la).add(t)}getCurrentQuery(){return P(this,Se)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=P(this,tn).defaultQueryOptions(t),r=P(this,tn).getQueryCache().build(P(this,tn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return be(this,Me,_l).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,qt)))}createResult(t,n){var k;const r=P(this,Se),s=this.options,i=P(this,qt),a=P(this,Oo),l=P(this,oa),d=t!==r?t.state:P(this,kc),{state:u}=t;let f={...u},m=!1,p;if(n._optimisticResults){const E=this.hasListeners(),R=!E&&ow(t,n),M=E&&iw(t,r,n,s);(R||M)&&(f={...f,...b_(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:v}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(a==null?void 0:a.data)&&n.select===P(this,Ec))p=P(this,ia);else try{te(this,Ec,n.select),p=n.select(f.data),p=Vp(i==null?void 0:i.data,p,n),te(this,ia,p),te(this,Pr,null)}catch(E){te(this,Pr,E)}else p=f.data;if(n.placeholderData!==void 0&&p===void 0&&v==="pending"){let E;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((k=P(this,aa))==null?void 0:k.state.data,P(this,aa)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),te(this,Pr,null)}catch(R){te(this,Pr,R)}E!==void 0&&(v="success",p=Vp(i==null?void 0:i.data,E,n),m=!0)}P(this,Pr)&&(y=P(this,Pr),p=P(this,ia),g=Date.now(),v="error");const x=f.fetchStatus==="fetching",w=v==="pending",b=v==="error",j=w&&x,_=p!==void 0,N={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:b,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:b&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&_,isStale:tx(t,n),refetch:this.refetch,promise:P(this,Ds)};if(this.options.experimental_prefetchInRender){const E=O=>{N.status==="error"?O.reject(N.error):N.data!==void 0&&O.resolve(N.data)},R=()=>{const O=te(this,Ds,N.promise=qp());E(O)},M=P(this,Ds);switch(M.status){case"pending":t.queryHash===r.queryHash&&E(M);break;case"fulfilled":(N.status==="error"||N.data!==M.value)&&R();break;case"rejected":(N.status!=="error"||N.error!==M.reason)&&R();break}}return N}updateResult(t){const n=P(this,qt),r=this.createResult(P(this,Se),this.options);if(te(this,Oo,P(this,Se).state),te(this,oa,this.options),P(this,Oo).data!==void 0&&te(this,aa,P(this,Se)),Bu(r,n))return;te(this,qt,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!P(this,la).size)return!0;const c=new Set(l??P(this,la));return this.options.throwOnError&&c.add("error"),Object.keys(P(this,qt)).some(d=>{const u=d;return P(this,qt)[u]!==n[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),be(this,Me,N_).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,Me,Qp).call(this)}},tn=new WeakMap,Se=new WeakMap,kc=new WeakMap,qt=new WeakMap,Oo=new WeakMap,oa=new WeakMap,Ds=new WeakMap,Pr=new WeakMap,Ec=new WeakMap,ia=new WeakMap,aa=new WeakMap,Io=new WeakMap,Do=new WeakMap,Fs=new WeakMap,la=new WeakMap,Me=new WeakSet,_l=function(t){be(this,Me,Zp).call(this);let n=P(this,Se).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Tn)),n},Kp=function(){be(this,Me,Jp).call(this);const t=Hi(this.options.staleTime,P(this,Se));if(Ko||P(this,qt).isStale||!Wp(t))return;const r=m_(P(this,qt).dataUpdatedAt,t)+1;te(this,Io,setTimeout(()=>{P(this,qt).isStale||this.updateResult()},r))},Gp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,Se)):this.options.refetchInterval)??!1},Yp=function(t){be(this,Me,Xp).call(this),te(this,Fs,t),!(Ko||nr(this.options.enabled,P(this,Se))===!1||!Wp(P(this,Fs))||P(this,Fs)===0)&&te(this,Do,setInterval(()=>{(this.options.refetchIntervalInBackground||ex.isFocused())&&be(this,Me,_l).call(this)},P(this,Fs)))},Qp=function(){be(this,Me,Kp).call(this),be(this,Me,Yp).call(this,be(this,Me,Gp).call(this))},Jp=function(){P(this,Io)&&(clearTimeout(P(this,Io)),te(this,Io,void 0))},Xp=function(){P(this,Do)&&(clearInterval(P(this,Do)),te(this,Do,void 0))},Zp=function(){const t=P(this,tn).getQueryCache().build(P(this,tn),this.options);if(t===P(this,Se))return;const n=P(this,Se);te(this,Se,t),te(this,kc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},N_=function(t){ft.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(P(this,qt))}),P(this,tn).getQueryCache().notify({query:P(this,Se),type:"observerResultsUpdated"})})},Db);function SI(e,t){return nr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ow(e,t){return SI(e,t)||e.state.data!==void 0&&eg(e,t,t.refetchOnMount)}function eg(e,t,n){if(nr(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&tx(e,t)}return!1}function iw(e,t,n,r){return(e!==t||nr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&tx(e,n)}function tx(e,t){return nr(t.enabled,e)!==!1&&e.isStaleByTime(Hi(t.staleTime,e))}function CI(e,t){return!Bu(e.getCurrentResult(),t)}var Ls,$s,nn,Jr,ts,su,tg,Fb,kI=(Fb=class extends Ma{constructor(n,r){super();ue(this,ts);ue(this,Ls);ue(this,$s);ue(this,nn);ue(this,Jr);te(this,Ls,n),this.setOptions(r),this.bindMethods(),be(this,ts,su).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=P(this,Ls).defaultMutationOptions(n),Bu(this.options,r)||P(this,Ls).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,nn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Go(r.mutationKey)!==Go(this.options.mutationKey)?this.reset():((s=P(this,nn))==null?void 0:s.state.status)==="pending"&&P(this,nn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=P(this,nn))==null||n.removeObserver(this)}onMutationUpdate(n){be(this,ts,su).call(this),be(this,ts,tg).call(this,n)}getCurrentResult(){return P(this,$s)}reset(){var n;(n=P(this,nn))==null||n.removeObserver(this),te(this,nn,void 0),be(this,ts,su).call(this),be(this,ts,tg).call(this)}mutate(n,r){var s;return te(this,Jr,r),(s=P(this,nn))==null||s.removeObserver(this),te(this,nn,P(this,Ls).getMutationCache().build(P(this,Ls),this.options)),P(this,nn).addObserver(this),P(this,nn).execute(n)}},Ls=new WeakMap,$s=new WeakMap,nn=new WeakMap,Jr=new WeakMap,ts=new WeakSet,su=function(){var r;const n=((r=P(this,nn))==null?void 0:r.state)??j_();te(this,$s,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},tg=function(n){ft.batch(()=>{var r,s,i,a,l,c,d,u;if(P(this,Jr)&&this.hasListeners()){const f=P(this,$s).variables,m=P(this,$s).context;(n==null?void 0:n.type)==="success"?((s=(r=P(this,Jr)).onSuccess)==null||s.call(r,n.data,f,m),(a=(i=P(this,Jr)).onSettled)==null||a.call(i,n.data,null,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=P(this,Jr)).onError)==null||c.call(l,n.error,f,m),(u=(d=P(this,Jr)).onSettled)==null||u.call(d,void 0,n.error,f,m))}this.listeners.forEach(f=>{f(P(this,$s))})})},Fb),__=h.createContext(void 0),nx=e=>{const t=h.useContext(__);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},EI=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(__.Provider,{value:e,children:t})),S_=h.createContext(!1),PI=()=>h.useContext(S_);S_.Provider;function TI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var RI=h.createContext(TI()),MI=()=>h.useContext(RI);function C_(e,t){return typeof e=="function"?e(...t):!!e}function k_(){}var AI=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},OI=e=>{h.useEffect(()=>{e.clearReset()},[e])},II=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&C_(n,[e.error,r]),DI=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},FI=(e,t)=>e.isLoading&&e.isFetching&&!t,LI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,aw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function $I(e,t,n){var u,f,m,p,y;const r=nx(),s=PI(),i=MI(),a=r.defaultQueryOptions(e);(f=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,a),a._optimisticResults=s?"isRestoring":"optimistic",DI(a),AI(a,i),OI(i);const l=!r.getQueryCache().get(a.queryHash),[c]=h.useState(()=>new t(r,a)),d=c.getOptimisticResult(a);if(h.useSyncExternalStore(h.useCallback(g=>{const v=s?()=>{}:c.subscribe(ft.batchCalls(g));return c.updateResult(),v},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),LI(a,d))throw aw(a,c,i);if(II({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw d.error;if((p=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,a,d),a.experimental_prefetchInRender&&!Ko&&FI(d,s)){const g=l?aw(a,c,i):(y=r.getQueryCache().get(a.queryHash))==null?void 0:y.promise;g==null||g.catch(k_).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function UI(e,t){return $I(e,_I)}function am(e,t){const n=nx(),[r]=h.useState(()=>new kI(n,e));h.useEffect(()=>{r.setOptions(e)},[r,e]);const s=h.useSyncExternalStore(h.useCallback(a=>r.subscribe(ft.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=h.useCallback((a,l)=>{r.mutate(a,l).catch(k_)},[r]);if(s.error&&C_(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hc.apply(this,arguments)}var Bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bs||(Bs={}));const lw="popstate";function zI(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return ng("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Hu(s)}return WI(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function E_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BI(){return Math.random().toString(36).substr(2,8)}function cw(e,t){return{usr:e.state,key:e.key,idx:t}}function ng(e,t,n,r){return n===void 0&&(n=null),hc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Aa(t):t,{state:n,key:t&&t.key||r||BI()})}function Hu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Aa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function WI(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Bs.Pop,c=null,d=u();d==null&&(d=0,a.replaceState(hc({},a.state,{idx:d}),""));function u(){return(a.state||{idx:null}).idx}function f(){l=Bs.Pop;let v=u(),x=v==null?null:v-d;d=v,c&&c({action:l,location:g.location,delta:x})}function m(v,x){l=Bs.Push;let w=ng(g.location,v,x);d=u()+1;let b=cw(w,d),j=g.createHref(w);try{a.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}i&&c&&c({action:l,location:g.location,delta:1})}function p(v,x){l=Bs.Replace;let w=ng(g.location,v,x);d=u();let b=cw(w,d),j=g.createHref(w);a.replaceState(b,"",j),i&&c&&c({action:l,location:g.location,delta:0})}function y(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof v=="string"?v:Hu(v);return w=w.replace(/ $/,"%20"),et(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let g={get action(){return l},get location(){return e(s,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(lw,f),c=v,()=>{s.removeEventListener(lw,f),c=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(v){return a.go(v)}};return g}var dw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dw||(dw={}));function HI(e,t,n){return n===void 0&&(n="/"),VI(e,t,n,!1)}function VI(e,t,n,r){let s=typeof t=="string"?Aa(t):t,i=wa(s.pathname||"/",n);if(i==null)return null;let a=P_(e);qI(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=rD(i);l=tD(a[c],d,r)}return l}function P_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Js([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),P_(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:ZI(d,i.index),routesMeta:u})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of T_(i.path))s(i,a,c)}),t}function T_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=T_(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:eD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KI=/^:[\w-]+$/,GI=3,YI=2,QI=1,JI=10,XI=-2,uw=e=>e==="*";function ZI(e,t){let n=e.split("/"),r=n.length;return n.some(uw)&&(r+=XI),t&&(r+=YI),n.filter(s=>!uw(s)).reduce((s,i)=>s+(KI.test(i)?GI:i===""?QI:JI),r)}function eD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function tD(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Vu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Vu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Js([i,f.pathname]),pathnameBase:aD(Js([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Js([i,f.pathnameBase]))}return a}function Vu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=nD(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,u,f)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let g=l[f]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?d[m]=void 0:d[m]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function nD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),E_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function rD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return E_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Aa(e):e;return{pathname:n?n.startsWith("/")?n:oD(n,t):t,search:lD(r),hash:cD(s)}}function oD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rx(e,t){let n=iD(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sx(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Aa(e):(s=hc({},e),et(!s.pathname||!s.pathname.includes("?"),lm("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),lm("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),lm("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=sD(s,l),d=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Js=e=>e.join("/").replace(/\/\/+/g,"/"),aD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const R_=["post","put","patch","delete"];new Set(R_);const uD=["get",...R_];new Set(uD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mc.apply(this,arguments)}const qf=h.createContext(null),M_=h.createContext(null),us=h.createContext(null),Kf=h.createContext(null),Ur=h.createContext({outlet:null,matches:[],isDataRoute:!1}),A_=h.createContext(null);function fD(e,t){let{relative:n}=t===void 0?{}:t;Oa()||et(!1);let{basename:r,navigator:s}=h.useContext(us),{hash:i,pathname:a,search:l}=Gf(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Js([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Oa(){return h.useContext(Kf)!=null}function fo(){return Oa()||et(!1),h.useContext(Kf).location}function O_(e){h.useContext(us).static||h.useLayoutEffect(e)}function Ia(){let{isDataRoute:e}=h.useContext(Ur);return e?ED():hD()}function hD(){Oa()||et(!1);let e=h.useContext(qf),{basename:t,future:n,navigator:r}=h.useContext(us),{matches:s}=h.useContext(Ur),{pathname:i}=fo(),a=JSON.stringify(rx(s,n.v7_relativeSplatPath)),l=h.useRef(!1);return O_(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=sx(d,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Js([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,a,i,e])}const mD=h.createContext(null);function pD(e){let t=h.useContext(Ur).outlet;return t&&h.createElement(mD.Provider,{value:e},t)}function gD(){let{matches:e}=h.useContext(Ur),t=e[e.length-1];return t?t.params:{}}function Gf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(us),{matches:s}=h.useContext(Ur),{pathname:i}=fo(),a=JSON.stringify(rx(s,r.v7_relativeSplatPath));return h.useMemo(()=>sx(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function vD(e,t){return xD(e,t)}function xD(e,t,n,r){Oa()||et(!1);let{navigator:s}=h.useContext(us),{matches:i}=h.useContext(Ur),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=fo(),u;if(t){var f;let v=typeof t=="string"?Aa(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||et(!1),u=v}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=HI(e,{pathname:p}),g=ND(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Js([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Js([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return t&&g?h.createElement(Kf.Provider,{value:{location:mc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Bs.Pop}},g):g}function yD(){let e=kD(),t=dD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,null)}const wD=h.createElement(yD,null);class bD extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Ur.Provider,{value:this.props.routeContext},h.createElement(A_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jD(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(qf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Ur.Provider,{value:t},r)}function ND(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let u=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||et(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:p}=n,y=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,f,m)=>{let p,y=!1,g=null,v=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||wD,c&&(d<0&&m===0?(y=!0,v=null):d===m&&(y=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,m+1)),w=()=>{let b;return p?b=g:y?b=v:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,h.createElement(jD,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(bD,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var I_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(I_||{}),qu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qu||{});function _D(e){let t=h.useContext(qf);return t||et(!1),t}function SD(e){let t=h.useContext(M_);return t||et(!1),t}function CD(e){let t=h.useContext(Ur);return t||et(!1),t}function D_(e){let t=CD(),n=t.matches[t.matches.length-1];return n.route.id||et(!1),n.route.id}function kD(){var e;let t=h.useContext(A_),n=SD(qu.UseRouteError),r=D_(qu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ED(){let{router:e}=_D(I_.UseNavigateStable),t=D_(qu.UseNavigateStable),n=h.useRef(!1);return O_(()=>{n.current=!0}),h.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,mc({fromRouteId:t},i)))},[e,t])}function PD(e){let{to:t,replace:n,state:r,relative:s}=e;Oa()||et(!1);let{future:i,static:a}=h.useContext(us),{matches:l}=h.useContext(Ur),{pathname:c}=fo(),d=Ia(),u=sx(t,rx(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function TD(e){return pD(e.context)}function Ot(e){et(!1)}function RD(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Bs.Pop,navigator:i,static:a=!1,future:l}=e;Oa()&&et(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:a,future:mc({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Aa(r));let{pathname:u="/",search:f="",hash:m="",state:p=null,key:y="default"}=r,g=h.useMemo(()=>{let v=wa(u,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:p,key:y},navigationType:s}},[c,u,f,m,p,y,s]);return g==null?null:h.createElement(us.Provider,{value:d},h.createElement(Kf.Provider,{children:n,value:g}))}function MD(e){let{children:t,location:n}=e;return vD(rg(t),n)}new Promise(()=>{});function rg(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let i=[...t,s];if(r.type===h.Fragment){n.push.apply(n,rg(r.props.children,i));return}r.type!==Ot&&et(!1),!r.props.index||!r.props.children||et(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=rg(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ku.apply(this,arguments)}function F_(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function AD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OD(e,t){return e.button===0&&(!t||t==="_self")&&!AD(e)}function sg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function ID(e,t){let n=sg(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const DD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],LD="6";try{window.__reactRouterVersion=LD}catch{}const $D=h.createContext({isTransitioning:!1}),UD="startTransition",fw=Yb[UD];function zD(e){let{basename:t,children:n,future:r,window:s}=e,i=h.useRef();i.current==null&&(i.current=zI({window:s,v5Compat:!0}));let a=i.current,[l,c]=h.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},u=h.useCallback(f=>{d&&fw?fw(()=>c(f)):c(f)},[c,d]);return h.useLayoutEffect(()=>a.listen(u),[a,u]),h.createElement(RD,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const BD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L_=h.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=F_(t,DD),{basename:p}=h.useContext(us),y,g=!1;if(typeof d=="string"&&WD.test(d)&&(y=d,BD))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),_=wa(j.pathname,p);j.origin===b.origin&&_!=null?d=_+j.search+j.hash:g=!0}catch{}let v=fD(d,{relative:s}),x=VD(d,{replace:a,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:f});function w(b){r&&r(b),b.defaultPrevented||x(b)}return h.createElement("a",Ku({},m,{href:y||v,onClick:g||i?r:w,ref:n,target:c}))}),hw=h.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:u}=t,f=F_(t,FD),m=Gf(c,{relative:f.relative}),p=fo(),y=h.useContext(M_),{navigator:g,basename:v}=h.useContext(us),x=y!=null&&KD(m)&&d===!0,w=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,b=p.pathname,j=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(b=b.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&v&&(j=wa(j,v)||j);const _=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let C=b===w||!a&&b.startsWith(w)&&b.charAt(_)==="/",N=j!=null&&(j===w||!a&&j.startsWith(w)&&j.charAt(w.length)==="/"),k={isActive:C,isPending:N,isTransitioning:x},E=C?r:void 0,R;typeof i=="function"?R=i(k):R=[i,C?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(k):l;return h.createElement(L_,Ku({},f,{"aria-current":E,className:R,ref:n,style:M,to:c,viewTransition:d}),typeof u=="function"?u(k):u)});var og;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(og||(og={}));var mw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mw||(mw={}));function HD(e){let t=h.useContext(qf);return t||et(!1),t}function VD(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Ia(),d=fo(),u=Gf(e,{relative:a});return h.useCallback(f=>{if(OD(f,n)){f.preventDefault();let m=r!==void 0?r:Hu(d)===Hu(u);c(e,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,u,r,s,n,e,i,a,l])}function qD(e){let t=h.useRef(sg(e)),n=h.useRef(!1),r=fo(),s=h.useMemo(()=>ID(r.search,n.current?null:t.current),[r.search]),i=Ia(),a=h.useCallback((l,c)=>{const d=sg(typeof l=="function"?l(s):l);n.current=!0,i("?"+d,c)},[i,s]);return[s,a]}function KD(e,t){t===void 0&&(t={});let n=h.useContext($D);n==null&&et(!1);let{basename:r}=HD(og.useViewTransitionState),s=Gf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=wa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=wa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vu(s.pathname,a)!=null||Vu(s.pathname,i)!=null}const se=h.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Y("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));se.displayName="Card";const ce=h.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Y("flex flex-col space-y-1.5 p-6",e),...t}));ce.displayName="CardHeader";const de=h.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:Y("text-2xl font-semibold leading-none tracking-tight",e),...t}));de.displayName="CardTitle";const Da=h.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));Da.displayName="CardDescription";const ie=h.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Y("p-6 pt-0",e),...t}));ie.displayName="CardContent";const $_=h.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Y("flex items-center p-6 pt-0",e),...t}));$_.displayName="CardFooter";const GD=ni("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-500 text-white hover:bg-emerald-500/80",warning:"border-transparent bg-amber-500 text-white hover:bg-amber-500/80",processing:"border-transparent bg-blue-500 text-white hover:bg-blue-500/80"}},defaultVariants:{variant:"default"}});function re({className:e,variant:t,...n}){return o.jsx("div",{className:Y(GD({variant:t}),e),...n})}const YD=()=>{console.log("Index page component rendering");const e=[{id:1,title:"Load PLA+ Black filament on Printer A1-001",description:"Current spool is running low (< 50g remaining)",type:"filament_change",priority:"high",assignedTo:"John Doe",printer:"A1-001",estimatedTime:10},{id:2,title:"Replace nozzle on Printer X1C-002",description:"Nozzle shows signs of wear",type:"maintenance",priority:"high",assignedTo:"Alex Wilson",printer:"X1C-002",estimatedTime:30},{id:3,title:"Assemble custom phone case order #ORD-789",description:"Attach phone case to packaging insert",type:"assembly",priority:"medium",assignedTo:"Mike Johnson",estimatedTime:15}],t=r=>{switch(r){case"filament_change":return o.jsx(va,{className:"h-4 w-4"});case"assembly":return o.jsx(to,{className:"h-4 w-4"});case"maintenance":return o.jsx(to,{className:"h-4 w-4"});default:return o.jsx(rr,{className:"h-4 w-4"})}},n=r=>{switch(r){case"high":return"text-red-600 border-red-200";case"medium":return"text-orange-600 border-orange-200";case"low":return"text-gray-600 border-gray-200";default:return"text-gray-600 border-gray-200"}};return o.jsxs("div",{className:"flex flex-col gap-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Active Printers"}),o.jsx(va,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"3/5"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"60% utilization rate"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Jobs in Queue"}),o.jsx(Df,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"8"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"~12 hours remaining"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Low Stock Items"}),o.jsx(at,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"4"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Need reordering"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Today's Revenue"}),o.jsx(Iu,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$324"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from yesterday"})]})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{children:[o.jsx(de,{children:"Worklist To do"}),o.jsx(Da,{children:"Top pending tasks requiring attention"})]}),o.jsx(ie,{children:o.jsx("div",{className:"space-y-4",children:e.map(r=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[t(r.type),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:r.title}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.assignedTo,"  ",r.printer&&`${r.printer}  `,r.description]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(re,{variant:"outline",className:n(r.priority),children:r.priority.toUpperCase()}),o.jsxs(re,{variant:"outline",className:"text-muted-foreground border-gray-200",children:[o.jsx(rr,{className:"w-3 h-3 mr-1"}),r.estimatedTime," min"]})]})]},r.id))})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Low Stock Finished Goods"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Custom Phone Stand"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU: PHS-001-BLK"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"0 units"}),o.jsx(re,{variant:"destructive",children:"Out of Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Desktop Organizer"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU: ORG-002-WHT"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"0 units"}),o.jsx(re,{variant:"destructive",children:"Out of Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cable Holder"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU: CHD-003-GRY"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"2 units"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Wall Mount Bracket"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU: WMB-004-BLK"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"3 units"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Desk Lamp Base"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU: DLB-005-WHT"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"4 units"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]})]})})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Low Stock Materials"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"PLA+ Filament"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Black  1.75mm"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"45g"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"PETG Filament"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Clear  1.75mm"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"78g"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cardboard Boxes"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Small  4x4x2 in"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"8 units"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Nozzles 0.4mm"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Hardened Steel"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"1 unit"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Build Plates"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"PEI Sheet  A1 Mini"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"2 units"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Fleet Status"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Ir,{className:"w-4 h-4 text-green-500"}),"Printer Alpha (Idle)"]}),o.jsx(re,{variant:"secondary",children:"Ready"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),"Printer Beta (Printing)"]}),o.jsx(re,{className:"bg-blue-100 text-blue-800",children:"Active"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Ir,{className:"w-4 h-4 text-green-500"}),"Printer Gamma (Idle)"]}),o.jsx(re,{variant:"secondary",children:"Ready"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),"Production Unit 1 (Printing)"]}),o.jsx(re,{className:"bg-green-100 text-green-800",children:"Active"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Dc,{className:"w-4 h-4 text-yellow-500"}),"Production Unit 2 (Maintenance)"]}),o.jsx(re,{variant:"outline",className:"text-yellow-600 border-yellow-200",children:"Maintenance"})]})]})})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Recent Orders"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"ORD-2024-001"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Sarah Johnson  Etsy"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"$24.98"}),o.jsx(re,{className:"bg-blue-100 text-blue-800",children:"Processing"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"ORD-2024-002"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Mike Chen  Shopify"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"$15.99"}),o.jsx(re,{className:"bg-green-100 text-green-800",children:"Fulfilled"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"B2B-2024-001"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"TechCorp Industries  Manual"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"$124.95"}),o.jsx(re,{className:"bg-blue-100 text-blue-800",children:"Processing"})]})]})]})})]})]})]})},pc=ni("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?is:"button";return o.jsx(a,{className:Y(pc({variant:t,size:n,className:e})),ref:i,...s})});L.displayName="Button";const QD=()=>{const e=fo();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center p-4",children:[o.jsx("h1",{className:"text-8xl md:text-9xl font-bold text-primary",children:"404"}),o.jsx("p",{className:"text-2xl md:text-3xl font-semibold mt-4",children:"Oops! Page not found"}),o.jsx("p",{className:"text-muted-foreground mt-2 max-w-md mx-auto",children:"The page you are looking for does not exist, has been moved, or is under construction."}),o.jsx(L,{asChild:!0,className:"mt-6",children:o.jsx(L_,{to:"/",children:"Return to Dashboard"})})]})})},JD="modulepreload",XD=function(e){return"/"+e},pw={},Fa=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=XD(c),c in pw)return;pw[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":JD,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},ZD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Fa(async()=>{const{default:r}=await Promise.resolve().then(()=>La);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ox extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class eF extends ox{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gw extends ox{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vw extends ox{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ig;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ig||(ig={}));var tF=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class nF{constructor(t,{headers:n={},customFetch:r,region:s=ig.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=ZD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return tF(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(g=>{throw new eF(g)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new gw(f);if(!f.ok)throw new vw(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield f.json():p==="application/octet-stream"?y=yield f.blob():p==="text/event-stream"?y=f:p==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof vw||s instanceof gw?s.context:void 0}}})}}var sn={},ix={},Yf={},$c={},Qf={},Jf={},rF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ba=rF();const sF=ba.fetch,U_=ba.fetch.bind(ba),z_=ba.Headers,oF=ba.Request,iF=ba.Response,La=Object.freeze(Object.defineProperty({__proto__:null,Headers:z_,Request:oF,Response:iF,default:U_,fetch:sF},Symbol.toStringTag,{value:"Module"})),aF=CP(La);var Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});let lF=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Xf.default=lF;var B_=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jf,"__esModule",{value:!0});const cF=B_(aF),dF=B_(Xf);let uF=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=cF.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let d=null,u=null,f=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,m=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{d=JSON.parse(g),Array.isArray(d)&&i.status===404&&(u=[],d=null,m=200,p="OK")}catch{i.status===404&&g===""?(m=204,p="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,p="OK"),d&&this.shouldThrowOnError)throw new dF.default(d)}return{error:d,data:u,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Jf.default=uF;var fF=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qf,"__esModule",{value:!0});const hF=fF(Jf);let mF=class extends hF.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qf.default=mF;var pF=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($c,"__esModule",{value:!0});const gF=pF(Qf);let vF=class extends gF.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};$c.default=vF;var xF=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yf,"__esModule",{value:!0});const gl=xF($c);let yF=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new gl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new gl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new gl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new gl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new gl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yf.default=yF;var Zf={},eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.version=void 0;eh.version="0.0.0-automated";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.DEFAULT_HEADERS=void 0;const wF=eh;Zf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${wF.version}`};var W_=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ix,"__esModule",{value:!0});const bF=W_(Yf),jF=W_($c),NF=Zf;let _F=class H_{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},NF.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new bF.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new H_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(a="POST",c=n);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new jF.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ix.default=_F;var $a=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sn,"__esModule",{value:!0});sn.PostgrestError=sn.PostgrestBuilder=sn.PostgrestTransformBuilder=sn.PostgrestFilterBuilder=sn.PostgrestQueryBuilder=sn.PostgrestClient=void 0;const V_=$a(ix);sn.PostgrestClient=V_.default;const q_=$a(Yf);sn.PostgrestQueryBuilder=q_.default;const K_=$a($c);sn.PostgrestFilterBuilder=K_.default;const G_=$a(Qf);sn.PostgrestTransformBuilder=G_.default;const Y_=$a(Jf);sn.PostgrestBuilder=Y_.default;const Q_=$a(Xf);sn.PostgrestError=Q_.default;var SF=sn.default={PostgrestClient:V_.default,PostgrestQueryBuilder:q_.default,PostgrestFilterBuilder:K_.default,PostgrestTransformBuilder:G_.default,PostgrestBuilder:Y_.default,PostgrestError:Q_.default};const{PostgrestClient:CF,PostgrestQueryBuilder:xH,PostgrestFilterBuilder:yH,PostgrestTransformBuilder:wH,PostgrestBuilder:bH,PostgrestError:jH}=SF;function kF(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const EF=kF(),PF="2.11.15",TF=`realtime-js/${PF}`,RF="1.0.0",J_=1e4,MF=1e3;var Ll;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ll||(Ll={}));var It;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(It||(It={}));var er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(er||(er={}));var ag;(function(e){e.websocket="websocket"})(ag||(ag={}));var So;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(So||(So={}));class AF{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+i));a=a+i;const d=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class X_{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const xw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,a)=>(i[a]=OF(a,e,t,s),i),{})},OF=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?Z_(i,a):lg(a)},Z_=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return LF(t,n)}switch(e){case Le.bool:return IF(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return DF(t);case Le.json:case Le.jsonb:return FF(t);case Le.timestamp:return $F(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return lg(t);default:return lg(t)}},lg=e=>e,IF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},FF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},LF=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Z_(t,l))}return e},$F=e=>typeof e=="string"?e.replace(" ","T"):e,eS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class cm{constructor(t,n,r={},s=J_){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yw||(yw={}));class $l{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$l.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=$l.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=$l.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(d,u)=>{a[d]||(c[d]=u)}),this.map(a,(d,u)=>{const f=i[d];if(f){const m=u.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),y=u.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>m.indexOf(v.presence_ref)<0);y.length>0&&(l[d]=y),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(p=>p.presence_ref),m=u.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}r(l,u,c)}),this.map(a,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ww;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ww||(ww={}));var bw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bw||(bw={}));var Yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yr||(Yr={}));class ax{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cm(this,er.join,this.params,this.timeout),this.rejoinTimer=new X_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(er.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new $l(this),this.broadcastEndpointURL=eS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==It.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(u=>t==null?void 0:t(Yr.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Yr.CLOSED));const c={},d={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(Yr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,y=[];for(let g=0;g<p;g++){const v=m[g],{filter:{event:x,schema:w,table:b,filter:j}}=v,_=u&&u[g];if(_&&_.event===x&&_.schema===w&&_.table===b&&_.filter===j)y.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),this.state=It.errored,t==null||t(Yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Yr.SUBSCRIBED);return}}).receive("error",u=>{this.state=It.errored,t==null||t(Yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(er.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new cm(this,er.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new cm(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=er;if(r&&[l,c,d,u].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,g,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(p=>p.callback(m,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var y,g,v,x,w,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const j=p.id,_=(y=p.filter)===null||y===void 0?void 0:y.event;return j&&((g=n.ids)===null||g===void 0?void 0:g.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(w=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:g,table:v,commit_timestamp:x,type:w,errors:b}=y;m=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(m,r)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ax.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(er.close,{},t)}_onError(t){this._on(er.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xw(t.columns,t.old_record)),n}}const jw=()=>{},UF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zF{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=J_,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jw,this.ref=0,this.logger=jw,this.conn=null,this.sendBuffer=[],this.serializer=new AF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Fa(async()=>{const{default:c}=await Promise.resolve().then(()=>La);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${ag.websocket}`,this.httpEndpoint=eS(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new X_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=EF),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RF}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ll.connecting:return So.Connecting;case Ll.open:return So.Open;case Ll.closing:return So.Closing;default:return So.Closed}}isConnected(){return this.connectionState()===So.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ax(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:TF};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(er.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(MF,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(er.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([UF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class lx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function yt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class BF extends lx{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cg extends lx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var WF=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const tS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Fa(async()=>{const{default:r}=await Promise.resolve().then(()=>La);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},HF=()=>WF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fa(()=>Promise.resolve().then(()=>La),void 0)).Response:Response}),dg=e=>{if(Array.isArray(e))return e.map(n=>dg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=dg(r)}),t};var ri=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const dm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VF=(e,t,n)=>ri(void 0,void 0,void 0,function*(){const r=yield HF();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new BF(dm(s),e.status||500))}).catch(s=>{t(new cg(dm(s),s))}):t(new cg(dm(e),e))}),qF=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Uc(e,t,n,r,s,i){return ri(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,qF(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>VF(c,l,r))})})}function Gu(e,t,n,r){return ri(this,void 0,void 0,function*(){return Uc(e,"GET",t,n,r)})}function Cs(e,t,n,r,s){return ri(this,void 0,void 0,function*(){return Uc(e,"POST",t,r,s,n)})}function KF(e,t,n,r,s){return ri(this,void 0,void 0,function*(){return Uc(e,"PUT",t,r,s,n)})}function GF(e,t,n,r){return ri(this,void 0,void 0,function*(){return Uc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function nS(e,t,n,r,s){return ri(this,void 0,void 0,function*(){return Uc(e,"DELETE",t,r,s,n)})}var en=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const YF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QF{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=tS(s)}uploadOrUpdate(t,n,r,s){return en(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Nw),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),m=yield f.json();return f.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}upload(t,n,r){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return en(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:Nw.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(yt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return en(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Cs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new lx("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}update(t,n,r){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return en(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return en(this,void 0,void 0,function*(){try{return{data:{path:(yield Cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return en(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Cs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return en(this,void 0,void 0,function*(){try{const s=yield Cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}download(t,n){return en(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Gu(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(yt(l))return{data:null,error:l};throw l}})}info(t){return en(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Gu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:dg(r),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}exists(t){return en(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield GF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(yt(r)&&r instanceof cg){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return en(this,void 0,void 0,function*(){try{return{data:yield nS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}list(t,n,r){return en(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},YF),n),{prefix:t||""});return{data:yield Cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const JF="2.7.1",XF={"X-Client-Info":`storage-js/${JF}`};var mi=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class ZF{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},XF),n),this.fetch=tS(r)}listBuckets(){return mi(this,void 0,void 0,function*(){try{return{data:yield Gu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}getBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield Gu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return mi(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return mi(this,void 0,void 0,function*(){try{return{data:yield KF(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield nS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}}class eL extends ZF{constructor(t,n={},r){super(t,n,r)}from(t){return new QF(this.url,this.headers,t,this.fetch)}}const tL="2.50.3";let Sl="";typeof Deno<"u"?Sl="deno":typeof document<"u"?Sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sl="react-native":Sl="node";const nL={"X-Client-Info":`supabase-js-${Sl}/${tL}`},rL={headers:nL},sL={schema:"public"},oL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iL={};var aL=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const lL=e=>{let t;return e?t=e:typeof fetch>"u"?t=U_:t=fetch,(...n)=>t(...n)},cL=()=>typeof Headers>"u"?z_:Headers,dL=(e,t,n)=>{const r=lL(n),s=cL();return(i,a)=>aL(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:d}))})};var uL=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};function fL(e){return e.endsWith("/")?e:e+"/"}function hL(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),a),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>uL(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const rS="2.70.0",Ni=30*1e3,ug=3,um=ug*Ni,mL="http://localhost:9999",pL="supabase.auth.token",gL={"X-Client-Info":`gotrue-js/${rS}`},fg="X-Supabase-Api-Version",sS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xL=6e5;class cx extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yL extends cx{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wL(e){return xe(e)&&e.name==="AuthApiError"}class oS extends cx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ho extends cx{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class js extends ho{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bL(e){return xe(e)&&e.name==="AuthSessionMissingError"}class Ed extends ho{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pd extends ho{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Td extends ho{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jL(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class _w extends ho{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hg extends ho{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function fm(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class Sw extends ho{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ul extends ho{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cw=` 	
\r=`.split(""),NL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Cw.length;t+=1)e[Cw[t].charCodeAt(0)]=-2;for(let t=0;t<Yu.length;t+=1)e[Yu[t].charCodeAt(0)]=t;return e})();function kw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yu[r]),t.queuedBits-=6}}function iS(e,t,n){const r=NL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ew(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{CL(a,r,n)};for(let a=0;a<e.length;a+=1)iS(e.charCodeAt(a),s,i);return t.join("")}function _L(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function SL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}_L(r,t)}}function CL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function kL(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)iS(e.charCodeAt(s),n,r);return new Uint8Array(t)}function EL(e){const t=[];return SL(e,n=>t.push(n)),new Uint8Array(t)}function PL(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>kw(s,n,r)),kw(null,n,r),t.join("")}function TL(e){return Math.round(Date.now()/1e3)+e}function RL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Yn=()=>typeof window<"u"&&typeof document<"u",wo={tested:!1,writable:!1},zl=()=>{if(!Yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wo.tested)return wo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wo.tested=!0,wo.writable=!0}catch{wo.tested=!0,wo.writable=!1}return wo.writable};function ML(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const aS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Fa(async()=>{const{default:r}=await Promise.resolve().then(()=>La);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},AL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lS=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Rd=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Md=async(e,t)=>{await e.removeItem(t)};class th{constructor(){this.promise=new th.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}th.promiseConstructor=Promise;function hm(e){const t=e.split(".");if(t.length!==3)throw new Ul("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!vL.test(t[r]))throw new Ul("JWT not in base64url format");return{header:JSON.parse(Ew(t[0])),payload:JSON.parse(Ew(t[1])),signature:kL(t[2]),raw:{header:t[0],payload:t[1]}}}async function OL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function IL(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function DL(e){return("0"+e.toString(16)).substr(-2)}function FL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,DL).join("")}async function LL(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function $L(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await LL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pi(e,t,n=!1){const r=FL();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await lS(e,`${t}-code-verifier`,s);const i=await $L(r);return[i,r===i?"plain":"s256"]}const UL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zL(e){const t=e.headers.get(fg);if(!t||!t.match(UL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function BL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gi(e){if(!HL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var VL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const No=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qL=[502,503,504];async function Pw(e){var t;if(!AL(e))throw new hg(No(e),0);if(qL.includes(e.status))throw new hg(No(e),e.status);let n;try{n=await e.json()}catch(i){throw new oS(No(i),i)}let r;const s=zL(e);if(s&&s.getTime()>=sS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Sw(No(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new js}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Sw(No(n),e.status,n.weak_password.reasons);throw new yL(No(n),e.status||500,r)}const KL=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function je(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[fg]||(i[fg]=sS["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await GL(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function GL(e,t,n,r,s,i){const a=KL(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new hg(No(c),0)}if(l.ok||await Pw(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Pw(c)}}function Kr(e){var t;let n=null;XL(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=TL(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Tw(e){const t=Kr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ts(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YL(e){return{data:e,error:null}}function QL(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=VL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function JL(e){return e}function XL(e){return e.access_token&&e.refresh_token&&e.expires_in}const mm=["global","local","others"];var ZL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class e${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=aS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=mm[0]){if(mm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mm.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ts})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ZL(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:QL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ts})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:JL});if(u.error)throw u.error;const f=await u.json(),m=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);d[`${v}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(xe(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){gi(t);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ts})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){gi(t);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ts})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){gi(t);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ts})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){gi(t.userId);try{const{data:n,error:r}=await je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){gi(t.userId),gi(t.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}const t$={getItem:e=>zl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{zl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{zl()&&globalThis.localStorage.removeItem(e)}};function Rw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function n$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vi={debug:!!(globalThis&&zl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class r$ extends cS{}async function s$(e,t,n){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),vi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new r$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}n$();const o$={url:mL,storageKey:pL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mw(e,t,n){return await n()}class gc{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gc.nextInstanceID,gc.nextInstanceID+=1,this.instanceID>0&&Yn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},o$),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new e$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=aS(s.fetch),this.lock=s.lock||Mw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Yn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=s$:this.lock=Mw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:zl()?this.storage=t$:(this.memoryStorage={},this.storage=Rw(this.memoryStorage)):(this.memoryStorage={},this.storage=Rw(this.memoryStorage)),Yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ML(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Yn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jL(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?{error:n}:{error:new oS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Kr}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:f,options:m}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await pi(this.storage,this.storageKey)),i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:y},xform:Kr})}else if("phone"in t){const{phone:u,password:f,options:m}=t;i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Kr})}else throw new Pd("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Tw})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Tw})}else throw new Pd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ed}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,a,l,c,d,u,f,m,p;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:v,wallet:x,statement:w,options:b}=t;let j;if(Yn())if(typeof x=="object")j=x;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))j=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const C=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),w?{statement:w}:null));let N;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")N=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)N=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const C=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:v,error:x}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:PL(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Kr});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Ed}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(xe(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const n=await Rd(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Kr});if(await Md(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ed}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(xe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kr}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ed}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await pi(this.storage,this.storageKey));const{error:f}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Pd("You must provide either an email or phone number.")}catch(l){if(xe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Kr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await pi(this.storage,this.storageKey)),await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:YL})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new js;const{error:s}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Pd("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Rd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<um:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ts}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new js}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ts})})}catch(n){if(xe(n))return bL(n)&&(await this._removeSession(),await Md(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new js;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await pi(this.storage,this.storageKey));const{data:d,error:u}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ts});if(u)throw u;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new js;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=hm(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(xe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new js;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Yn())throw new Td("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Td(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _w("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Td("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _w("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!a||!d)throw new Td("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const p=m-u;p*1e3<=Ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=m-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,u);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:a,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(xe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Rd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(wL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Md(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=RL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await pi(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,d,u;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Yn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(xe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await IL(async s=>(s>0&&await OL(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&fm(i)&&Date.now()+a-r<Ni})}catch(r){if(this._debug(n,"error",r),xe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Yn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Rd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<um;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${um}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),fm(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new js;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new th;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new js;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),xe(i)){const a={session:null,error:i};return fm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await lS(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Md(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ni);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ni}ms, refresh threshold is ${ug} ticks`),s<=ug&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await pi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=hm(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r||(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+xL>Date.now()))return r;const{data:s,error:i}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ul("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(a=>a.kid===t),!r)throw new Ul("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=hm(r);if(BL(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const d=WL(s.alg),u=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,EL(`${l}.${c}`)))throw new Ul("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}}gc.nextInstanceID=0;const i$=gc;class a$ extends i${constructor(t){super(t)}}var l$=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class c${constructor(t,n,r){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=fL(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:sL,realtime:iL,auth:Object.assign(Object.assign({},oL),{storageKey:d}),global:rL},f=hL(r??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=dL(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new CF(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new nF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eL(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return l$(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a$({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new zF(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const d$=(e,t,n)=>new c$(e,t,n),u$="https://rippurqgfesmtoovxidz.supabase.co",f$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpcHB1cnFnZmVzbXRvb3Z4aWR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE0OTQwNjEsImV4cCI6MjA2NzA3MDA2MX0.ct4KGkxZvQS0LW9llwKlPK4VAPsdHusKU_3mWXzOt58",G=d$(u$,f$,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),dS=h.createContext(void 0),si=()=>{const e=h.useContext(dS);if(e===void 0)throw new Error("useAuth must be used within AuthProvider");return e},h$=({children:e})=>{const[t,n]=h.useState(null),[r,s]=h.useState(null),[i,a]=h.useState(null),[l,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(!0),p=async(w,b,j)=>{try{const{data:_,error:C}=await G.from("profiles").select("*").eq("id",w).single();c(_&&!C?_:{id:w,email:(j==null?void 0:j.email)||"",first_name:(j==null?void 0:j.first_name)||"",last_name:(j==null?void 0:j.last_name)||null,role:(j==null?void 0:j.role)||null,tenant_id:b})}catch(_){console.error("Error fetching profile:",_),c({id:w,email:(j==null?void 0:j.email)||"",first_name:(j==null?void 0:j.first_name)||"",last_name:(j==null?void 0:j.last_name)||null,role:(j==null?void 0:j.role)||null,tenant_id:b})}};h.useEffect(()=>{G.auth.getSession().then(({data:{session:b}})=>{var _,C,N,k;s(b),n((b==null?void 0:b.user)??null);const j=((C=(_=b==null?void 0:b.user)==null?void 0:_.user_metadata)==null?void 0:C.tenant_id)??null;a(j),u(j?{id:j,company_name:((k=(N=b==null?void 0:b.user)==null?void 0:N.user_metadata)==null?void 0:k.company_name)||"PrintFlow"}:null),b!=null&&b.user?setTimeout(()=>{p(b.user.id,j,b.user.user_metadata)},0):c(null),m(!1)});const{data:{subscription:w}}=G.auth.onAuthStateChange((b,j)=>{var C,N,k,E;s(j),n((j==null?void 0:j.user)??null);const _=((N=(C=j==null?void 0:j.user)==null?void 0:C.user_metadata)==null?void 0:N.tenant_id)??null;a(_),u(_?{id:_,company_name:((E=(k=j==null?void 0:j.user)==null?void 0:k.user_metadata)==null?void 0:E.company_name)||"PrintFlow"}:null),j!=null&&j.user?setTimeout(()=>{p(j.user.id,_,j.user.user_metadata)},0):c(null),m(!1)});return()=>w.unsubscribe()},[]);const x={user:t,session:r,tenantId:i,profile:l,tenant:d,loading:f,signIn:async(w,b)=>{const{error:j}=await G.auth.signInWithPassword({email:w,password:b});return{error:j}},signUp:async(w,b,j,_,C)=>{try{const N=C.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")+"-"+Date.now().toString(36),{data:k,error:E}=await G.from("tenants").insert({company_name:C,subdomain:N,is_active:!0}).select("*").single();if(E)if(E.code==="23505"){const O=N+"-"+Math.random().toString(36).substring(7),{data:A,error:I}=await G.from("tenants").insert({company_name:C,subdomain:O,is_active:!0}).select("*").single();if(I)return{error:new Error("Failed to create company account")};k.id=A.id}else return{error:E};const{data:R,error:M}=await G.auth.signUp({email:w,password:b,options:{data:{first_name:j,last_name:_,tenant_id:k.id,company_name:C,role:"admin"}}});if(M)return await G.from("tenants").delete().eq("id",k.id),{error:M};if(R.user){const{error:O}=await G.from("profiles").insert({id:R.user.id,tenant_id:k.id,email:w,first_name:j,last_name:_,role:"admin",is_active:!0});O&&O.code!=="23505"&&console.error("Profile creation error:",O)}return{error:null}}catch(N){return{error:N}}},signOut:async()=>{await G.auth.signOut()}};return o.jsx(dS.Provider,{value:x,children:e})},m$=({sidebarOpen:e,setSidebarOpen:t})=>{const{profile:n,tenant:r}=si(),s=[{href:"/",label:"Dashboard",icon:lA},{href:"/printers",label:"Printers",icon:va},{href:"/worklist",label:"Worklist",icon:Ap},{href:"/queue",label:"Print Queue",icon:Lf},{href:"/products",label:"Products",icon:Ff},{href:"/material-inventory",label:"Materials",icon:aA},{href:"/inventory",label:"Finished Goods",icon:at},{href:"/orders",label:"Orders",icon:Dv},{href:"/analytics",label:"Analytics",icon:JM},{href:"/store",label:"Store",icon:xA},{href:"/settings",label:"Settings",icon:PN}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:Y("fixed inset-0 bg-black/60 z-30 sm:hidden",e?"block":"hidden"),onClick:()=>t(!1)}),o.jsxs("aside",{className:Y("fixed inset-y-0 left-0 z-40 flex w-64 flex-col border-r bg-card transition-transform duration-300 ease-in-out sm:relative sm:translate-x-0",e?"translate-x-0":"-translate-x-full"),children:[o.jsxs("div",{className:"flex h-14 items-center justify-between border-b px-4 lg:h-[60px] lg:px-6",children:[o.jsxs(hw,{to:"/",className:"flex items-center gap-2 whitespace-nowrap font-semibold text-foreground",children:[o.jsx(YM,{className:"h-6 w-6 text-primary"}),o.jsx("span",{children:(r==null?void 0:r.company_name)||"PrintFarm OS"})]}),o.jsx(L,{variant:"ghost",size:"icon",className:"sm:hidden",onClick:()=>t(!1),children:o.jsx(no,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:o.jsx("nav",{className:"flex flex-col gap-1 p-2",children:s.map(({href:i,label:a,icon:l})=>o.jsxs(hw,{to:i,end:!0,className:({isActive:c})=>Y("flex items-center gap-3 rounded-lg px-3 h-10 transition-all",c?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground hover:bg-muted hover:text-primary"),onClick:()=>{window.innerWidth<640&&t(!1)},children:[o.jsx(l,{className:"h-5 w-5 shrink-0"}),o.jsx("span",{className:"font-medium whitespace-nowrap",children:a})]},a))})})]})]})};var p$=h.createContext(void 0);function Ua(e){const t=h.useContext(p$);return e||t||"ltr"}var pm=0;function nh(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Aw()),document.body.insertAdjacentElement("beforeend",e[1]??Aw()),pm++,()=>{pm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),pm--}},[])}function Aw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gm="focusScope.autoFocusOnMount",vm="focusScope.autoFocusOnUnmount",Ow={bubbles:!1,cancelable:!0},g$="FocusScope",zc=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=h.useState(null),d=Ke(s),u=Ke(i),f=h.useRef(null),m=ye(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let g=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:Ns(f.current,{select:!0})},v=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Ns(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&Ns(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,l,p.paused]),h.useEffect(()=>{if(l){Dw.add(p);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(gm,Ow);l.addEventListener(gm,d),l.dispatchEvent(x),x.defaultPrevented||(v$(j$(uS(l)),{select:!0}),document.activeElement===g&&Ns(l))}return()=>{l.removeEventListener(gm,d),setTimeout(()=>{const x=new CustomEvent(vm,Ow);l.addEventListener(vm,u),l.dispatchEvent(x),x.defaultPrevented||Ns(g??document.body,{select:!0}),l.removeEventListener(vm,u),Dw.remove(p)},0)}}},[l,d,u,p]);const y=h.useCallback(g=>{if(!n&&!r||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const w=g.currentTarget,[b,j]=x$(w);b&&j?!g.shiftKey&&x===j?(g.preventDefault(),n&&Ns(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),n&&Ns(j,{select:!0})):x===w&&g.preventDefault()}},[n,r,p.paused]);return o.jsx(ae.div,{tabIndex:-1,...a,ref:m,onKeyDown:y})});zc.displayName=g$;function v$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ns(r,{select:t}),document.activeElement!==n)return}function x$(e){const t=uS(e),n=Iw(t,e),r=Iw(t.reverse(),e);return[n,r]}function uS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Iw(e,t){for(const n of e)if(!y$(n,{upTo:t}))return n}function y$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w$(e){return e instanceof HTMLInputElement&&"select"in e}function Ns(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&w$(e)&&t&&e.select()}}var Dw=b$();function b$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Fw(e,t),e.unshift(t)},remove(t){var n;e=Fw(e,t),(n=e[0])==null||n.resume()}}}function Fw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function j$(e){return e.filter(t=>t.tagName!=="A")}function N$(e,t=[]){let n=[];function r(i,a){const l=h.createContext(a),c=n.length;n=[...n,a];function d(f){const{scope:m,children:p,...y}=f,g=(m==null?void 0:m[e][c])||l,v=h.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})}function u(f,m){const p=(m==null?void 0:m[e][c])||l,y=h.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=n.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,_$(s,...t)]}function _$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var xm="rovingFocusGroup.onEntryFocus",S$={bubbles:!1,cancelable:!0},rh="RovingFocusGroup",[mg,fS,C$]=Tf(rh),[k$,za]=N$(rh,[C$]),[E$,P$]=k$(rh),hS=h.forwardRef((e,t)=>o.jsx(mg.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(mg.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(T$,{...e,ref:t})})}));hS.displayName=rh;var T$=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),p=ye(t,m),y=Ua(i),[g=null,v]=zn({prop:a,defaultProp:l,onChange:c}),[x,w]=h.useState(!1),b=Ke(d),j=fS(n),_=h.useRef(!1),[C,N]=h.useState(0);return h.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(xm,b),()=>k.removeEventListener(xm,b)},[b]),o.jsx(E$,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:g,onItemFocus:h.useCallback(k=>v(k),[v]),onItemShiftTab:h.useCallback(()=>w(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>N(k=>k-1),[]),children:o.jsx(ae.div,{tabIndex:x||C===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:K(e.onMouseDown,()=>{_.current=!0}),onFocus:K(e.onFocus,k=>{const E=!_.current;if(k.target===k.currentTarget&&E&&!x){const R=new CustomEvent(xm,S$);if(k.currentTarget.dispatchEvent(R),!R.defaultPrevented){const M=j().filter(U=>U.focusable),O=M.find(U=>U.active),A=M.find(U=>U.id===g),W=[O,A,...M].filter(Boolean).map(U=>U.ref.current);gS(W,u)}}_.current=!1}),onBlur:K(e.onBlur,()=>w(!1))})})}),mS="RovingFocusGroupItem",pS=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=e,l=ir(),c=i||l,d=P$(mS,n),u=d.currentTabStopId===c,f=fS(n),{onFocusableItemAdd:m,onFocusableItemRemove:p}=d;return h.useEffect(()=>{if(r)return m(),()=>p()},[r,m,p]),o.jsx(mg.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(ae.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:K(e.onMouseDown,y=>{r?d.onItemFocus(c):y.preventDefault()}),onFocus:K(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:K(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=A$(y,d.orientation,d.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const w=x.indexOf(y.currentTarget);x=d.loop?O$(x,w+1):x.slice(w+1)}setTimeout(()=>gS(x))}})})})});pS.displayName=mS;var R$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function A$(e,t,n){const r=M$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return R$[r]}function gS(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function O$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var dx=hS,ux=pS,I$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xi=new WeakMap,Ad=new WeakMap,Od={},ym=0,vS=function(e){return e&&(e.host||vS(e.parentNode))},D$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=vS(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},F$=function(e,t,n,r){var s=D$(t,Array.isArray(e)?e:[e]);Od[n]||(Od[n]=new WeakMap);var i=Od[n],a=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(r),y=p!==null&&p!=="false",g=(xi.get(m)||0)+1,v=(i.get(m)||0)+1;xi.set(m,g),i.set(m,v),a.push(m),g===1&&y&&Ad.set(m,!0),v===1&&m.setAttribute(n,"true"),y||m.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return u(t),l.clear(),ym++,function(){a.forEach(function(f){var m=xi.get(f)-1,p=i.get(f)-1;xi.set(f,m),i.set(f,p),m||(Ad.has(f)||f.removeAttribute(r),Ad.delete(f)),p||f.removeAttribute(n)}),ym--,ym||(xi=new WeakMap,xi=new WeakMap,Ad=new WeakMap,Od={})}},sh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=I$(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),F$(r,s,n,"aria-hidden")):function(){return null}},Rr=function(){return Rr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rr.apply(this,arguments)};function xS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function L$(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ou="right-scroll-bar-position",iu="width-before-scroll-bar",$$="with-scroll-bars-hidden",U$="--removed-body-scroll-bar-size";function wm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function z$(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var B$=typeof window<"u"?h.useLayoutEffect:h.useEffect,Lw=new WeakMap;function W$(e,t){var n=z$(null,function(r){return e.forEach(function(s){return wm(s,r)})});return B$(function(){var r=Lw.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(l){i.has(l)||wm(l,null)}),i.forEach(function(l){s.has(l)||wm(l,a)})}Lw.set(n,e)},[e]),n}function H$(e){return e}function V$(e,t){t===void 0&&(t=H$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var u=a;a=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){a.push(u),d()},filter:function(u){return a=a.filter(u),n}}}};return s}function q$(e){e===void 0&&(e={});var t=V$(null);return t.options=Rr({async:!0,ssr:!1},e),t}var yS=function(e){var t=e.sideCar,n=xS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Rr({},n))};yS.isSideCarExport=!0;function K$(e,t){return e.useMedium(t),yS}var wS=q$(),bm=function(){},oh=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:bm,onWheelCapture:bm,onTouchMoveCapture:bm}),s=r[0],i=r[1],a=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,p=e.noIsolation,y=e.inert,g=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,b=xS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,_=W$([n,t]),C=Rr(Rr({},b),s);return h.createElement(h.Fragment,null,u&&h.createElement(j,{sideCar:wS,removeScrollBar:d,shards:f,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:w}),a?h.cloneElement(h.Children.only(l),Rr(Rr({},C),{ref:_})):h.createElement(x,Rr({},C,{className:c,ref:_}),l))});oh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oh.classNames={fullWidth:iu,zeroRight:ou};var G$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Y$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=G$();return t&&e.setAttribute("nonce",t),e}function Q$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function J$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var X$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Y$())&&(Q$(t,n),J$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Z$=function(){var e=X$();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},bS=function(){var e=Z$(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},e3={left:0,top:0,right:0,gap:0},jm=function(e){return parseInt(e||"",10)||0},t3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[jm(n),jm(r),jm(s)]},n3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return e3;var t=t3(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},r3=bS(),Vi="data-scroll-locked",s3=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat($$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Vi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ou,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(iu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ou," .").concat(ou,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(iu," .").concat(iu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vi,`] {
    `).concat(U$,": ").concat(l,`px;
  }
`)},$w=function(){var e=parseInt(document.body.getAttribute(Vi)||"0",10);return isFinite(e)?e:0},o3=function(){h.useEffect(function(){return document.body.setAttribute(Vi,($w()+1).toString()),function(){var e=$w()-1;e<=0?document.body.removeAttribute(Vi):document.body.setAttribute(Vi,e.toString())}},[])},i3=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;o3();var i=h.useMemo(function(){return n3(s)},[s]);return h.createElement(r3,{styles:s3(i,!t,s,n?"":"!important")})},pg=!1;if(typeof window<"u")try{var Id=Object.defineProperty({},"passive",{get:function(){return pg=!0,!0}});window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{pg=!1}var yi=pg?{passive:!1}:!1,a3=function(e){return e.tagName==="TEXTAREA"},jS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!a3(e)&&n[t]==="visible")},l3=function(e){return jS(e,"overflowY")},c3=function(e){return jS(e,"overflowX")},Uw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=NS(e,r);if(s){var i=_S(e,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},d3=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},u3=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},NS=function(e,t){return e==="v"?l3(t):c3(t)},_S=function(e,t){return e==="v"?d3(t):u3(t)},f3=function(e,t){return e==="h"&&t==="rtl"?-1:1},h3=function(e,t,n,r,s){var i=f3(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,c=t.contains(l),d=!1,u=a>0,f=0,m=0;do{var p=_S(e,l),y=p[0],g=p[1],v=p[2],x=g-v-i*y;(y||x)&&NS(e,l)&&(f+=x,m+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(m)<1||!s))&&(d=!0),d},Dd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},zw=function(e){return[e.deltaX,e.deltaY]},Bw=function(e){return e&&"current"in e?e.current:e},m3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},p3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},g3=0,wi=[];function v3(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(g3++)[0],i=h.useState(bS)[0],a=h.useRef(e);h.useEffect(function(){a.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=L$([e.lockRef.current],(e.shards||[]).map(Bw),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var x=Dd(g),w=n.current,b="deltaX"in g?g.deltaX:w[0]-x[0],j="deltaY"in g?g.deltaY:w[1]-x[1],_,C=g.target,N=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&N==="h"&&C.type==="range")return!1;var k=Uw(N,C);if(!k)return!0;if(k?_=N:(_=N==="v"?"h":"v",k=Uw(N,C)),!k)return!1;if(!r.current&&"changedTouches"in g&&(b||j)&&(r.current=_),!_)return!0;var E=r.current||_;return h3(E,v,g,E==="h"?b:j,!0)},[]),c=h.useCallback(function(g){var v=g;if(!(!wi.length||wi[wi.length-1]!==i)){var x="deltaY"in v?zw(v):Dd(v),w=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&m3(_.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(a.current.shards||[]).map(Bw).filter(Boolean).filter(function(_){return _.contains(v.target)}),j=b.length>0?l(v,b[0]):!a.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),d=h.useCallback(function(g,v,x,w){var b={name:g,delta:v,target:x,should:w,shadowParent:x3(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),u=h.useCallback(function(g){n.current=Dd(g),r.current=void 0},[]),f=h.useCallback(function(g){d(g.type,zw(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){d(g.type,Dd(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return wi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,yi),document.addEventListener("touchmove",c,yi),document.addEventListener("touchstart",u,yi),function(){wi=wi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,yi),document.removeEventListener("touchmove",c,yi),document.removeEventListener("touchstart",u,yi)}},[]);var p=e.removeScrollBar,y=e.inert;return h.createElement(h.Fragment,null,y?h.createElement(i,{styles:p3(s)}):null,p?h.createElement(i3,{gapMode:e.gapMode}):null)}function x3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const y3=K$(wS,v3);var Bc=h.forwardRef(function(e,t){return h.createElement(oh,Rr({},e,{ref:t,sideCar:y3}))});Bc.classNames=oh.classNames;var gg=["Enter"," "],w3=["ArrowDown","PageUp","Home"],SS=["ArrowUp","PageDown","End"],b3=[...w3,...SS],j3={ltr:[...gg,"ArrowRight"],rtl:[...gg,"ArrowLeft"]},N3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wc="Menu",[vc,_3,S3]=Tf(Wc),[oi,CS]=Hn(Wc,[S3,uo,za]),ih=uo(),kS=za(),[C3,ii]=oi(Wc),[k3,Hc]=oi(Wc),ES=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=e,l=ih(t),[c,d]=h.useState(null),u=h.useRef(!1),f=Ke(i),m=Ua(s);return h.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(Qv,{...l,children:o.jsx(C3,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:d,children:o.jsx(k3,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:a,children:r})})})};ES.displayName=Wc;var E3="MenuAnchor",fx=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=ih(n);return o.jsx(Lc,{...s,...r,ref:t})});fx.displayName=E3;var hx="MenuPortal",[P3,PS]=oi(hx,{forceMount:void 0}),TS=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=ii(hx,t);return o.jsx(P3,{scope:t,forceMount:n,children:o.jsx(Rt,{present:n||i.open,children:o.jsx(Ea,{asChild:!0,container:s,children:r})})})};TS.displayName=hx;var Fn="MenuContent",[T3,mx]=oi(Fn),RS=h.forwardRef((e,t)=>{const n=PS(Fn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=ii(Fn,e.__scopeMenu),a=Hc(Fn,e.__scopeMenu);return o.jsx(vc.Provider,{scope:e.__scopeMenu,children:o.jsx(Rt,{present:r||i.open,children:o.jsx(vc.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(R3,{...s,ref:t}):o.jsx(M3,{...s,ref:t})})})})}),R3=h.forwardRef((e,t)=>{const n=ii(Fn,e.__scopeMenu),r=h.useRef(null),s=ye(t,r);return h.useEffect(()=>{const i=r.current;if(i)return sh(i)},[]),o.jsx(px,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:K(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),M3=h.forwardRef((e,t)=>{const n=ii(Fn,e.__scopeMenu);return o.jsx(px,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),px=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:y,...g}=e,v=ii(Fn,n),x=Hc(Fn,n),w=ih(n),b=kS(n),j=_3(n),[_,C]=h.useState(null),N=h.useRef(null),k=ye(t,N,v.onContentChange),E=h.useRef(0),R=h.useRef(""),M=h.useRef(0),O=h.useRef(null),A=h.useRef("right"),I=h.useRef(0),W=y?Bc:h.Fragment,U=y?{as:is,allowPinchZoom:!0}:void 0,D=T=>{var $,Z;const z=R.current+T,B=j().filter(me=>!me.disabled),H=document.activeElement,V=($=B.find(me=>me.ref.current===H))==null?void 0:$.textValue,J=B.map(me=>me.textValue),ve=H3(J,z,V),X=(Z=B.find(me=>me.textValue===ve))==null?void 0:Z.ref.current;(function me(oe){R.current=oe,window.clearTimeout(E.current),oe!==""&&(E.current=window.setTimeout(()=>me(""),1e3))})(z),X&&setTimeout(()=>X.focus())};h.useEffect(()=>()=>window.clearTimeout(E.current),[]),nh();const S=h.useCallback(T=>{var B,H;return A.current===((B=O.current)==null?void 0:B.side)&&q3(T,(H=O.current)==null?void 0:H.area)},[]);return o.jsx(T3,{scope:n,searchRef:R,onItemEnter:h.useCallback(T=>{S(T)&&T.preventDefault()},[S]),onItemLeave:h.useCallback(T=>{var z;S(T)||((z=N.current)==null||z.focus(),C(null))},[S]),onTriggerLeave:h.useCallback(T=>{S(T)&&T.preventDefault()},[S]),pointerGraceTimerRef:M,onPointerGraceIntentChange:h.useCallback(T=>{O.current=T},[]),children:o.jsx(W,{...U,children:o.jsx(zc,{asChild:!0,trapped:s,onMountAutoFocus:K(i,T=>{var z;T.preventDefault(),(z=N.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(ti,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:o.jsx(dx,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:C,onEntryFocus:K(c,T=>{x.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Bf,{role:"menu","aria-orientation":"vertical","data-state":KS(v.open),"data-radix-menu-content":"",dir:x.dir,...w,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:K(g.onKeyDown,T=>{const B=T.target.closest("[data-radix-menu-content]")===T.currentTarget,H=T.ctrlKey||T.altKey||T.metaKey,V=T.key.length===1;B&&(T.key==="Tab"&&T.preventDefault(),!H&&V&&D(T.key));const J=N.current;if(T.target!==J||!b3.includes(T.key))return;T.preventDefault();const X=j().filter($=>!$.disabled).map($=>$.ref.current);SS.includes(T.key)&&X.reverse(),B3(X)}),onBlur:K(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(E.current),R.current="")}),onPointerMove:K(e.onPointerMove,xc(T=>{const z=T.target,B=I.current!==T.clientX;if(T.currentTarget.contains(z)&&B){const H=T.clientX>I.current?"right":"left";A.current=H,I.current=T.clientX}}))})})})})})})});RS.displayName=Fn;var A3="MenuGroup",gx=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ae.div,{role:"group",...r,ref:t})});gx.displayName=A3;var O3="MenuLabel",MS=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ae.div,{...r,ref:t})});MS.displayName=O3;var Qu="MenuItem",Ww="menu.itemSelect",ah=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=h.useRef(null),a=Hc(Qu,e.__scopeMenu),l=mx(Qu,e.__scopeMenu),c=ye(t,i),d=h.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(Ww,{bubbles:!0,cancelable:!0});f.addEventListener(Ww,p=>r==null?void 0:r(p),{once:!0}),Tv(f,m),m.defaultPrevented?d.current=!1:a.onClose()}};return o.jsx(AS,{...s,ref:c,disabled:n,onClick:K(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:K(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:K(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||gg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ah.displayName=Qu;var AS=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,a=mx(Qu,n),l=kS(n),c=h.useRef(null),d=ye(t,c),[u,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),o.jsx(vc.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:o.jsx(ux,{asChild:!0,...l,focusable:!r,children:o.jsx(ae.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:K(e.onPointerMove,xc(y=>{r?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:K(e.onPointerLeave,xc(y=>a.onItemLeave(y))),onFocus:K(e.onFocus,()=>f(!0)),onBlur:K(e.onBlur,()=>f(!1))})})})}),I3="MenuCheckboxItem",OS=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return o.jsx($S,{scope:e.__scopeMenu,checked:n,children:o.jsx(ah,{role:"menuitemcheckbox","aria-checked":Ju(n)?"mixed":n,...s,ref:t,"data-state":xx(n),onSelect:K(s.onSelect,()=>r==null?void 0:r(Ju(n)?!0:!n),{checkForDefaultPrevented:!1})})})});OS.displayName=I3;var IS="MenuRadioGroup",[D3,F3]=oi(IS,{value:void 0,onValueChange:()=>{}}),DS=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=Ke(r);return o.jsx(D3,{scope:e.__scopeMenu,value:n,onValueChange:i,children:o.jsx(gx,{...s,ref:t})})});DS.displayName=IS;var FS="MenuRadioItem",LS=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=F3(FS,e.__scopeMenu),i=n===s.value;return o.jsx($S,{scope:e.__scopeMenu,checked:i,children:o.jsx(ah,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":xx(i),onSelect:K(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});LS.displayName=FS;var vx="MenuItemIndicator",[$S,L3]=oi(vx,{checked:!1}),US=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=L3(vx,n);return o.jsx(Rt,{present:r||Ju(i.checked)||i.checked===!0,children:o.jsx(ae.span,{...s,ref:t,"data-state":xx(i.checked)})})});US.displayName=vx;var $3="MenuSeparator",zS=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});zS.displayName=$3;var U3="MenuArrow",BS=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=ih(n);return o.jsx(Wf,{...s,...r,ref:t})});BS.displayName=U3;var z3="MenuSub",[NH,WS]=oi(z3),Cl="MenuSubTrigger",HS=h.forwardRef((e,t)=>{const n=ii(Cl,e.__scopeMenu),r=Hc(Cl,e.__scopeMenu),s=WS(Cl,e.__scopeMenu),i=mx(Cl,e.__scopeMenu),a=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(fx,{asChild:!0,...d,children:o.jsx(AS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":KS(n.open),...e,ref:Pf(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:K(e.onPointerMove,xc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:K(e.onPointerLeave,xc(f=>{var p,y;u();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(y=n.content)==null?void 0:y.dataset.side,v=g==="right",x=v?-5:5,w=m[v?"left":"right"],b=m[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:w,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:w,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:K(e.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||j3[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});HS.displayName=Cl;var VS="MenuSubContent",qS=h.forwardRef((e,t)=>{const n=PS(Fn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=ii(Fn,e.__scopeMenu),a=Hc(Fn,e.__scopeMenu),l=WS(VS,e.__scopeMenu),c=h.useRef(null),d=ye(t,c);return o.jsx(vc.Provider,{scope:e.__scopeMenu,children:o.jsx(Rt,{present:r||i.open,children:o.jsx(vc.Slot,{scope:e.__scopeMenu,children:o.jsx(px,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:K(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:K(e.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:K(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),m=N3[a.dir].includes(u.key);f&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});qS.displayName=VS;function KS(e){return e?"open":"closed"}function Ju(e){return e==="indeterminate"}function xx(e){return Ju(e)?"indeterminate":e?"checked":"unchecked"}function B3(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function W3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function H3(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=W3(e,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function V3(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,d=t[a].x,u=t[a].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(s=!s)}return s}function q3(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return V3(n,t)}function xc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var K3=ES,G3=fx,Y3=TS,Q3=RS,J3=gx,X3=MS,Z3=ah,e5=OS,t5=DS,n5=LS,r5=US,s5=zS,o5=BS,i5=HS,a5=qS,yx="DropdownMenu",[l5,_H]=Hn(yx,[CS]),Xt=CS(),[c5,GS]=l5(yx),YS=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,c=Xt(t),d=h.useRef(null),[u=!1,f]=zn({prop:s,defaultProp:i,onChange:a});return o.jsx(c5,{scope:t,triggerId:ir(),triggerRef:d,contentId:ir(),open:u,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:o.jsx(K3,{...c,open:u,onOpenChange:f,dir:r,modal:l,children:n})})};YS.displayName=yx;var QS="DropdownMenuTrigger",JS=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=GS(QS,n),a=Xt(n);return o.jsx(G3,{asChild:!0,...a,children:o.jsx(ae.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Pf(t,i.triggerRef),onPointerDown:K(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:K(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});JS.displayName=QS;var d5="DropdownMenuPortal",XS=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Xt(t);return o.jsx(Y3,{...r,...n})};XS.displayName=d5;var ZS="DropdownMenuContent",eC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=GS(ZS,n),i=Xt(n),a=h.useRef(!1);return o.jsx(Q3,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:K(e.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:K(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eC.displayName=ZS;var u5="DropdownMenuGroup",f5=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(J3,{...s,...r,ref:t})});f5.displayName=u5;var h5="DropdownMenuLabel",tC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(X3,{...s,...r,ref:t})});tC.displayName=h5;var m5="DropdownMenuItem",nC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(Z3,{...s,...r,ref:t})});nC.displayName=m5;var p5="DropdownMenuCheckboxItem",rC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(e5,{...s,...r,ref:t})});rC.displayName=p5;var g5="DropdownMenuRadioGroup",v5=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(t5,{...s,...r,ref:t})});v5.displayName=g5;var x5="DropdownMenuRadioItem",sC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(n5,{...s,...r,ref:t})});sC.displayName=x5;var y5="DropdownMenuItemIndicator",oC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(r5,{...s,...r,ref:t})});oC.displayName=y5;var w5="DropdownMenuSeparator",iC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(s5,{...s,...r,ref:t})});iC.displayName=w5;var b5="DropdownMenuArrow",j5=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(o5,{...s,...r,ref:t})});j5.displayName=b5;var N5="DropdownMenuSubTrigger",aC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(i5,{...s,...r,ref:t})});aC.displayName=N5;var _5="DropdownMenuSubContent",lC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(a5,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lC.displayName=_5;var S5=YS,C5=JS,k5=XS,cC=eC,dC=tC,uC=nC,fC=rC,hC=sC,mC=oC,pC=iC,gC=aC,vC=lC;const ur=S5,fr=C5,E5=h.forwardRef(({className:e,inset:t,children:n,...r},s)=>o.jsxs(gC,{ref:s,className:Y("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,o.jsx(Of,{className:"ml-auto h-4 w-4"})]}));E5.displayName=gC.displayName;const P5=h.forwardRef(({className:e,...t},n)=>o.jsx(vC,{ref:n,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));P5.displayName=vC.displayName;const Bn=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(k5,{children:o.jsx(cC,{ref:r,sideOffset:t,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Bn.displayName=cC.displayName;const Ge=h.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(uC,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Ge.displayName=uC.displayName;const T5=h.forwardRef(({className:e,children:t,checked:n,...r},s)=>o.jsxs(fC,{ref:s,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(mC,{children:o.jsx(cc,{className:"h-4 w-4"})})}),t]}));T5.displayName=fC.displayName;const R5=h.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(hC,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(mC,{children:o.jsx(tA,{className:"h-2 w-2 fill-current"})})}),t]}));R5.displayName=hC.displayName;const fs=h.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(dC,{ref:r,className:Y("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));fs.displayName=dC.displayName;const vg=h.forwardRef(({className:e,...t},n)=>o.jsx(pC,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));vg.displayName=pC.displayName;function M5(){const{setTheme:e}=zv();return o.jsxs(ur,{children:[o.jsx(fr,{asChild:!0,children:o.jsxs(L,{variant:"outline",size:"icon",className:"h-9 w-9",children:[o.jsx(L0,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(D0,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),o.jsxs(Bn,{align:"end",children:[o.jsxs(Ge,{onClick:()=>e("light"),children:[o.jsx(L0,{className:"mr-2 h-4 w-4"}),"Light"]}),o.jsxs(Ge,{onClick:()=>e("dark"),children:[o.jsx(D0,{className:"mr-2 h-4 w-4"}),"Dark"]}),o.jsxs(Ge,{onClick:()=>e("system"),children:[o.jsx(hA,{className:"mr-2 h-4 w-4"}),"System"]})]})]})}var wx="Avatar",[A5,SH]=Hn(wx),[O5,xC]=A5(wx),yC=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=h.useState("idle");return o.jsx(O5,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(ae.span,{...r,ref:t})})});yC.displayName=wx;var wC="AvatarImage",bC=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,a=xC(wC,n),l=I5(r,i.referrerPolicy),c=Ke(d=>{s(d),a.onImageLoadingStatusChange(d)});return pt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ae.img,{...i,ref:t,src:r}):null});bC.displayName=wC;var jC="AvatarFallback",NC=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=xC(jC,n),[a,l]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(ae.span,{...s,ref:t}):null});NC.displayName=jC;function I5(e,t){const[n,r]=h.useState("idle");return pt(()=>{if(!e){r("error");return}let s=!0;const i=new window.Image,a=l=>()=>{s&&r(l)};return r("loading"),i.onload=a("loaded"),i.onerror=a("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var _C=yC,SC=bC,CC=NC;const kC=h.forwardRef(({className:e,...t},n)=>o.jsx(_C,{ref:n,className:Y("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));kC.displayName=_C.displayName;const D5=h.forwardRef(({className:e,...t},n)=>o.jsx(SC,{ref:n,className:Y("aspect-square h-full w-full",e),...t}));D5.displayName=SC.displayName;const EC=h.forwardRef(({className:e,...t},n)=>o.jsx(CC,{ref:n,className:Y("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));EC.displayName=CC.displayName;const F5=({setSidebarOpen:e})=>{var a,l;const{tenant:t,profile:n,signOut:r}=si(),s=async()=>{await r()},i=n!=null&&n.first_name||n!=null&&n.last_name?`${((a=n.first_name)==null?void 0:a[0])||""}${((l=n.last_name)==null?void 0:l[0])||""}`.toUpperCase().slice(0,2):"U";return o.jsxs("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-card px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6 py-2",children:[o.jsxs(L,{variant:"outline",size:"icon",className:"sm:hidden",onClick:()=>e(!0),children:[o.jsx(fA,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Toggle Menu"})]}),o.jsx("div",{className:"ml-auto flex-1 md:grow-0",children:o.jsxs("h2",{className:"font-medium text-foreground whitespace-nowrap text-base text-center",children:["Howdy, ",(n==null?void 0:n.first_name)||"there"]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(M5,{}),o.jsxs(ur,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full h-9 w-9",children:o.jsx(kC,{className:"h-8 w-8",children:o.jsx(EC,{className:"text-xs",children:i})})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsxs("p",{className:"text-sm font-medium leading-none",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(t==null?void 0:t.company_name)||"Demo Mode"})]})}),o.jsx(vg,{}),o.jsxs(Ge,{children:[o.jsx(Du,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsx(vg,{}),o.jsxs(Ge,{onClick:s,className:"text-red-600",children:[o.jsx(dA,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Logout"})]})]})]})]})]})},L5=()=>{console.log("Layout component rendering");const[e,t]=h.useState(!1);return o.jsxs("div",{className:"min-h-screen w-full bg-background text-foreground flex",children:[o.jsx(m$,{sidebarOpen:e,setSidebarOpen:t}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx(F5,{setSidebarOpen:t}),o.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto",children:o.jsx(TD,{})})]})]})};function $5(e,t=[]){let n=[];function r(i,a){const l=h.createContext(a),c=n.length;n=[...n,a];function d(f){const{scope:m,children:p,...y}=f,g=(m==null?void 0:m[e][c])||l,v=h.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})}function u(f,m){const p=(m==null?void 0:m[e][c])||l,y=h.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=n.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,U5(s,...t)]}function U5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var bx="Progress",jx=100,[z5,CH]=$5(bx),[B5,W5]=z5(bx),PC=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=H5,...a}=e;(s||s===0)&&!Hw(s)&&console.error(V5(`${s}`,"Progress"));const l=Hw(s)?s:jx;r!==null&&!Vw(r,l)&&console.error(q5(`${r}`,"Progress"));const c=Vw(r,l)?r:null,d=Xu(c)?i(c,l):void 0;return o.jsx(B5,{scope:n,value:c,max:l,children:o.jsx(ae.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Xu(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":MC(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});PC.displayName=bx;var TC="ProgressIndicator",RC=h.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=W5(TC,n);return o.jsx(ae.div,{"data-state":MC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});RC.displayName=TC;function H5(e,t){return`${Math.round(e/t*100)}%`}function MC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Xu(e){return typeof e=="number"}function Hw(e){return Xu(e)&&!isNaN(e)&&e>0}function Vw(e,t){return Xu(e)&&!isNaN(e)&&e<=t&&e>=0}function V5(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jx}\`.`}function q5(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var AC=PC,K5=RC;const Ba=h.forwardRef(({className:e,value:t,...n},r)=>o.jsx(AC,{ref:r,className:Y("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:o.jsx(K5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ba.displayName=AC.displayName;const G5=(e,t={})=>{const[n,r]=h.useState([]),[s,i]=h.useState(!1),[a,l]=h.useState(!1),c=h.useRef(null),d=h.useRef(null),u=h.useRef(0),{toast:f}=ke(),{reconnectInterval:m=5e3,maxReconnectAttempts:p=5}=t,y=h.useCallback(()=>{var v;if(((v=c.current)==null?void 0:v.readyState)!==WebSocket.OPEN)try{const x=e.replace(/^http/,"ws");c.current=new WebSocket(x),c.current.onopen=()=>{console.log("WebSocket connected"),i(!0),l(!1),u.current=0,u.current>0&&f({title:"Connected",description:"Live data connection restored."})},c.current.onmessage=w=>{try{const b=JSON.parse(w.data);if(b.type==="live_status"&&b.data){const j=Array.isArray(b.data)?b.data:[b.data];r(j)}else b.type==="error"?console.error("WebSocket error message:",b.message):console.log("Unknown WebSocket message type:",b)}catch(b){console.error("Failed to parse WebSocket data:",b)}},c.current.onclose=()=>{console.log("WebSocket disconnected"),i(!1),u.current<p?(l(!0),d.current=setTimeout(()=>{u.current+=1,y()},m)):f({title:"Connection Lost",description:"Unable to reconnect to live data stream.",variant:"destructive"})},c.current.onerror=w=>{console.error("WebSocket error:",w)}}catch(x){console.error("Failed to create WebSocket connection:",x),f({title:"Connection Error",description:"Failed to connect to live data stream.",variant:"destructive"})}},[e,m,p,f]),g=h.useCallback(()=>{d.current&&(clearTimeout(d.current),d.current=null),c.current&&(c.current.close(),c.current=null),i(!1),l(!1)},[]);return h.useEffect(()=>(y(),g),[y,g]),{data:n,isConnected:s,isReconnecting:a,connect:y,disconnect:g}},Nx=e=>{const r=`${(()=>{if(typeof window<"u"){const s=window.location.protocol==="https:"?"wss:":"ws:",i=window.location.hostname,a=window.location.port||(window.location.protocol==="https:"?"443":"80");return`${s}//${i}:8080`}return"ws://localhost:8080"})()}/api/v1/ws/live-status-all`;return G5(r,{reconnectInterval:3e3,maxReconnectAttempts:10})};var _x="Dialog",[OC,IC]=Hn(_x),[Y5,yr]=OC(_x),DC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=h.useRef(null),c=h.useRef(null),[d=!1,u]=zn({prop:r,defaultProp:s,onChange:i});return o.jsx(Y5,{scope:t,triggerRef:l,contentRef:c,contentId:ir(),titleId:ir(),descriptionId:ir(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:a,children:n})};DC.displayName=_x;var FC="DialogTrigger",LC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(FC,n),i=ye(t,s.triggerRef);return o.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kx(s.open),...r,ref:i,onClick:K(e.onClick,s.onOpenToggle)})});LC.displayName=FC;var Sx="DialogPortal",[Q5,$C]=OC(Sx,{forceMount:void 0}),UC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=yr(Sx,t);return o.jsx(Q5,{scope:t,forceMount:n,children:h.Children.map(r,a=>o.jsx(Rt,{present:n||i.open,children:o.jsx(Ea,{asChild:!0,container:s,children:a})}))})};UC.displayName=Sx;var Zu="DialogOverlay",zC=h.forwardRef((e,t)=>{const n=$C(Zu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=yr(Zu,e.__scopeDialog);return i.modal?o.jsx(Rt,{present:r||i.open,children:o.jsx(J5,{...s,ref:t})}):null});zC.displayName=Zu;var J5=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(Zu,n);return o.jsx(Bc,{as:is,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ae.div,{"data-state":kx(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Yo="DialogContent",BC=h.forwardRef((e,t)=>{const n=$C(Yo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=yr(Yo,e.__scopeDialog);return o.jsx(Rt,{present:r||i.open,children:i.modal?o.jsx(X5,{...s,ref:t}):o.jsx(Z5,{...s,ref:t})})});BC.displayName=Yo;var X5=h.forwardRef((e,t)=>{const n=yr(Yo,e.__scopeDialog),r=h.useRef(null),s=ye(t,n.contentRef,r);return h.useEffect(()=>{const i=r.current;if(i)return sh(i)},[]),o.jsx(WC,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:K(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:K(e.onFocusOutside,i=>i.preventDefault())})}),Z5=h.forwardRef((e,t)=>{const n=yr(Yo,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return o.jsx(WC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),WC=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=yr(Yo,n),c=h.useRef(null),d=ye(t,c);return nh(),o.jsxs(o.Fragment,{children:[o.jsx(zc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(ti,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":kx(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(t6,{titleId:l.titleId}),o.jsx(r6,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Cx="DialogTitle",HC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(Cx,n);return o.jsx(ae.h2,{id:s.titleId,...r,ref:t})});HC.displayName=Cx;var VC="DialogDescription",qC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(VC,n);return o.jsx(ae.p,{id:s.descriptionId,...r,ref:t})});qC.displayName=VC;var KC="DialogClose",GC=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(KC,n);return o.jsx(ae.button,{type:"button",...r,ref:t,onClick:K(e.onClick,()=>s.onOpenChange(!1))})});GC.displayName=KC;function kx(e){return e?"open":"closed"}var YC="DialogTitleWarning",[e6,QC]=cM(YC,{contentName:Yo,titleName:Cx,docsSlug:"dialog"}),t6=({titleId:e})=>{const t=QC(YC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},n6="DialogDescriptionWarning",r6=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QC(n6).contentName}}.`;return h.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},JC=DC,XC=LC,ZC=UC,Ex=zC,Px=BC,Tx=HC,Rx=qC,Mx=GC;const zt=JC,ek=XC,s6=ZC,tk=h.forwardRef(({className:e,...t},n)=>o.jsx(Ex,{ref:n,className:Y("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));tk.displayName=Ex.displayName;const Et=h.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(s6,{children:[o.jsx(tk,{}),o.jsxs(Px,{ref:r,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(Mx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(no,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Et.displayName=Px.displayName;const Pt=({className:e,...t})=>o.jsx("div",{className:Y("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Pt.displayName="DialogHeader";const hr=({className:e,...t})=>o.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hr.displayName="DialogFooter";const Tt=h.forwardRef(({className:e,...t},n)=>o.jsx(Tx,{ref:n,className:Y("text-lg font-semibold leading-none tracking-tight",e),...t}));Tt.displayName=Tx.displayName;const Qo=h.forwardRef(({className:e,...t},n)=>o.jsx(Rx,{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));Qo.displayName=Rx.displayName;const le=h.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:Y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));le.displayName="Input";var o6="Label",nk=h.forwardRef((e,t)=>o.jsx(ae.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nk.displayName=o6;var rk=nk;const i6=ni("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=h.forwardRef(({className:e,...t},n)=>o.jsx(rk,{ref:n,className:Y(i6(),e),...t}));Q.displayName=rk.displayName;function xg(e,[t,n]){return Math.min(n,Math.max(t,e))}function sk(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var a6=[" ","Enter","ArrowUp","ArrowDown"],l6=[" ","Enter"],Vc="Select",[lh,ch,c6]=Tf(Vc),[Wa,kH]=Hn(Vc,[c6,uo]),dh=uo(),[d6,mo]=Wa(Vc),[u6,f6]=Wa(Vc),ok=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:p,form:y}=e,g=dh(t),[v,x]=h.useState(null),[w,b]=h.useState(null),[j,_]=h.useState(!1),C=Ua(d),[N=!1,k]=zn({prop:r,defaultProp:s,onChange:i}),[E,R]=zn({prop:a,defaultProp:l,onChange:c}),M=h.useRef(null),O=v?y||!!v.closest("form"):!0,[A,I]=h.useState(new Set),W=Array.from(A).map(U=>U.props.value).join(";");return o.jsx(Qv,{...g,children:o.jsxs(d6,{required:p,scope:t,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:ir(),value:E,onValueChange:R,open:N,onOpenChange:k,dir:C,triggerPointerDownPosRef:M,disabled:m,children:[o.jsx(lh.Provider,{scope:t,children:o.jsx(u6,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(U=>{I(D=>new Set(D).add(U))},[]),onNativeOptionRemove:h.useCallback(U=>{I(D=>{const S=new Set(D);return S.delete(U),S})},[]),children:n})}),O?o.jsxs(Tk,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:E,onChange:U=>R(U.target.value),disabled:m,form:y,children:[E===void 0?o.jsx("option",{value:""}):null,Array.from(A)]},W):null]})})};ok.displayName=Vc;var ik="SelectTrigger",ak=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=dh(n),a=mo(ik,n),l=a.disabled||r,c=ye(t,a.onTriggerChange),d=ch(n),u=h.useRef("touch"),[f,m,p]=Rk(g=>{const v=d().filter(b=>!b.disabled),x=v.find(b=>b.value===a.value),w=Mk(v,g,x);w!==void 0&&a.onValueChange(w.value)}),y=g=>{l||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(Lc,{asChild:!0,...i,children:o.jsx(ae.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Pk(a.value)?"":void 0,...s,ref:c,onClick:K(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:K(s.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:K(s.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(v&&g.key===" ")&&a6.includes(g.key)&&(y(),g.preventDefault())})})})});ak.displayName=ik;var lk="SelectValue",ck=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=e,c=mo(lk,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=ye(t,c.onValueNodeChange);return pt(()=>{d(u)},[d,u]),o.jsx(ae.span,{...l,ref:f,style:{pointerEvents:"none"},children:Pk(c.value)?o.jsx(o.Fragment,{children:a}):i})});ck.displayName=lk;var h6="SelectIcon",dk=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(ae.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});dk.displayName=h6;var m6="SelectPortal",uk=e=>o.jsx(Ea,{asChild:!0,...e});uk.displayName=m6;var Jo="SelectContent",fk=h.forwardRef((e,t)=>{const n=mo(Jo,e.__scopeSelect),[r,s]=h.useState();if(pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?In.createPortal(o.jsx(hk,{scope:e.__scopeSelect,children:o.jsx(lh.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(mk,{...e,ref:t})});fk.displayName=Jo;var Qn=10,[hk,po]=Wa(Jo),p6="SelectContentImpl",mk=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v,...x}=e,w=mo(Jo,n),[b,j]=h.useState(null),[_,C]=h.useState(null),N=ye(t,$=>j($)),[k,E]=h.useState(null),[R,M]=h.useState(null),O=ch(n),[A,I]=h.useState(!1),W=h.useRef(!1);h.useEffect(()=>{if(b)return sh(b)},[b]),nh();const U=h.useCallback($=>{const[Z,...me]=O().map(ge=>ge.ref.current),[oe]=me.slice(-1),_e=document.activeElement;for(const ge of $)if(ge===_e||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===Z&&_&&(_.scrollTop=0),ge===oe&&_&&(_.scrollTop=_.scrollHeight),ge==null||ge.focus(),document.activeElement!==_e))return},[O,_]),D=h.useCallback(()=>U([k,b]),[U,k,b]);h.useEffect(()=>{A&&D()},[A,D]);const{onOpenChange:S,triggerPointerDownPosRef:T}=w;h.useEffect(()=>{if(b){let $={x:0,y:0};const Z=oe=>{var _e,ge;$={x:Math.abs(Math.round(oe.pageX)-(((_e=T.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((ge=T.current)==null?void 0:ge.y)??0))}},me=oe=>{$.x<=10&&$.y<=10?oe.preventDefault():b.contains(oe.target)||S(!1),document.removeEventListener("pointermove",Z),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",me,{capture:!0})}}},[b,S,T]),h.useEffect(()=>{const $=()=>S(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[S]);const[z,B]=Rk($=>{const Z=O().filter(_e=>!_e.disabled),me=Z.find(_e=>_e.ref.current===document.activeElement),oe=Mk(Z,$,me);oe&&setTimeout(()=>oe.ref.current.focus())}),H=h.useCallback(($,Z,me)=>{const oe=!W.current&&!me;(w.value!==void 0&&w.value===Z||oe)&&(E($),oe&&(W.current=!0))},[w.value]),V=h.useCallback(()=>b==null?void 0:b.focus(),[b]),J=h.useCallback(($,Z,me)=>{const oe=!W.current&&!me;(w.value!==void 0&&w.value===Z||oe)&&M($)},[w.value]),ve=r==="popper"?yg:pk,X=ve===yg?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return o.jsx(hk,{scope:n,content:b,viewport:_,onViewportChange:C,itemRefCallback:H,selectedItem:k,onItemLeave:V,itemTextRefCallback:J,focusSelectedItem:D,selectedItemText:R,position:r,isPositioned:A,searchRef:z,children:o.jsx(Bc,{as:is,allowPinchZoom:!0,children:o.jsx(zc,{asChild:!0,trapped:w.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:K(s,$=>{var Z;(Z=w.trigger)==null||Z.focus({preventScroll:!0}),$.preventDefault()}),children:o.jsx(ti,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(ve,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:$=>$.preventDefault(),...x,...X,onPlaced:()=>I(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:K(x.onKeyDown,$=>{const Z=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!Z&&$.key.length===1&&B($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let oe=O().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes($.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const _e=$.target,ge=oe.indexOf(_e);oe=oe.slice(ge+1)}setTimeout(()=>U(oe)),$.preventDefault()}})})})})})})});mk.displayName=p6;var g6="SelectItemAlignedPosition",pk=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=mo(Jo,n),a=po(Jo,n),[l,c]=h.useState(null),[d,u]=h.useState(null),f=ye(t,N=>u(N)),m=ch(n),p=h.useRef(!1),y=h.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=a,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&v&&x){const N=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(i.dir!=="rtl"){const _e=R.left-k.left,ge=E.left-_e,nt=N.left-ge,Je=N.width+nt,Bt=Math.max(Je,k.width),ct=window.innerWidth-Qn,wr=xg(ge,[Qn,Math.max(Qn,ct-Bt)]);l.style.minWidth=Je+"px",l.style.left=wr+"px"}else{const _e=k.right-R.right,ge=window.innerWidth-E.right-_e,nt=window.innerWidth-N.right-ge,Je=N.width+nt,Bt=Math.max(Je,k.width),ct=window.innerWidth-Qn,wr=xg(ge,[Qn,Math.max(Qn,ct-Bt)]);l.style.minWidth=Je+"px",l.style.right=wr+"px"}const M=m(),O=window.innerHeight-Qn*2,A=g.scrollHeight,I=window.getComputedStyle(d),W=parseInt(I.borderTopWidth,10),U=parseInt(I.paddingTop,10),D=parseInt(I.borderBottomWidth,10),S=parseInt(I.paddingBottom,10),T=W+U+A+S+D,z=Math.min(v.offsetHeight*5,T),B=window.getComputedStyle(g),H=parseInt(B.paddingTop,10),V=parseInt(B.paddingBottom,10),J=N.top+N.height/2-Qn,ve=O-J,X=v.offsetHeight/2,$=v.offsetTop+X,Z=W+U+$,me=T-Z;if(Z<=J){const _e=M.length>0&&v===M[M.length-1].ref.current;l.style.bottom="0px";const ge=d.clientHeight-g.offsetTop-g.offsetHeight,nt=Math.max(ve,X+(_e?V:0)+ge+D),Je=Z+nt;l.style.height=Je+"px"}else{const _e=M.length>0&&v===M[0].ref.current;l.style.top="0px";const nt=Math.max(J,W+g.offsetTop+(_e?H:0)+X)+me;l.style.height=nt+"px",g.scrollTop=Z-J+g.offsetTop}l.style.margin=`${Qn}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,v,x,i.dir,r]);pt(()=>b(),[b]);const[j,_]=h.useState();pt(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const C=h.useCallback(N=>{N&&y.current===!0&&(b(),w==null||w(),y.current=!1)},[b,w]);return o.jsx(x6,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(ae.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});pk.displayName=g6;var v6="SelectPopperPosition",yg=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Qn,...i}=e,a=dh(n);return o.jsx(Bf,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yg.displayName=v6;var[x6,Ax]=Wa(Jo,{}),wg="SelectViewport",gk=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=po(wg,n),a=Ax(wg,n),l=ye(t,i.onViewportChange),c=h.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(lh.Slot,{scope:n,children:o.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:K(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const y=window.innerHeight-Qn*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<y){const w=x+p,b=Math.min(y,w),j=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});gk.displayName=wg;var vk="SelectGroup",[y6,w6]=Wa(vk),b6=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ir();return o.jsx(y6,{scope:n,id:s,children:o.jsx(ae.div,{role:"group","aria-labelledby":s,...r,ref:t})})});b6.displayName=vk;var xk="SelectLabel",yk=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=w6(xk,n);return o.jsx(ae.div,{id:s.id,...r,ref:t})});yk.displayName=xk;var ef="SelectItem",[j6,wk]=Wa(ef),bk=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,l=mo(ef,n),c=po(ef,n),d=l.value===r,[u,f]=h.useState(i??""),[m,p]=h.useState(!1),y=ye(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,r,s)}),g=ir(),v=h.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(j6,{scope:n,value:r,disabled:s,textId:g,isSelected:d,onItemTextChange:h.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(lh.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:o.jsx(ae.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:y,onFocus:K(a.onFocus,()=>p(!0)),onBlur:K(a.onBlur,()=>p(!1)),onClick:K(a.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:K(a.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:K(a.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:K(a.onPointerMove,w=>{var b;v.current=w.pointerType,s?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:K(a.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:K(a.onKeyDown,w=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&w.key===" "||(l6.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});bk.displayName=ef;var kl="SelectItemText",jk=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=mo(kl,n),l=po(kl,n),c=wk(kl,n),d=f6(kl,n),[u,f]=h.useState(null),m=ye(t,x=>f(x),c.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,c.value,c.disabled)}),p=u==null?void 0:u.textContent,y=h.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return pt(()=>(g(y),()=>v(y)),[g,v,y]),o.jsxs(o.Fragment,{children:[o.jsx(ae.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?In.createPortal(i.children,a.valueNode):null]})});jk.displayName=kl;var Nk="SelectItemIndicator",_k=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return wk(Nk,n).isSelected?o.jsx(ae.span,{"aria-hidden":!0,...r,ref:t}):null});_k.displayName=Nk;var bg="SelectScrollUpButton",Sk=h.forwardRef((e,t)=>{const n=po(bg,e.__scopeSelect),r=Ax(bg,e.__scopeSelect),[s,i]=h.useState(!1),a=ye(t,r.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(kk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Sk.displayName=bg;var jg="SelectScrollDownButton",Ck=h.forwardRef((e,t)=>{const n=po(jg,e.__scopeSelect),r=Ax(jg,e.__scopeSelect),[s,i]=h.useState(!1),a=ye(t,r.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(kk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ck.displayName=jg;var kk=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=po("SelectScrollButton",n),a=h.useRef(null),l=ch(n),c=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),pt(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),o.jsx(ae.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:K(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:K(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:K(s.onPointerLeave,()=>{c()})})}),N6="SelectSeparator",Ek=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(ae.div,{"aria-hidden":!0,...r,ref:t})});Ek.displayName=N6;var Ng="SelectArrow",_6=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=dh(n),i=mo(Ng,n),a=po(Ng,n);return i.open&&a.position==="popper"?o.jsx(Wf,{...s,...r,ref:t}):null});_6.displayName=Ng;function Pk(e){return e===""||e===void 0}var Tk=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=h.useRef(null),i=ye(t,s),a=sk(n);return h.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&u){const f=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(f)}},[a,n]),o.jsx(Oc,{asChild:!0,children:o.jsx("select",{...r,ref:i,defaultValue:n})})});Tk.displayName="BubbleSelect";function Rk(e){const t=Ke(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(a=>{const l=n.current+a;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Mk(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=S6(e,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function S6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var C6=ok,Ak=ak,k6=ck,E6=dk,P6=uk,Ok=fk,T6=gk,Ik=yk,Dk=bk,R6=jk,M6=_k,Fk=Sk,Lk=Ck,$k=Ek;const Ye=C6,Qe=k6,He=h.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Ak,{ref:r,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(E6,{asChild:!0,children:o.jsx(Af,{className:"h-4 w-4 opacity-50"})})]}));He.displayName=Ak.displayName;const Uk=h.forwardRef(({className:e,...t},n)=>o.jsx(Fk,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(ZM,{className:"h-4 w-4"})}));Uk.displayName=Fk.displayName;const zk=h.forwardRef(({className:e,...t},n)=>o.jsx(Lk,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Af,{className:"h-4 w-4"})}));zk.displayName=Lk.displayName;const Ve=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(P6,{children:o.jsxs(Ok,{ref:s,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(Uk,{}),o.jsx(T6,{className:Y("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(zk,{})]})}));Ve.displayName=Ok.displayName;const A6=h.forwardRef(({className:e,...t},n)=>o.jsx(Ik,{ref:n,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));A6.displayName=Ik.displayName;const fe=h.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Dk,{ref:r,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(M6,{children:o.jsx(cc,{className:"h-4 w-4"})})}),o.jsx(R6,{children:t})]}));fe.displayName=Dk.displayName;const O6=h.forwardRef(({className:e,...t},n)=>o.jsx($k,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));O6.displayName=$k.displayName;function I6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const uh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ha(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ox(e){return"nodeType"in e}function Zt(e){var t,n;return e?Ha(e)?e:Ox(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ix(e){const{Document:t}=Zt(e);return e instanceof t}function qc(e){return Ha(e)?!1:e instanceof Zt(e).HTMLElement}function Bk(e){return e instanceof Zt(e).SVGElement}function Va(e){return e?Ha(e)?e.document:Ox(e)?Ix(e)?e:qc(e)||Bk(e)?e.ownerDocument:document:document:document}const mr=uh?h.useLayoutEffect:h.useEffect;function fh(e){const t=h.useRef(e);return mr(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function D6(){const e=h.useRef(null),t=h.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function yc(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return mr(()=>{n.current!==e&&(n.current=e)},t),n}function Kc(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function tf(e){const t=fh(e),n=h.useRef(null),r=h.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function nf(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let Nm={};function Gc(e,t){return h.useMemo(()=>{if(t)return t;const n=Nm[e]==null?0:Nm[e]+1;return Nm[e]=n,e+"-"+n},[e,t])}function Wk(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,a)=>{const l=Object.entries(a);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+e*d)}return i},{...t})}}const qi=Wk(1),wc=Wk(-1);function F6(e){return"clientX"in e&&"clientY"in e}function hh(e){if(!e)return!1;const{KeyboardEvent:t}=Zt(e.target);return t&&e instanceof t}function L6(e){if(!e)return!1;const{TouchEvent:t}=Zt(e.target);return t&&e instanceof t}function rf(e){if(L6(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return F6(e)?{x:e.clientX,y:e.clientY}:null}const cs=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[cs.Translate.toString(e),cs.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),qw="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function $6(e){return e.matches(qw)?e:e.querySelector(qw)}const U6={display:"none"};function z6(e){let{id:t,value:n}=e;return F.createElement("div",{id:t,style:U6},n)}function B6(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return F.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function W6(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Hk=h.createContext(null);function H6(e){const t=h.useContext(Hk);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function V6(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:s,event:i}=r;e.forEach(a=>{var l;return(l=a[s])==null?void 0:l.call(a,i)})},[e]),t]}const q6={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},K6={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function G6(e){let{announcements:t=K6,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=q6}=e;const{announce:i,announcement:a}=W6(),l=Gc("DndLiveRegion"),[c,d]=h.useState(!1);if(h.useEffect(()=>{d(!0)},[]),H6(h.useMemo(()=>({onDragStart(f){let{active:m}=f;i(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:p}=f;t.onDragMove&&i(t.onDragMove({active:m,over:p}))},onDragOver(f){let{active:m,over:p}=f;i(t.onDragOver({active:m,over:p}))},onDragEnd(f){let{active:m,over:p}=f;i(t.onDragEnd({active:m,over:p}))},onDragCancel(f){let{active:m,over:p}=f;i(t.onDragCancel({active:m,over:p}))}}),[i,t])),!c)return null;const u=F.createElement(F.Fragment,null,F.createElement(z6,{id:r,value:s.draggable}),F.createElement(B6,{id:l,announcement:a}));return n?In.createPortal(u,n):u}var ut;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ut||(ut={}));function sf(){}function Kw(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Y6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const pr=Object.freeze({x:0,y:0});function Vk(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Q6(e,t){const n=rf(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function qk(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function J6(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Gw(e){let{left:t,top:n,height:r,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+r},{x:t+s,y:n+r}]}function Kk(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Yw(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const X6=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=Yw(t,t.left,t.top),i=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const d=Vk(Yw(c),s);i.push({id:l,data:{droppableContainer:a,value:d}})}}return i.sort(qk)},Z6=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=Gw(t),i=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const d=Gw(c),u=s.reduce((m,p,y)=>m+Vk(d[y],p),0),f=Number((u/4).toFixed(4));i.push({id:l,data:{droppableContainer:a,value:f}})}}return i.sort(qk)};function eU(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=s-r,l=i-n;if(r<s&&n<i){const c=t.width*t.height,d=e.width*e.height,u=a*l,f=u/(c+d-u);return Number(f.toFixed(4))}return 0}const tU=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const i of r){const{id:a}=i,l=n.get(a);if(l){const c=eU(l,t);c>0&&s.push({id:a,data:{droppableContainer:i,value:c}})}}return s.sort(J6)};function nU(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Gk(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:pr}function rU(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((a,l)=>({...a,top:a.top+e*l.y,bottom:a.bottom+e*l.y,left:a.left+e*l.x,right:a.right+e*l.x}),{...n})}}const sU=rU(1);function Yk(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function oU(e,t,n){const r=Yk(t);if(!r)return e;const{scaleX:s,scaleY:i,x:a,y:l}=r,c=e.left-a-(1-s)*parseFloat(n),d=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=s?e.width/s:e.width,f=i?e.height/i:e.height;return{width:u,height:f,top:d,right:c+u,bottom:d+f,left:c}}const iU={ignoreTransform:!1};function qa(e,t){t===void 0&&(t=iU);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=Zt(e).getComputedStyle(e);d&&(n=oU(n,d,u))}const{top:r,left:s,width:i,height:a,bottom:l,right:c}=n;return{top:r,left:s,width:i,height:a,bottom:l,right:c}}function Qw(e){return qa(e,{ignoreTransform:!0})}function aU(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function lU(e,t){return t===void 0&&(t=Zt(e).getComputedStyle(e)),t.position==="fixed"}function cU(e,t){t===void 0&&(t=Zt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function mh(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Ix(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!qc(s)||Bk(s)||n.includes(s))return n;const i=Zt(e).getComputedStyle(s);return s!==e&&cU(s,i)&&n.push(s),lU(s,i)?n:r(s.parentNode)}return e?r(e):n}function Qk(e){const[t]=mh(e,1);return t??null}function _m(e){return!uh||!e?null:Ha(e)?e:Ox(e)?Ix(e)||e===Va(e).scrollingElement?window:qc(e)?e:null:null}function Jk(e){return Ha(e)?e.scrollX:e.scrollLeft}function Xk(e){return Ha(e)?e.scrollY:e.scrollTop}function _g(e){return{x:Jk(e),y:Xk(e)}}var bt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(bt||(bt={}));function Zk(e){return!uh||!e?!1:e===document.scrollingElement}function eE(e){const t={x:0,y:0},n=Zk(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:a,isRight:l,maxScroll:r,minScroll:t}}const dU={x:.2,y:.2};function uU(e,t,n,r,s){let{top:i,left:a,right:l,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=dU);const{isTop:d,isBottom:u,isLeft:f,isRight:m}=eE(e),p={x:0,y:0},y={x:0,y:0},g={height:t.height*s.y,width:t.width*s.x};return!d&&i<=t.top+g.height?(p.y=bt.Backward,y.y=r*Math.abs((t.top+g.height-i)/g.height)):!u&&c>=t.bottom-g.height&&(p.y=bt.Forward,y.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!m&&l>=t.right-g.width?(p.x=bt.Forward,y.x=r*Math.abs((t.right-g.width-l)/g.width)):!f&&a<=t.left+g.width&&(p.x=bt.Backward,y.x=r*Math.abs((t.left+g.width-a)/g.width)),{direction:p,speed:y}}function fU(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function tE(e){return e.reduce((t,n)=>qi(t,_g(n)),pr)}function hU(e){return e.reduce((t,n)=>t+Jk(n),0)}function mU(e){return e.reduce((t,n)=>t+Xk(n),0)}function nE(e,t){if(t===void 0&&(t=qa),!e)return;const{top:n,left:r,bottom:s,right:i}=t(e);Qk(e)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const pU=[["x",["left","right"],hU],["y",["top","bottom"],mU]];class Dx{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=mh(n),s=tE(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,a,l]of pU)for(const c of a)Object.defineProperty(this,c,{get:()=>{const d=l(r),u=s[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Bl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function gU(e){const{EventTarget:t}=Zt(e);return e instanceof t?e:Va(e)}function Sm(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Rn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Rn||(Rn={}));function Jw(e){e.preventDefault()}function vU(e){e.stopPropagation()}var Ce;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ce||(Ce={}));const rE={start:[Ce.Space,Ce.Enter],cancel:[Ce.Esc],end:[Ce.Space,Ce.Enter,Ce.Tab]},xU=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ce.Right:return{...n,x:n.x+25};case Ce.Left:return{...n,x:n.x-25};case Ce.Down:return{...n,y:n.y+25};case Ce.Up:return{...n,y:n.y-25}}};class Fx{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Bl(Va(n)),this.windowListeners=new Bl(Zt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Rn.Resize,this.handleCancel),this.windowListeners.add(Rn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Rn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&nE(r),n(pr)}handleKeyDown(t){if(hh(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=rE,coordinateGetter:a=xU,scrollBehavior:l="smooth"}=s,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=r.current,u=d?{x:d.left,y:d.top}:pr;this.referenceCoordinates||(this.referenceCoordinates=u);const f=a(t,{active:n,context:r.current,currentCoordinates:u});if(f){const m=wc(f,u),p={x:0,y:0},{scrollableAncestors:y}=r.current;for(const g of y){const v=t.code,{isTop:x,isRight:w,isLeft:b,isBottom:j,maxScroll:_,minScroll:C}=eE(g),N=fU(g),k={x:Math.min(v===Ce.Right?N.right-N.width/2:N.right,Math.max(v===Ce.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(v===Ce.Down?N.bottom-N.height/2:N.bottom,Math.max(v===Ce.Down?N.top:N.top+N.height/2,f.y))},E=v===Ce.Right&&!w||v===Ce.Left&&!b,R=v===Ce.Down&&!j||v===Ce.Up&&!x;if(E&&k.x!==f.x){const M=g.scrollLeft+m.x,O=v===Ce.Right&&M<=_.x||v===Ce.Left&&M>=C.x;if(O&&!m.y){g.scrollTo({left:M,behavior:l});return}O?p.x=g.scrollLeft-M:p.x=v===Ce.Right?g.scrollLeft-_.x:g.scrollLeft-C.x,p.x&&g.scrollBy({left:-p.x,behavior:l});break}else if(R&&k.y!==f.y){const M=g.scrollTop+m.y,O=v===Ce.Down&&M<=_.y||v===Ce.Up&&M>=C.y;if(O&&!m.x){g.scrollTo({top:M,behavior:l});return}O?p.y=g.scrollTop-M:p.y=v===Ce.Down?g.scrollTop-_.y:g.scrollTop-C.y,p.y&&g.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,qi(wc(f,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Fx.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=rE,onActivation:s}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Xw(e){return!!(e&&"distance"in e)}function Zw(e){return!!(e&&"delay"in e)}class Lx{constructor(t,n,r){var s;r===void 0&&(r=gU(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:a}=i;this.props=t,this.events=n,this.document=Va(a),this.documentListeners=new Bl(this.document),this.listeners=new Bl(r),this.windowListeners=new Bl(Zt(a)),this.initialCoordinates=(s=rf(i))!=null?s:pr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Rn.Resize,this.handleCancel),this.windowListeners.add(Rn.DragStart,Jw),this.windowListeners.add(Rn.VisibilityChange,this.handleCancel),this.windowListeners.add(Rn.ContextMenu,Jw),this.documentListeners.add(Rn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Zw(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Xw(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Rn.Click,vU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Rn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:a,options:{activationConstraint:l}}=i;if(!s)return;const c=(n=rf(t))!=null?n:pr,d=wc(s,c);if(!r&&l){if(Xw(l)){if(l.tolerance!=null&&Sm(d,l.tolerance))return this.handleCancel();if(Sm(d,l.distance))return this.handleStart()}if(Zw(l)&&Sm(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ce.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const yU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class $x extends Lx{constructor(t){const{event:n}=t,r=Va(n.target);super(t,yU,r)}}$x.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const wU={move:{name:"mousemove"},end:{name:"mouseup"}};var Sg;(function(e){e[e.RightClick=2]="RightClick"})(Sg||(Sg={}));class bU extends Lx{constructor(t){super(t,wU,Va(t.event.target))}}bU.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Sg.RightClick?!1:(r==null||r({event:n}),!0)}}];const Cm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class jU extends Lx{constructor(t){super(t,Cm)}static setup(){return window.addEventListener(Cm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Cm.move.name,t)};function t(){}}}jU.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Wl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Wl||(Wl={}));var of;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(of||(of={}));function NU(e){let{acceleration:t,activator:n=Wl.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:a=5,order:l=of.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:f,threshold:m}=e;const p=SU({delta:f,disabled:!i}),[y,g]=D6(),v=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),w=h.useMemo(()=>{switch(n){case Wl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Wl.DraggableRect:return s}},[n,s,c]),b=h.useRef(null),j=h.useCallback(()=>{const C=b.current;if(!C)return;const N=v.current.x*x.current.x,k=v.current.y*x.current.y;C.scrollBy(N,k)},[]),_=h.useMemo(()=>l===of.TreeOrder?[...d].reverse():d,[l,d]);h.useEffect(()=>{if(!i||!d.length||!w){g();return}for(const C of _){if((r==null?void 0:r(C))===!1)continue;const N=d.indexOf(C),k=u[N];if(!k)continue;const{direction:E,speed:R}=uU(C,k,w,t,m);for(const M of["x","y"])p[M][E[M]]||(R[M]=0,E[M]=0);if(R.x>0||R.y>0){g(),b.current=C,y(j,a),v.current=R,x.current=E;return}}v.current={x:0,y:0},x.current={x:0,y:0},g()},[t,j,r,g,i,a,JSON.stringify(w),JSON.stringify(p),y,d,_,u,JSON.stringify(m)])}const _U={x:{[bt.Backward]:!1,[bt.Forward]:!1},y:{[bt.Backward]:!1,[bt.Forward]:!1}};function SU(e){let{delta:t,disabled:n}=e;const r=nf(t);return Kc(s=>{if(n||!r||!s)return _U;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[bt.Backward]:s.x[bt.Backward]||i.x===-1,[bt.Forward]:s.x[bt.Forward]||i.x===1},y:{[bt.Backward]:s.y[bt.Backward]||i.y===-1,[bt.Forward]:s.y[bt.Forward]||i.y===1}}},[n,t,r])}function CU(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Kc(s=>{var i;return t==null?null:(i=r??s)!=null?i:null},[r,t])}function kU(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...i]},[]),[e,t])}var bc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(bc||(bc={}));var Cg;(function(e){e.Optimized="optimized"})(Cg||(Cg={}));const eb=new Map;function EU(e,t){let{dragging:n,dependencies:r,config:s}=t;const[i,a]=h.useState(null),{frequency:l,measure:c,strategy:d}=s,u=h.useRef(e),f=v(),m=yc(f),p=h.useCallback(function(x){x===void 0&&(x=[]),!m.current&&a(w=>w===null?x:w.concat(x.filter(b=>!w.includes(b))))},[m]),y=h.useRef(null),g=Kc(x=>{if(f&&!n)return eb;if(!x||x===eb||u.current!==e||i!=null){const w=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){w.set(b.id,b.rect.current);continue}const j=b.node.current,_=j?new Dx(c(j),j):null;b.rect.current=_,_&&w.set(b.id,_)}return w}return x},[e,i,n,f,c]);return h.useEffect(()=>{u.current=e},[e]),h.useEffect(()=>{f||p()},[n,f]),h.useEffect(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{p(),y.current=null},l))},[l,f,p,...r]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:i!=null};function v(){switch(d){case bc.Always:return!1;case bc.BeforeDragging:return n;default:return!n}}}function Ux(e,t){return Kc(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function PU(e,t){return Ux(e,t)}function TU(e){let{callback:t,disabled:n}=e;const r=fh(t),s=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ph(e){let{callback:t,disabled:n}=e;const r=fh(t),s=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function RU(e){return new Dx(qa(e),e)}function tb(e,t,n){t===void 0&&(t=RU);const[r,s]=h.useState(null);function i(){s(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??n)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const a=TU({callback(c){if(e)for(const d of c){const{type:u,target:f}=d;if(u==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=ph({callback:i});return mr(()=>{i(),e?(l==null||l.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[e]),r}function MU(e){const t=Ux(e);return Gk(e,t)}const nb=[];function AU(e){const t=h.useRef(e),n=Kc(r=>e?r&&r!==nb&&e&&t.current&&e.parentNode===t.current.parentNode?r:mh(e):nb,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function OU(e){const[t,n]=h.useState(null),r=h.useRef(e),s=h.useCallback(i=>{const a=_m(i.target);a&&n(l=>l?(l.set(a,_g(a)),new Map(l)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){a(i);const l=e.map(c=>{const d=_m(c);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,_g(d)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{a(e),a(i)};function a(l){l.forEach(c=>{const d=_m(c);d==null||d.removeEventListener("scroll",s)})}},[s,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,a)=>qi(i,a),pr):tE(e):pr,[e,t])}function rb(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==pr;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?wc(e,n.current):pr}function IU(e){h.useEffect(()=>{if(!uh)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function DU(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=a=>{i(a,t)},n},{}),[e,t])}function sE(e){return h.useMemo(()=>e?aU(e):null,[e])}const sb=[];function FU(e,t){t===void 0&&(t=qa);const[n]=e,r=sE(n?Zt(n):null),[s,i]=h.useState(sb);function a(){i(()=>e.length?e.map(c=>Zk(c)?r:new Dx(t(c),c)):sb)}const l=ph({callback:a});return mr(()=>{l==null||l.disconnect(),a(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),s}function oE(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return qc(t)?t:e}function LU(e){let{measure:t}=e;const[n,r]=h.useState(null),s=h.useCallback(d=>{for(const{target:u}of d)if(qc(u)){r(f=>{const m=t(u);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),i=ph({callback:s}),a=h.useCallback(d=>{const u=oE(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?t(u):null)},[t,i]),[l,c]=tf(a);return h.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const $U=[{sensor:$x,options:{}},{sensor:Fx,options:{}}],UU={current:{}},au={draggable:{measure:Qw},droppable:{measure:Qw,strategy:bc.WhileDragging,frequency:Cg.Optimized},dragOverlay:{measure:qa}};class Hl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const zU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:au,measureDroppableContainers:sf,windowRect:null,measuringScheduled:!1},iE={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sf,draggableNodes:new Map,over:null,measureDroppableContainers:sf},Yc=h.createContext(iE),aE=h.createContext(zU);function BU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hl}}}function WU(e,t){switch(t.type){case ut.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ut.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ut.DragEnd:case ut.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ut.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Hl(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case ut.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Hl(e.droppable.containers);return a.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:a}}}case ut.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Hl(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function HU(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=h.useContext(Yc),i=nf(r),a=nf(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&a!=null){if(!hh(i)||document.activeElement===i.target)return;const l=s.get(a);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const f=$6(u);if(f){f.focus();break}}})}},[r,t,s,a,i]),null}function lE(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...r}),n):n}function VU(e){return h.useMemo(()=>({draggable:{...au.draggable,...e==null?void 0:e.draggable},droppable:{...au.droppable,...e==null?void 0:e.droppable},dragOverlay:{...au.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function qU(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const i=h.useRef(!1),{x:a,y:l}=typeof s=="boolean"?{x:s,y:s}:s;mr(()=>{if(!a&&!l||!t){i.current=!1;return}if(i.current||!r)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=n(d),f=Gk(u,r);if(a||(f.x=0),l||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=Qk(d);m&&m.scrollBy({top:f.y,left:f.x})}},[t,a,l,r,n])}const gh=h.createContext({...pr,scaleX:1,scaleY:1});var ks;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ks||(ks={}));const KU=h.memo(function(t){var n,r,s,i;let{id:a,accessibility:l,autoScroll:c=!0,children:d,sensors:u=$U,collisionDetection:f=tU,measuring:m,modifiers:p,...y}=t;const g=h.useReducer(WU,void 0,BU),[v,x]=g,[w,b]=V6(),[j,_]=h.useState(ks.Uninitialized),C=j===ks.Initialized,{draggable:{active:N,nodes:k,translate:E},droppable:{containers:R}}=v,M=N!=null?k.get(N):null,O=h.useRef({initial:null,translated:null}),A=h.useMemo(()=>{var Fe;return N!=null?{id:N,data:(Fe=M==null?void 0:M.data)!=null?Fe:UU,rect:O}:null},[N,M]),I=h.useRef(null),[W,U]=h.useState(null),[D,S]=h.useState(null),T=yc(y,Object.values(y)),z=Gc("DndDescribedBy",a),B=h.useMemo(()=>R.getEnabled(),[R]),H=VU(m),{droppableRects:V,measureDroppableContainers:J,measuringScheduled:ve}=EU(B,{dragging:C,dependencies:[E.x,E.y],config:H.droppable}),X=CU(k,N),$=h.useMemo(()=>D?rf(D):null,[D]),Z=kn(),me=PU(X,H.draggable.measure);qU({activeNode:N!=null?k.get(N):null,config:Z.layoutShiftCompensation,initialRect:me,measure:H.draggable.measure});const oe=tb(X,H.draggable.measure,me),_e=tb(X?X.parentElement:null),ge=h.useRef({activatorEvent:null,active:null,activeNode:X,collisionRect:null,collisions:null,droppableRects:V,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),nt=R.getNodeFor((n=ge.current.over)==null?void 0:n.id),Je=LU({measure:H.dragOverlay.measure}),Bt=(r=Je.nodeRef.current)!=null?r:X,ct=C?(s=Je.rect)!=null?s:oe:null,wr=!!(Je.nodeRef.current&&Je.rect),li=MU(wr?null:oe),ot=sE(Bt?Zt(Bt):null),Wt=AU(C?nt??X:null),ci=FU(Wt),di=lE(p,{transform:{x:E.x-li.x,y:E.y-li.y,scaleX:1,scaleY:1},activatorEvent:D,active:A,activeNodeRect:oe,containerNodeRect:_e,draggingNodeRect:ct,over:ge.current.over,overlayNodeRect:Je.rect,scrollableAncestors:Wt,scrollableAncestorRects:ci,windowRect:ot}),xo=$?qi($,E):null,nd=OU(Wt),rd=rb(nd),Za=rb(nd,[oe]),hn=qi(di,rd),Br=ct?sU(ct,di):null,Cn=A&&Br?f({active:A,collisionRect:Br,droppableRects:V,droppableContainers:B,pointerCoordinates:xo}):null,el=Kk(Cn,"id"),[br,tl]=h.useState(null),sd=wr?di:qi(di,Za),Nh=nU(sd,(i=br==null?void 0:br.rect)!=null?i:null,oe),yo=h.useRef(null),Kn=h.useCallback((Fe,vt)=>{let{sensor:Ht,options:ms}=vt;if(I.current==null)return;const En=k.get(I.current);if(!En)return;const mn=Fe.nativeEvent,jr=new Ht({active:I.current,activeNode:En,event:mn,options:ms,context:ge,onAbort(Nt){if(!k.get(Nt))return;const{onDragAbort:Nr}=T.current,Wr={id:Nt};Nr==null||Nr(Wr),w({type:"onDragAbort",event:Wr})},onPending(Nt,ps,Nr,Wr){if(!k.get(Nt))return;const{onDragPending:rl}=T.current,gs={id:Nt,constraint:ps,initialCoordinates:Nr,offset:Wr};rl==null||rl(gs),w({type:"onDragPending",event:gs})},onStart(Nt){const ps=I.current;if(ps==null)return;const Nr=k.get(ps);if(!Nr)return;const{onDragStart:Wr}=T.current,nl={activatorEvent:mn,active:{id:ps,data:Nr.data,rect:O}};In.unstable_batchedUpdates(()=>{Wr==null||Wr(nl),_(ks.Initializing),x({type:ut.DragStart,initialCoordinates:Nt,active:ps}),w({type:"onDragStart",event:nl}),U(yo.current),S(mn)})},onMove(Nt){x({type:ut.DragMove,coordinates:Nt})},onEnd:ui(ut.DragEnd),onCancel:ui(ut.DragCancel)});yo.current=jr;function ui(Nt){return async function(){const{active:Nr,collisions:Wr,over:nl,scrollAdjustedTranslate:rl}=ge.current;let gs=null;if(Nr&&rl){const{cancelDrop:sl}=T.current;gs={activatorEvent:mn,active:Nr,collisions:Wr,delta:rl,over:nl},Nt===ut.DragEnd&&typeof sl=="function"&&await Promise.resolve(sl(gs))&&(Nt=ut.DragCancel)}I.current=null,In.unstable_batchedUpdates(()=>{x({type:Nt}),_(ks.Uninitialized),tl(null),U(null),S(null),yo.current=null;const sl=Nt===ut.DragEnd?"onDragEnd":"onDragCancel";if(gs){const Sh=T.current[sl];Sh==null||Sh(gs),w({type:sl,event:gs})}})}}},[k]),_h=h.useCallback((Fe,vt)=>(Ht,ms)=>{const En=Ht.nativeEvent,mn=k.get(ms);if(I.current!==null||!mn||En.dndKit||En.defaultPrevented)return;const jr={active:mn};Fe(Ht,vt.options,jr)===!0&&(En.dndKit={capturedBy:vt.sensor},I.current=ms,Kn(Ht,vt))},[k,Kn]),pe=kU(u,_h);IU(u),mr(()=>{oe&&j===ks.Initializing&&_(ks.Initialized)},[oe,j]),h.useEffect(()=>{const{onDragMove:Fe}=T.current,{active:vt,activatorEvent:Ht,collisions:ms,over:En}=ge.current;if(!vt||!Ht)return;const mn={active:vt,activatorEvent:Ht,collisions:ms,delta:{x:hn.x,y:hn.y},over:En};In.unstable_batchedUpdates(()=>{Fe==null||Fe(mn),w({type:"onDragMove",event:mn})})},[hn.x,hn.y]),h.useEffect(()=>{const{active:Fe,activatorEvent:vt,collisions:Ht,droppableContainers:ms,scrollAdjustedTranslate:En}=ge.current;if(!Fe||I.current==null||!vt||!En)return;const{onDragOver:mn}=T.current,jr=ms.get(el),ui=jr&&jr.rect.current?{id:jr.id,rect:jr.rect.current,data:jr.data,disabled:jr.disabled}:null,Nt={active:Fe,activatorEvent:vt,collisions:Ht,delta:{x:En.x,y:En.y},over:ui};In.unstable_batchedUpdates(()=>{tl(ui),mn==null||mn(Nt),w({type:"onDragOver",event:Nt})})},[el]),mr(()=>{ge.current={activatorEvent:D,active:A,activeNode:X,collisionRect:Br,collisions:Cn,droppableRects:V,draggableNodes:k,draggingNode:Bt,draggingNodeRect:ct,droppableContainers:R,over:br,scrollableAncestors:Wt,scrollAdjustedTranslate:hn},O.current={initial:ct,translated:Br}},[A,X,Cn,Br,k,Bt,ct,V,R,br,Wt,hn]),NU({...Z,delta:E,draggingRect:Br,pointerCoordinates:xo,scrollableAncestors:Wt,scrollableAncestorRects:ci});const De=h.useMemo(()=>({active:A,activeNode:X,activeNodeRect:oe,activatorEvent:D,collisions:Cn,containerNodeRect:_e,dragOverlay:Je,draggableNodes:k,droppableContainers:R,droppableRects:V,over:br,measureDroppableContainers:J,scrollableAncestors:Wt,scrollableAncestorRects:ci,measuringConfiguration:H,measuringScheduled:ve,windowRect:ot}),[A,X,oe,D,Cn,_e,Je,k,R,V,br,J,Wt,ci,H,ve,ot]),Ie=h.useMemo(()=>({activatorEvent:D,activators:pe,active:A,activeNodeRect:oe,ariaDescribedById:{draggable:z},dispatch:x,draggableNodes:k,over:br,measureDroppableContainers:J}),[D,pe,A,oe,x,z,k,br,J]);return F.createElement(Hk.Provider,{value:b},F.createElement(Yc.Provider,{value:Ie},F.createElement(aE.Provider,{value:De},F.createElement(gh.Provider,{value:Nh},d)),F.createElement(HU,{disabled:(l==null?void 0:l.restoreFocus)===!1})),F.createElement(G6,{...l,hiddenTextDescribedById:z}));function kn(){const Fe=(W==null?void 0:W.autoScrollEnabled)===!1,vt=typeof c=="object"?c.enabled===!1:c===!1,Ht=C&&!Fe&&!vt;return typeof c=="object"?{...c,enabled:Ht}:{enabled:Ht}}}),GU=h.createContext(null),ob="button",YU="Draggable";function QU(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const i=Gc(YU),{activators:a,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:f,over:m}=h.useContext(Yc),{role:p=ob,roleDescription:y="draggable",tabIndex:g=0}=s??{},v=(c==null?void 0:c.id)===t,x=h.useContext(v?gh:GU),[w,b]=tf(),[j,_]=tf(),C=DU(a,t),N=yc(n);mr(()=>(f.set(t,{id:t,key:i,node:w,activatorNode:j,data:N}),()=>{const E=f.get(t);E&&E.key===i&&f.delete(t)}),[f,t]);const k=h.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":v&&p===ob?!0:void 0,"aria-roledescription":y,"aria-describedby":u.draggable}),[r,p,g,v,y,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:k,isDragging:v,listeners:r?void 0:C,node:w,over:m,setNodeRef:b,setActivatorNodeRef:_,transform:x}}function cE(){return h.useContext(aE)}const JU="Droppable",XU={timeout:25};function ZU(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const i=Gc(JU),{active:a,dispatch:l,over:c,measureDroppableContainers:d}=h.useContext(Yc),u=h.useRef({disabled:n}),f=h.useRef(!1),m=h.useRef(null),p=h.useRef(null),{disabled:y,updateMeasurementsFor:g,timeout:v}={...XU,...s},x=yc(g??r),w=h.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),p.current=null},v)},[v]),b=ph({callback:w,disabled:y||!a}),j=h.useCallback((k,E)=>{b&&(E&&(b.unobserve(E),f.current=!1),k&&b.observe(k))},[b]),[_,C]=tf(j),N=yc(t);return h.useEffect(()=>{!b||!_.current||(b.disconnect(),f.current=!1,b.observe(_.current))},[_,b]),h.useEffect(()=>(l({type:ut.RegisterDroppable,element:{id:r,key:i,disabled:n,node:_,rect:m,data:N}}),()=>l({type:ut.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==u.current.disabled&&(l({type:ut.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,l]),{active:a,rect:m,isOver:(c==null?void 0:c.id)===r,node:_,over:c,setNodeRef:C}}function e8(e){let{animation:t,children:n}=e;const[r,s]=h.useState(null),[i,a]=h.useState(null),l=nf(n);return!n&&!r&&l&&s(l),mr(()=>{if(!i)return;const c=r==null?void 0:r.key,d=r==null?void 0:r.props.id;if(c==null||d==null){s(null);return}Promise.resolve(t(d,i)).then(()=>{s(null)})},[t,r,i]),F.createElement(F.Fragment,null,n,r?h.cloneElement(r,{ref:a}):null)}const t8={x:0,y:0,scaleX:1,scaleY:1};function n8(e){let{children:t}=e;return F.createElement(Yc.Provider,{value:iE},F.createElement(gh.Provider,{value:t8},t))}const r8={position:"fixed",touchAction:"none"},s8=e=>hh(e)?"transform 250ms ease":void 0,o8=h.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:i,className:a,rect:l,style:c,transform:d,transition:u=s8}=e;if(!l)return null;const f=s?d:{...d,scaleX:1,scaleY:1},m={...r8,width:l.width,height:l.height,top:l.top,left:l.left,transform:cs.Transform.toString(f),transformOrigin:s&&r?Q6(r,l):void 0,transition:typeof u=="function"?u(r):u,...c};return F.createElement(n,{className:a,style:m,ref:t},i)}),i8=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:i,className:a}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[c,d]of Object.entries(s))n.node.style.setProperty(c,d);a!=null&&a.active&&n.node.classList.remove(a.active)}},a8=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:cs.Transform.toString(t)},{transform:cs.Transform.toString(n)}]},l8={duration:250,easing:"ease",keyframes:a8,sideEffects:i8({styles:{active:{opacity:"0"}}})};function c8(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return fh((i,a)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const d=oE(a);if(!d)return;const{transform:u}=Zt(a).getComputedStyle(a),f=Yk(u);if(!f)return;const m=typeof t=="function"?t:d8(t);return nE(c,s.draggable.measure),m({active:{id:i,data:l.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:a,rect:s.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:s,transform:f})})}function d8(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...l8,...e};return i=>{let{active:a,dragOverlay:l,transform:c,...d}=i;if(!t)return;const u={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},f={scaleX:c.scaleX!==1?a.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?a.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-u.x,y:c.y-u.y,...f},p=s({...d,active:a,dragOverlay:l,transform:{initial:c,final:m}}),[y]=p,g=p[p.length-1];if(JSON.stringify(y)===JSON.stringify(g))return;const v=r==null?void 0:r({active:a,dragOverlay:l,...d}),x=l.node.animate(p,{duration:t,easing:n,fill:"forwards"});return new Promise(w=>{x.onfinish=()=>{v==null||v(),w()}})}}let ib=0;function u8(e){return h.useMemo(()=>{if(e!=null)return ib++,ib},[e])}const f8=F.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:i,modifiers:a,wrapperElement:l="div",className:c,zIndex:d=999}=e;const{activatorEvent:u,active:f,activeNodeRect:m,containerNodeRect:p,draggableNodes:y,droppableContainers:g,dragOverlay:v,over:x,measuringConfiguration:w,scrollableAncestors:b,scrollableAncestorRects:j,windowRect:_}=cE(),C=h.useContext(gh),N=u8(f==null?void 0:f.id),k=lE(a,{activatorEvent:u,active:f,activeNodeRect:m,containerNodeRect:p,draggingNodeRect:v.rect,over:x,overlayNodeRect:v.rect,scrollableAncestors:b,scrollableAncestorRects:j,transform:C,windowRect:_}),E=Ux(m),R=c8({config:r,draggableNodes:y,droppableContainers:g,measuringConfiguration:w}),M=E?v.setRef:void 0;return F.createElement(n8,null,F.createElement(e8,{animation:R},f&&N?F.createElement(o8,{key:N,id:f.id,ref:M,as:l,activatorEvent:u,adjustScale:t,className:c,transition:i,rect:E,style:{zIndex:d,...s},transform:k},n):null))});function zx(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function h8(e,t){return e.reduce((n,r,s)=>{const i=t.get(r);return i&&(n[s]=i),n},Array(e.length))}function Fd(e){return e!==null&&e>=0}function m8(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function p8(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const dE=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const i=zx(t,r,n),a=t[s],l=i[s];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},Ld={scaleX:1,scaleY:1},g8=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:i,overIndex:a}=e;const l=(t=i[n])!=null?t:r;if(!l)return null;if(s===n){const d=i[a];return d?{x:0,y:n<a?d.top+d.height-(l.top+l.height):d.top-l.top,...Ld}:null}const c=v8(i,s,n);return s>n&&s<=a?{x:0,y:-l.height-c,...Ld}:s<n&&s>=a?{x:0,y:l.height+c,...Ld}:{x:0,y:0,...Ld}};function v8(e,t,n){const r=e[t],s=e[t-1],i=e[t+1];return r?n<t?s?r.top-(s.top+s.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const uE="Sortable",fE=F.createContext({activeIndex:-1,containerId:uE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:dE,disabled:{draggable:!1,droppable:!1}});function x8(e){let{children:t,id:n,items:r,strategy:s=dE,disabled:i=!1}=e;const{active:a,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=cE(),f=Gc(uE,n),m=l.rect!==null,p=h.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),y=a!=null,g=a?p.indexOf(a.id):-1,v=d?p.indexOf(d.id):-1,x=h.useRef(p),w=!m8(p,x.current),b=v!==-1&&g===-1||w,j=p8(i);mr(()=>{w&&y&&u(p)},[w,p,y,u]),h.useEffect(()=>{x.current=p},[p]);const _=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:j,disableTransforms:b,items:p,overIndex:v,useDragOverlay:m,sortedRects:h8(p,c),strategy:s}),[g,f,j.draggable,j.droppable,b,p,v,c,m,s]);return F.createElement(fE.Provider,{value:_},t)}const y8=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return zx(n,r,s).indexOf(t)},w8=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:i,newIndex:a,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!r||l!==i&&s===a?!1:n?!0:a!==s&&t===c},b8={duration:200,easing:"ease"},hE="transform",j8=cs.Transition.toString({property:hE,duration:0,easing:"linear"}),N8={roleDescription:"sortable"};function _8(e){let{disabled:t,index:n,node:r,rect:s}=e;const[i,a]=h.useState(null),l=h.useRef(n);return mr(()=>{if(!t&&n!==l.current&&r.current){const c=s.current;if(c){const d=qa(r.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&a(u)}}n!==l.current&&(l.current=n)},[t,n,r,s]),h.useEffect(()=>{i&&a(null)},[i]),i}function mE(e){let{animateLayoutChanges:t=w8,attributes:n,disabled:r,data:s,getNewIndex:i=y8,id:a,strategy:l,resizeObserverConfig:c,transition:d=b8}=e;const{items:u,containerId:f,activeIndex:m,disabled:p,disableTransforms:y,sortedRects:g,overIndex:v,useDragOverlay:x,strategy:w}=h.useContext(fE),b=S8(r,p),j=u.indexOf(a),_=h.useMemo(()=>({sortable:{containerId:f,index:j,items:u},...s}),[f,s,j,u]),C=h.useMemo(()=>u.slice(u.indexOf(a)),[u,a]),{rect:N,node:k,isOver:E,setNodeRef:R}=ZU({id:a,data:_,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:M,activatorEvent:O,activeNodeRect:A,attributes:I,setNodeRef:W,listeners:U,isDragging:D,over:S,setActivatorNodeRef:T,transform:z}=QU({id:a,data:_,attributes:{...N8,...n},disabled:b.draggable}),B=I6(R,W),H=!!M,V=H&&!y&&Fd(m)&&Fd(v),J=!x&&D,ve=J&&V?z:null,$=V?ve??(l??w)({rects:g,activeNodeRect:A,activeIndex:m,overIndex:v,index:j}):null,Z=Fd(m)&&Fd(v)?i({id:a,items:u,activeIndex:m,overIndex:v}):j,me=M==null?void 0:M.id,oe=h.useRef({activeId:me,items:u,newIndex:Z,containerId:f}),_e=u!==oe.current.items,ge=t({active:M,containerId:f,isDragging:D,isSorting:H,id:a,index:j,items:u,newIndex:oe.current.newIndex,previousItems:oe.current.items,previousContainerId:oe.current.containerId,transition:d,wasDragging:oe.current.activeId!=null}),nt=_8({disabled:!ge,index:j,node:k,rect:N});return h.useEffect(()=>{H&&oe.current.newIndex!==Z&&(oe.current.newIndex=Z),f!==oe.current.containerId&&(oe.current.containerId=f),u!==oe.current.items&&(oe.current.items=u)},[H,Z,f,u]),h.useEffect(()=>{if(me===oe.current.activeId)return;if(me!=null&&oe.current.activeId==null){oe.current.activeId=me;return}const Bt=setTimeout(()=>{oe.current.activeId=me},50);return()=>clearTimeout(Bt)},[me]),{active:M,activeIndex:m,attributes:I,data:_,rect:N,index:j,newIndex:Z,items:u,isOver:E,isSorting:H,isDragging:D,listeners:U,node:k,overIndex:v,over:S,setNodeRef:B,setActivatorNodeRef:T,setDroppableNodeRef:R,setDraggableNodeRef:W,transform:nt??$,transition:Je()};function Je(){if(nt||_e&&oe.current.newIndex===j)return j8;if(!(J&&!hh(O)||!d)&&(H||ge))return cs.Transition.toString({...d,property:hE})}}function S8(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function af(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const C8=[Ce.Down,Ce.Right,Ce.Up,Ce.Left],k8=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:i,over:a,scrollableAncestors:l}}=t;if(C8.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=s.get(f.id);if(m)switch(e.code){case Ce.Down:r.top<m.top&&c.push(f);break;case Ce.Up:r.top>m.top&&c.push(f);break;case Ce.Left:r.left>m.left&&c.push(f);break;case Ce.Right:r.left<m.left&&c.push(f);break}});const d=Z6({active:n,collisionRect:r,droppableRects:s,droppableContainers:c,pointerCoordinates:null});let u=Kk(d,"id");if(u===(a==null?void 0:a.id)&&d.length>1&&(u=d[1].id),u!=null){const f=i.get(n.id),m=i.get(u),p=m?s.get(m.id):null,y=m==null?void 0:m.node.current;if(y&&p&&f&&m){const v=mh(y).some((C,N)=>l[N]!==C),x=pE(f,m),w=E8(f,m),b=v||!x?{x:0,y:0}:{x:w?r.width-p.width:0,y:w?r.height-p.height:0},j={x:p.left,y:p.top};return b.x&&b.y?j:wc(j,b)}}}};function pE(e,t){return!af(e)||!af(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function E8(e,t){return!af(e)||!af(t)||!pE(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Ka=h.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:Y("w-full caption-bottom text-sm",e),...t})}));Ka.displayName="Table";const Ga=h.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:Y("[&_tr]:border-b",e),...t}));Ga.displayName="TableHeader";const Ya=h.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:Y("[&_tr:last-child]:border-0",e),...t}));Ya.displayName="TableBody";const P8=h.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:Y("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));P8.displayName="TableFooter";const gr=h.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:Y("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));gr.displayName="TableRow";const Re=h.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:Y("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Re.displayName="TableHead";const Pe=h.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:Y("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Pe.displayName="TableCell";const T8=h.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:Y("mt-4 text-sm text-muted-foreground",e),...t}));T8.displayName="TableCaption";function R8(e,t=[]){let n=[];function r(i,a){const l=h.createContext(a),c=n.length;n=[...n,a];function d(f){const{scope:m,children:p,...y}=f,g=(m==null?void 0:m[e][c])||l,v=h.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})}function u(f,m){const p=(m==null?void 0:m[e][c])||l,y=h.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=n.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,M8(s,...t)]}function M8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var A8="Toggle",Bx=h.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:s,...i}=e,[a=!1,l]=zn({prop:n,onChange:s,defaultProp:r});return o.jsx(ae.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:K(e.onClick,()=>{e.disabled||l(!a)})})});Bx.displayName=A8;var gE=Bx,Qa="ToggleGroup",[vE,EH]=R8(Qa,[za]),xE=za(),Wx=F.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const s=r;return o.jsx(O8,{...s,ref:t})}if(n==="multiple"){const s=r;return o.jsx(I8,{...s,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Qa}\``)});Wx.displayName=Qa;var[yE,wE]=vE(Qa),O8=F.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[a,l]=zn({prop:n,defaultProp:r,onChange:s});return o.jsx(yE,{scope:e.__scopeToggleGroup,type:"single",value:a?[a]:[],onItemActivate:l,onItemDeactivate:F.useCallback(()=>l(""),[l]),children:o.jsx(bE,{...i,ref:t})})}),I8=F.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[a=[],l]=zn({prop:n,defaultProp:r,onChange:s}),c=F.useCallback(u=>l((f=[])=>[...f,u]),[l]),d=F.useCallback(u=>l((f=[])=>f.filter(m=>m!==u)),[l]);return o.jsx(yE,{scope:e.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:c,onItemDeactivate:d,children:o.jsx(bE,{...i,ref:t})})});Wx.displayName=Qa;var[D8,F8]=vE(Qa),bE=F.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:s=!0,orientation:i,dir:a,loop:l=!0,...c}=e,d=xE(n),u=Ua(a),f={role:"group",dir:u,...c};return o.jsx(D8,{scope:n,rovingFocus:s,disabled:r,children:s?o.jsx(dx,{asChild:!0,...d,orientation:i,dir:u,loop:l,children:o.jsx(ae.div,{...f,ref:t})}):o.jsx(ae.div,{...f,ref:t})})}),lf="ToggleGroupItem",jE=F.forwardRef((e,t)=>{const n=wE(lf,e.__scopeToggleGroup),r=F8(lf,e.__scopeToggleGroup),s=xE(e.__scopeToggleGroup),i=n.value.includes(e.value),a=r.disabled||e.disabled,l={...e,pressed:i,disabled:a},c=F.useRef(null);return r.rovingFocus?o.jsx(ux,{asChild:!0,...s,focusable:!a,active:i,ref:c,children:o.jsx(ab,{...l,ref:t})}):o.jsx(ab,{...l,ref:t})});jE.displayName=lf;var ab=F.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...s}=e,i=wE(lf,n),a={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?a:void 0;return o.jsx(Bx,{...l,...s,ref:t,onPressedChange:c=>{c?i.onItemActivate(r):i.onItemDeactivate(r)}})}),NE=Wx,_E=jE;const SE=ni("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent border border-border/50",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),L8=h.forwardRef(({className:e,variant:t,size:n,...r},s)=>o.jsx(gE,{ref:s,className:Y(SE({variant:t,size:n,className:e})),...r}));L8.displayName=gE.displayName;const $8=ni("flex items-center justify-center gap-1",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2.5",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),CE=h.createContext({}),jc=h.forwardRef(({className:e,variant:t,size:n,children:r,...s},i)=>o.jsx(NE,{ref:i,className:Y($8({variant:t,size:n}),e),...s,children:o.jsx(CE.Provider,{value:{variant:t,size:n},children:r})}));jc.displayName=NE.displayName;const xn=h.forwardRef(({className:e,children:t,variant:n,size:r,...s},i)=>{const a=h.useContext(CE);return o.jsx(_E,{ref:i,className:Y(SE({variant:a.variant||n,size:a.size||r}),e),...s,children:t})});xn.displayName=_E.displayName;var U8="Separator",lb="horizontal",z8=["horizontal","vertical"],kE=h.forwardRef((e,t)=>{const{decorative:n,orientation:r=lb,...s}=e,i=B8(r)?r:lb,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(ae.div,{"data-orientation":i,...l,...s,ref:t})});kE.displayName=U8;function B8(e){return z8.includes(e)}var EE=kE;const Dr=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>o.jsx(EE,{ref:s,decorative:n,orientation:t,className:Y("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Dr.displayName=EE.displayName;const Vn=()=>{const{tenantId:e}=si();return{tenant:{id:e},tenantId:e}},PE=h.createContext(void 0),Co=class Co{constructor(){xt(this,"fetchInProgress",!1);xt(this,"lastFetchTime",0);xt(this,"cache",null);xt(this,"subscribers",new Set);xt(this,"currentData",[]);xt(this,"isLoading",!1);xt(this,"circuitBreakerOpen",!1);xt(this,"errorCount",0);xt(this,"lastError",0);xt(this,"activeRequests",new Map);xt(this,"strictModeGuard",new Set);xt(this,"backoffDelay",1e3)}static getInstance(){return Co.instance||(Co.instance=new Co),Co.instance}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}notifySubscribers(){setTimeout(()=>{this.subscribers.forEach(t=>{try{t()}catch(n){console.error("Error in ColorPresets subscriber callback:",n)}})},0)}getData(){return{data:[...this.currentData],loading:this.isLoading}}strictModeProtection(t,n){return!1}async fetchColorPresets(t,n=!1){if(!t||this.strictModeProtection(t,n))return;const r=`${t}_${n}`;if(this.activeRequests.has(r))return console.log(` Request already in flight for key: ${r}, returning existing promise`),this.activeRequests.get(r);const s=Date.now();if(this.circuitBreakerOpen){const a=Math.min(3e5,this.backoffDelay*Math.pow(2,this.errorCount-3));if(s-this.lastError<a){console.log(` CIRCUIT BREAKER OPEN - All requests blocked for ${Math.round(a/1e3)}s`);return}else console.log(" Attempting to reset circuit breaker"),this.circuitBreakerOpen=!1,this.errorCount=0,this.backoffDelay=1e3}if(this.fetchInProgress){console.log(" Global fetch already in progress, blocking duplicate request");return}if(!n&&this.cache&&s-this.cache.timestamp<6e4){console.log(" Using global cached color presets"),this.currentData=[...this.cache.data],this.isLoading=!1,this.notifySubscribers();return}if(!n&&s-this.lastFetchTime<5e3){console.log(" Global debounce blocking request");return}const i=this.performFetch(t,s);this.activeRequests.set(r,i);try{await i}finally{this.activeRequests.delete(r)}}async performFetch(t,n){console.log(" Starting global color presets fetch"),this.fetchInProgress=!0,this.lastFetchTime=n,this.isLoading=!0,this.notifySubscribers();try{const r=new AbortController,s=setTimeout(()=>r.abort(),15e3),i=await fetch("/api/color-presets/",{signal:r.signal,headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(clearTimeout(s),i.status===429)throw this.backoffDelay=Math.min(3e4,this.backoffDelay*2),new Error(`Rate limited - backing off for ${this.backoffDelay}ms`);if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);const a=await i.json();if(!Array.isArray(a))throw new Error("Invalid response format - expected array");const l=a.filter(c=>(c==null?void 0:c.is_active)&&(c==null?void 0:c.id)&&(c==null?void 0:c.color_name)).sort((c,d)=>c.color_name.localeCompare(d.color_name));this.errorCount=0,this.circuitBreakerOpen=!1,this.backoffDelay=1e3,this.cache={data:l,timestamp:n},this.currentData=l,console.log(` Global color presets fetch complete: ${l.length} presets`)}catch(r){this.errorCount++,this.lastError=n,console.error(` Global color presets fetch error (${this.errorCount}/3):`,r),this.errorCount>=3&&(this.circuitBreakerOpen=!0,this.backoffDelay=Math.min(3e4,this.backoffDelay*2),console.error(` CIRCUIT BREAKER OPENED - Stopping requests for ${this.backoffDelay}ms`))}finally{this.isLoading=!1,this.fetchInProgress=!1,this.notifySubscribers()}}clearCache(){this.cache=null,this.activeRequests.clear(),this.strictModeGuard.clear(),console.log(" ColorPresets cache cleared")}};xt(Co,"instance");let kg=Co;const W8=({children:e})=>{const{tenant:t}=Vn(),{toast:n}=ke(),r=h.useRef();r.current||(r.current=kg.getInstance());const[s,i]=h.useState(()=>r.current.getData());h.useEffect(()=>{const m=r.current;return m.subscribe(()=>{i(m.getData())})},[]);const a=h.useCallback(m=>{r.current.fetchColorPresets(m)},[]);h.useEffect(()=>{t!=null&&t.id&&a(t.id)},[t==null?void 0:t.id,a]);const l=h.useCallback((m,p)=>{if(p){const g=s.data.find(v=>v.color_name.toLowerCase()===m.toLowerCase()&&v.filament_type.toLowerCase()===p.toLowerCase());if(g)return g.hex_code}const y=s.data.find(g=>g.color_name.toLowerCase()===m.toLowerCase());return y?y.hex_code:"#6b7280"},[s.data]),c=h.useCallback(async(m,p,y)=>{if(!(t!=null&&t.id))return n({title:"Error",description:"User not authenticated",variant:"destructive"}),!1;try{const g=await fetch("/api/color-presets/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({color_name:m.trim(),hex_code:p,material_type:y,is_active:!0})});if(!g.ok)throw new Error(`Failed to create color preset: ${g.statusText}`);const v=await g.json();if(!v.success)throw new Error(v.message||"Failed to create color preset");return n({title:"Color Added",description:`${m} has been added to available colors.`}),await r.current.fetchColorPresets(t.id,!0),!0}catch(g){return console.error("Error creating color preset:",g),n({title:"Error",description:g instanceof Error?g.message:"Failed to save color preset.",variant:"destructive"}),!1}},[t==null?void 0:t.id,n]),d=h.useCallback(async(m,p,y,g)=>{try{const v=await fetch(`/api/color-presets/${m}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({color_name:p.trim(),hex_code:y,material_type:g})});if(!v.ok)throw new Error(`Failed to update color preset: ${v.statusText}`);const x=await v.json();if(!x.success)throw new Error(x.message||"Failed to update color preset");return n({title:"Color Updated",description:"Color preset has been updated successfully."}),await r.current.fetchColorPresets((t==null?void 0:t.id)||"",!0),!0}catch(v){return console.error("Error updating color preset:",v),n({title:"Error",description:v instanceof Error?v.message:"Failed to update color preset.",variant:"destructive"}),!1}},[t==null?void 0:t.id,n]),u=h.useCallback(async m=>{if(!(t!=null&&t.id))return n({title:"Error",description:"User not authenticated",variant:"destructive"}),!1;try{const p=await fetch(`/api/color-presets/${m}`,{method:"DELETE"});if(!p.ok)throw new Error(`Failed to delete color preset: ${p.statusText}`);const y=await p.json();if(!y.success)throw new Error(y.message||"Failed to delete color preset");return n({title:"Color Removed",description:"Color preset has been permanently deleted."}),await r.current.fetchColorPresets(t.id,!0),!0}catch(p){return console.error("Error deleting color preset:",p),n({title:"Error",description:p instanceof Error?p.message:"Failed to remove color preset. Please try again.",variant:"destructive"}),!1}},[t==null?void 0:t.id,n]),f={colorPresets:s.data,loading:s.loading,getColorHex:l,refetch:()=>r.current.fetchColorPresets((t==null?void 0:t.id)||"",!0),createColorPreset:c,updateColorPreset:d,deleteColorPreset:u};return o.jsx(PE.Provider,{value:f,children:e})},go=()=>{const e=h.useContext(PE);if(!e)throw new Error("useColorPresetsContext must be used within a ColorPresetsProvider");return e},fn=({color:e,filamentType:t,size:n="sm",className:r})=>{const{getColorHex:s}=go(),i=c=>c&&c.includes("|")?c.split("|")[1]:c&&c.startsWith("#")?c:s(c,t),a={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},l=e.split("|")[0]||e;return o.jsx("div",{className:Y("rounded-full border border-gray-300 flex-shrink-0",a[n],r),style:{backgroundColor:i(e)},title:l})},Hx=({printer:e,onUpdatePrinter:t})=>{const[n,r]=h.useState(!1),{colorPresets:s,loading:i}=go(),{toast:a}=ke(),l=async(c,d,u)=>{try{if(!t)throw new Error("onUpdatePrinter function not provided");r(!1),await t(e.id,{currentColor:c,currentColorHex:d,currentFilamentType:u}),a({title:"Success",description:`${e.name} filament color updated to ${c}.`})}catch(f){console.error("Error updating printer color:",f),a({title:"Error",description:"Failed to update printer color.",variant:"destructive"})}};return i?o.jsx(L,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 opacity-50",children:o.jsx(Au,{className:"h-2.5 w-2.5"})}):o.jsxs(ur,{open:n,onOpenChange:r,children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 hover:bg-black/10 transition-colors",children:o.jsx(Au,{className:"h-2.5 w-2.5"})})}),o.jsx(Bn,{align:"end",className:"w-56 bg-background border shadow-lg z-50",children:s.length===0?o.jsx("div",{className:"p-3 text-sm text-muted-foreground text-center",children:"No color presets available"}):s.map(c=>o.jsxs(Ge,{onClick:()=>l(c.color_name,c.hex_code,c.filament_type),className:"flex items-center gap-3 cursor-pointer hover:bg-muted",children:[o.jsx(fn,{color:`${c.color_name}|${c.hex_code}`,size:"sm"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:c.color_name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:c.filament_type})]})]},c.id))})]})},km=e=>({id:e.id,name:e.name,fileSizeBytes:e.file_size_bytes,numberOfUnits:e.number_of_units,tenantId:e.tenant_id,createdAt:e.created_at,updatedAt:e.updated_at,size:e.file_size_bytes?`${(e.file_size_bytes/1024/1024).toFixed(1)} MB`:void 0,dateAdded:e.created_at?new Date(e.created_at).toLocaleDateString():void 0}),H8=e=>{const t={};return e.name!==void 0&&(t.name=e.name),e.fileSizeBytes!==void 0&&(t.file_size_bytes=e.fileSizeBytes),e.numberOfUnits!==void 0&&(t.number_of_units=e.numberOfUnits),e.tenantId!==void 0&&(t.tenant_id=e.tenantId),t},bi=e=>({id:e.id,printerId:e.printer_id,printFileId:e.print_file_id,fileName:e.file_name,status:e.status,color:e.color,filamentType:e.filament_type,materialType:e.material_type,numberOfUnits:e.number_of_units,filamentNeededGrams:e.filament_needed_grams,estimatedPrintTimeMinutes:e.estimated_print_time_minutes,actualPrintTimeMinutes:e.actual_print_time_minutes,progressPercentage:e.progress_percentage,priority:e.priority,submittedBy:e.submitted_by,timeSubmitted:e.time_submitted,timeStarted:e.time_started,timeCompleted:e.time_completed,failureReason:e.failure_reason,tenantId:e.tenant_id,createdAt:e.created_at,updatedAt:e.updated_at}),V8=e=>{const t={};return e.printerId!==void 0&&(t.printer_id=e.printerId),e.printFileId!==void 0&&(t.print_file_id=e.printFileId),e.fileName!==void 0&&(t.file_name=e.fileName),e.status!==void 0&&(t.status=e.status),e.color!==void 0&&(t.color=e.color),e.filamentType!==void 0&&(t.filament_type=e.filamentType),e.materialType!==void 0&&(t.material_type=e.materialType),e.numberOfUnits!==void 0&&(t.number_of_units=e.numberOfUnits),e.filamentNeededGrams!==void 0&&(t.filament_needed_grams=e.filamentNeededGrams),e.estimatedPrintTimeMinutes!==void 0&&(t.estimated_print_time_minutes=e.estimatedPrintTimeMinutes),e.actualPrintTimeMinutes!==void 0&&(t.actual_print_time_minutes=e.actualPrintTimeMinutes),e.progressPercentage!==void 0&&(t.progress_percentage=e.progressPercentage),e.priority!==void 0&&(t.priority=e.priority),e.submittedBy!==void 0&&(t.submitted_by=e.submittedBy),e.timeSubmitted!==void 0&&(t.time_submitted=e.timeSubmitted),e.timeStarted!==void 0&&(t.time_started=e.timeStarted),e.timeCompleted!==void 0&&(t.time_completed=e.timeCompleted),e.failureReason!==void 0&&(t.failure_reason=e.failureReason),e.tenantId!==void 0&&(t.tenant_id=e.tenantId),t},Em=e=>({id:e.id,orderNumber:e.order_number,platform:e.platform,customerName:e.customer_name,customerEmail:e.customer_email,orderDate:e.order_date,status:e.status,totalRevenue:e.total_revenue,shippingStreet:e.shipping_street,shippingCity:e.shipping_city,shippingState:e.shipping_state,shippingZip:e.shipping_zip,shippingCountry:e.shipping_country,tenantId:e.tenant_id,createdAt:e.created_at,updatedAt:e.updated_at}),cb=e=>({id:e.id,orderId:e.order_id,finishedGoodId:e.finished_good_id,sku:e.sku,productName:e.product_name,quantity:e.quantity,unitPrice:e.unit_price,totalPrice:e.total_price,createdAt:e.created_at}),q8=e=>{const t={};return e.orderNumber!==void 0&&(t.order_number=e.orderNumber),e.platform!==void 0&&(t.platform=e.platform),e.customerName!==void 0&&(t.customer_name=e.customerName),e.customerEmail!==void 0&&(t.customer_email=e.customerEmail),e.orderDate!==void 0&&(t.order_date=e.orderDate),e.status!==void 0&&(t.status=e.status),e.totalRevenue!==void 0&&(t.total_revenue=e.totalRevenue),e.shippingStreet!==void 0&&(t.shipping_street=e.shippingStreet),e.shippingCity!==void 0&&(t.shipping_city=e.shippingCity),e.shippingState!==void 0&&(t.shipping_state=e.shippingState),e.shippingZip!==void 0&&(t.shipping_zip=e.shippingZip),e.shippingCountry!==void 0&&(t.shipping_country=e.shippingCountry),e.tenantId!==void 0&&(t.tenant_id=e.tenantId),t},db=e=>({id:e.id,name:e.name,model:e.model,printerId:e.printer_id,manufacturer:e.manufacturer,status:e.status,currentColor:e.current_color,currentColorHex:e.current_color_hex,currentFilamentType:e.current_filament_type,location:e.location,firmwareVersion:e.firmware_version,totalPrintTime:e.total_print_time,lastMaintenanceDate:e.last_maintenance_date,isActive:e.is_active,serialNumber:e.serial_number,ipAddress:e.ip_address,ip:e.ip_address,serial:e.serial_number,accessCode:e.access_code,tenantId:e.tenant_id,createdAt:e.created_at,updatedAt:e.updated_at,enabled:e.is_active,connected:!1}),Vx=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),{toast:s}=ke(),{tenant:i}=Vn(),a=h.useCallback(async()=>{if(i!=null&&i.id)try{const f=await fetch("/api/printers-sync/");if(!f.ok)throw new Error(`Failed to fetch printers: ${f.statusText}`);const p=(await f.json()).map(db);try{const y=await fetch("/api/printers/status-quick",{signal:AbortSignal.timeout(3e3)});if(y.ok){const g=await y.json();if(g.success&&g.printers){const v=p.map(x=>{const w=g.printers.find(b=>{var j;return b.printer_id===((j=x.printerId)==null?void 0:j.toString())});return w?{...x,status:w.status,connected:w.connected}:x});t(v)}else t(p)}else t(p)}catch(y){console.warn("Failed to check immediate printer status, using database status:",y),t(p)}}catch(f){console.error("Error fetching printers:",f),s({title:"Error",description:"Failed to load printers from database.",variant:"destructive"}),t([])}finally{r(!1)}},[i==null?void 0:i.id,s]),l=async f=>{if(!(i!=null&&i.id))throw new Error("No tenant ID available");try{const m=await fetch("/api/printers-sync/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:f.name,model:f.model,manufacturer:f.manufacturer,ip_address:f.ipAddress,access_code:f.accessCode,serial_number:f.serialNumber,firmware_version:f.firmwareVersion,location:f.location,sort_order:f.sortOrder||0})});if(!m.ok)throw new Error(`Failed to add printer: ${m.statusText}`);const p=await m.json();if(!p.success)throw new Error(p.message||"Failed to add printer");const y=db(p.printer);return t(g=>[...g,y]),s({title:"Success",description:`${f.name} has been added to your fleet.`}),y}catch(m){throw console.error("Error adding printer:",m),s({title:"Error",description:m instanceof Error?m.message:"Failed to add printer.",variant:"destructive"}),m}},c=async(f,m)=>{try{return t(p=>p.map(y=>y.id===f?transformedPrinter:y)),s({title:"Success",description:"Printer updated successfully."}),transformedPrinter}catch(p){throw console.error("Error updating printer:",p),s({title:"Error",description:p instanceof Error?p.message:"Failed to update printer.",variant:"destructive"}),p}},d=async f=>{try{const{error:m}=await G.from("printers").update({is_active:!1}).eq("id",f);if(m)throw m;t(p=>p.filter(y=>y.id!==f)),s({title:"Success",description:"Printer removed from fleet."})}catch(m){throw console.error("Error deleting printer:",m),s({title:"Error",description:"Failed to remove printer.",variant:"destructive"}),m}},u=async f=>{try{const m=f.map((p,y)=>({id:p.id,sort_order:y+1}));for(const p of m){const{error:y}=await G.from("printers").update({sort_order:p.sort_order}).eq("id",p.id);if(y)throw y}t(f)}catch(m){throw console.error("Error updating printer order:",m),s({title:"Error",description:"Failed to save printer order.",variant:"destructive"}),m}};return h.useEffect(()=>{if(!(i!=null&&i.id))return;const f=G.channel("printer-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"printers",filter:`tenant_id=eq.${i.id}`},m=>{console.log("Printer updated via real-time:",m),a()}).subscribe();return()=>{G.removeChannel(f)}},[i==null?void 0:i.id,a]),h.useEffect(()=>{i!=null&&i.id&&a()},[i==null?void 0:i.id,a]),{printers:e,loading:n,addPrinter:l,updatePrinter:c,deletePrinter:d,updatePrintersOrder:u,refetch:a}},K8=({printer:e,isOpen:t,onClose:n})=>{const[r,s]=h.useState(!1),[i,a]=h.useState(""),[l,c]=h.useState(""),[d,u]=h.useState(!1),[f,m]=h.useState(!1),[p,y]=h.useState(!1),[g,v]=h.useState(!1),[x,w]=h.useState(""),[b,j]=h.useState(""),[_,C]=h.useState(!1),[N,k]=h.useState(!1),{toast:E}=ke(),{updatePrinter:R,printers:M}=Vx(),{data:O}=Nx(),A=h.useMemo(()=>M.find(Z=>Z.id===(e==null?void 0:e.id))||e,[M,e==null?void 0:e.id,e]),I=h.useMemo(()=>O==null?void 0:O.find($=>{var Z;return $.printer_id===((Z=A==null?void 0:A.printerId)==null?void 0:Z.toString())}),[O,A==null?void 0:A.printerId]);if(!A)return null;const W=$=>{switch($){case"printing":return"default";case"idle":return"secondary";case"maintenance":case"offline":return"destructive";default:return"outline"}},U=()=>{a(A.name),c(A.model),s(!0)},D=async()=>{try{await R(A.id,{name:i,model:l}),s(!1)}catch{}},S=()=>{s(!1),a(""),c("")},T=async()=>{if(!(!(A!=null&&A.id)||d)){u(!0);try{const $=J?"off":"on",Z=await fetch(`/api/printers/${A.printerId}/light/${$}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!Z.ok)throw new Error(`Failed to turn light ${$}`);const me=await Z.json();E({title:"Light Control",description:me.message||`Light turned ${$} successfully`})}catch($){console.error("Error controlling light:",$),E({title:"Error",description:"Failed to control printer light",variant:"destructive"})}finally{u(!1)}}},z=async()=>{if(!(!(A!=null&&A.id)||f)){m(!0);try{const $=await fetch(`/api/printers/${A.printerId}/home`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!$.ok)throw new Error("Failed to home printer");const Z=await $.json();E({title:"Home Command",description:Z.message||"Printer homing completed successfully"})}catch($){console.error("Error homing printer:",$),E({title:"Error",description:"Failed to home printer",variant:"destructive"})}finally{m(!1)}}},B=async()=>{if(!(A!=null&&A.id)||!x||_)return;const $=parseInt(x);if(isNaN($)||$<0||$>300){E({title:"Invalid Temperature",description:"Please enter a valid temperature between 0-300C",variant:"destructive"});return}C(!0);try{const Z=await fetch(`/api/printers/${A.printerId}/temp/nozzle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({temperature:$,wait:!1})});if(!Z.ok)throw new Error("Failed to set nozzle temperature");const me=await Z.json();E({title:"Temperature Set",description:`Nozzle temperature set to ${$}C`}),y(!1),w("")}catch(Z){console.error("Error setting nozzle temperature:",Z),E({title:"Error",description:"Failed to set nozzle temperature",variant:"destructive"})}finally{C(!1)}},H=async()=>{if(!(A!=null&&A.id)||!b||N)return;const $=parseInt(b);if(isNaN($)||$<0||$>120){E({title:"Invalid Temperature",description:"Please enter a valid temperature between 0-120C",variant:"destructive"});return}k(!0);try{const Z=await fetch(`/api/printers/${A.printerId}/temp/bed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({temperature:$,wait:!1})});if(!Z.ok)throw new Error("Failed to set bed temperature");const me=await Z.json();E({title:"Temperature Set",description:`Bed temperature set to ${$}C`}),v(!1),j("")}catch(Z){console.error("Error setting bed temperature:",Z),E({title:"Error",description:"Failed to set bed temperature",variant:"destructive"})}finally{k(!1)}},V=I?I.status:"offline",J=(I==null?void 0:I.light_on)||!1,X=I!=null&&I.temperatures?{nozzle:Math.round(I.temperatures.nozzle.current),bed:Math.round(I.temperatures.bed.current)}:{nozzle:210,bed:60};return o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"sm:max-w-[600px]",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(va,{className:"h-5 w-5"}),r?"Edit Printer":`${A.name} Details`,!r&&o.jsx(re,{className:"!bg-[#00AE42] !text-white !border-0 ml-2",children:A.model})]})}),o.jsxs("div",{className:"space-y-6",children:[r&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{className:"text-sm font-medium text-muted-foreground",children:"Name"}),o.jsx(le,{value:i,onChange:$=>a($.target.value),placeholder:"Printer name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{className:"text-sm font-medium text-muted-foreground",children:"Model"}),o.jsx(le,{value:l,onChange:$=>c($.target.value),placeholder:"Printer model"})]})]}),!r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-8 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Current Status:"}),o.jsx(re,{variant:W(V),children:V})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:A.currentColorHex&&A.currentColor?`${A.currentColor}|${A.currentColorHex}`:"Black|#000000",size:"sm"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm mr-1",children:A.currentColor?A.currentColor.split("|")[0]:"None"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:A.currentFilamentType||"PLA"})]}),o.jsx(Hx,{printer:A})]})]}),V==="printing"?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"File:"}),o.jsx("span",{className:"text-sm font-medium",children:"Sample Print Job"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Time Remaining:"}),o.jsx("span",{className:"text-sm font-medium",children:"2h 15m"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Layers:"}),o.jsx("span",{className:"text-sm font-medium",children:"156/240"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Progress"}),o.jsx("span",{children:"65%"})]}),o.jsx(Ba,{value:65,className:"h-2"})]})]}):o.jsx("div",{className:"text-sm text-muted-foreground",children:"No active print job"})]}),o.jsx(Dr,{})]}),!r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Temperature Status"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fv,{className:"h-4 w-4 text-red-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Nozzle"}),p?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(le,{type:"number",value:x,onChange:$=>w($.target.value),placeholder:X.nozzle.toString(),className:"h-8 w-20 text-sm",min:"0",max:"300",onKeyDown:$=>{$.key==="Enter"&&B(),$.key==="Escape"&&(y(!1),w(""))},autoFocus:!0}),o.jsx("span",{className:"text-sm",children:"C"})]}):o.jsxs("p",{className:"text-lg font-medium",children:[X.nozzle,"C"]})]}),p?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(L,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:B,disabled:_||!x,title:"Confirm temperature",children:o.jsx(cc,{className:"h-3 w-3"})}),o.jsx(L,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>{y(!1),w("")},title:"Cancel",children:o.jsx(no,{className:"h-3 w-3"})})]}):o.jsx(L,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>{y(!0),w(X.nozzle.toString())},title:"Edit nozzle temperature",children:o.jsx(Au,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vA,{className:"h-4 w-4 text-blue-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Bed"}),g?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(le,{type:"number",value:b,onChange:$=>j($.target.value),placeholder:X.bed.toString(),className:"h-8 w-20 text-sm",min:"0",max:"120",onKeyDown:$=>{$.key==="Enter"&&H(),$.key==="Escape"&&(v(!1),j(""))},autoFocus:!0}),o.jsx("span",{className:"text-sm",children:"C"})]}):o.jsxs("p",{className:"text-lg font-medium",children:[X.bed,"C"]})]}),g?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(L,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:H,disabled:N||!b,title:"Confirm temperature",children:o.jsx(cc,{className:"h-3 w-3"})}),o.jsx(L,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>{v(!1),j("")},title:"Cancel",children:o.jsx(no,{className:"h-3 w-3"})})]}):o.jsx(L,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>{v(!0),j(X.bed.toString())},title:"Edit bed temperature",children:o.jsx(Au,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(L,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:z,disabled:f,title:f?"Homing...":"Home printer",children:o.jsx(sA,{className:"h-4 w-4"})}),o.jsx(L,{variant:"outline",size:"icon",className:`h-8 w-8 ${J?"bg-yellow-100 text-yellow-600 hover:bg-yellow-200":""}`,onClick:T,disabled:d,title:`Light is ${J?"ON":"OFF"} - Click to toggle`,children:o.jsx(cA,{className:"h-4 w-4"})})]})]})]}),o.jsx(Dr,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"System Info"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Print Time:"}),o.jsx("span",{children:"342h 15m"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Last Maintenance:"}),o.jsx("span",{children:"2 weeks ago"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Firmware:"}),o.jsx("span",{children:"v2.1.2"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Connection:"}),o.jsx("span",{className:"text-green-600",children:"Online"})]})]})]})]}),o.jsx("div",{className:"flex justify-end gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx(L,{variant:"outline",onClick:S,children:"Cancel"}),o.jsx(L,{onClick:D,children:"Save Changes"})]}):o.jsxs(o.Fragment,{children:[o.jsx(L,{variant:"outline",onClick:n,children:"Close"}),o.jsxs(L,{variant:"outline",onClick:U,children:[o.jsx(Ou,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsx(L,{children:"Send G-Code"})]})})]})]})})},Qc=h.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:Y("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Qc.displayName="Textarea";const G8=({printer:e,isOpen:t,onClose:n})=>{const{toast:r}=ke(),[s,i]=h.useState(""),[a,l]=h.useState("");if(!e)return null;const c=()=>{if(!s){r({title:"Error",description:"Please select a maintenance type.",variant:"destructive"});return}r({title:"Maintenance Started",description:`${s} maintenance has been started for ${e.name}.`}),n()};return o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"sm:max-w-[500px]",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(to,{className:"h-5 w-5"}),"Start Maintenance - ",e.name]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsx(Dc,{className:"h-4 w-4 text-yellow-600"}),o.jsx("p",{className:"text-sm text-yellow-800",children:"This will put the printer in maintenance mode and pause any current jobs."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"maintenanceType",children:"Maintenance Type *"}),o.jsxs(Ye,{value:s,onValueChange:i,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select maintenance type"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"routine",children:"Routine Cleaning"}),o.jsx(fe,{value:"nozzle",children:"Nozzle Replacement"}),o.jsx(fe,{value:"bed-leveling",children:"Bed Leveling"}),o.jsx(fe,{value:"calibration",children:"Calibration"}),o.jsx(fe,{value:"firmware",children:"Firmware Update"}),o.jsx(fe,{value:"repair",children:"Repair"}),o.jsx(fe,{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"notes",children:"Notes"}),o.jsx(Qc,{id:"notes",value:a,onChange:d=>l(d.target.value),placeholder:"Add any additional notes about this maintenance...",rows:4})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(L,{variant:"outline",onClick:n,children:"Cancel"}),o.jsx(L,{onClick:c,children:"Start Maintenance"})]})]})]})})},TE=["Galaxy Black|#1a1a1a","Signal White|#ffffff","Transparent Blue|#3b82f6","Red|#ef4444","Green|#22c55e","Yellow|#eab308","Orange|#f97316","Purple|#a855f7"],Y8=e=>{switch(e){case"printing":return o.jsx(re,{className:"bg-blue-600 text-white hover:bg-blue-700",children:"Printing"});case"idle":return o.jsx(re,{className:"bg-green-600 text-white hover:bg-green-700",children:"Idle"});case"maintenance":case"offline":return o.jsx(re,{variant:"destructive",children:e.charAt(0).toUpperCase()+e.slice(1)});default:return o.jsx(re,{children:e})}},ub=({printer:e,liveData:t,onViewDetails:n,onStartMaintenance:r,onUpdatePrinter:s,isDragging:i=!1})=>{const{attributes:a,listeners:l,setNodeRef:c,transform:d,transition:u}=mE({id:e.id}),f={transform:cs.Transform.toString(d),transition:u,zIndex:i?1e3:"auto"},m=(t==null?void 0:t.is_connected)??e.connected??!1,p=m?"connected":"offline",y=t?t.status:e.status==="offline"?"idle":e.status,g=()=>{switch(p){case"connected":return"bg-green-500";case"offline":return"bg-red-500";default:return"bg-muted"}},x=(()=>{if(t!=null&&t.temperatures)return{hotend:Math.round(t.temperatures.nozzle.current),bed:Math.round(t.temperatures.bed.current)};if(!m)return{hotend:0,bed:0};switch(y){case"printing":return{hotend:215,bed:60};case"idle":return{hotend:25,bed:25};case"maintenance":return{hotend:180,bed:0};default:return{hotend:25,bed:25}}})(),w=h.useMemo(()=>e.currentColorHex&&e.currentColor?`${e.currentColor}|${e.currentColorHex}`:TE[0],[e.currentColor,e.currentColorHex,e.id]),j=t!=null&&t.progress&&y==="printing"?t.progress.percentage:0,_=()=>{if(!m)return"Offline";switch(y){case"printing":return t!=null&&t.progress?`${j}% complete`:"Printing...";case"failed":return"Failed";case"cancelled":case"canceled":return"Canceled";case"idle":return"Ready";case"maintenance":return"Maintenance";default:return"Ready"}};return o.jsxs(se,{ref:c,style:f,className:`flex flex-col overflow-hidden ${i?"opacity-30":""} relative bg-gradient-to-br from-card to-card/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300`,children:[o.jsxs("div",{className:"h-12 flex items-center justify-between px-4",style:{backgroundColor:"#192A52"},children:[o.jsx("div",{className:"cursor-grab active:cursor-grabbing flex-shrink-0 touch-none p-1 -ml-1 rounded hover:bg-white/10 transition-colors",...a,...l,children:o.jsx(Iv,{className:"h-4 w-4 text-white"})}),o.jsx("h3",{className:"font-semibold text-white text-center flex-1 truncate px-4 cursor-pointer hover:text-white/80 transition-colors",onClick:()=>n(e),children:e.name}),o.jsxs(ur,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-white/20 text-white",children:o.jsx(PN,{className:"h-4 w-4"})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsx(Ge,{onClick:()=>n(e),children:"View Details"}),o.jsx(Ge,{onClick:()=>r(e),children:"Start Maintenance"})]})]})]}),o.jsxs("div",{className:"flex-1 p-4 space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${g()}`}),o.jsx("span",{className:"text-sm font-medium capitalize",children:p==="connected"?"Connected":"Offline"})]}),y==="printing"&&o.jsx("div",{className:"text-right space-y-1",children:o.jsx("div",{className:"text-xs text-muted-foreground",children:"31/74 layers"})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Ba,{value:y==="printing"?j:0,className:"h-2"}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:_()}),y==="printing"&&o.jsx("span",{children:"1hr 35m left"})]})]})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Hotend:"}),o.jsxs("span",{className:"font-medium",children:[x.hotend,"C"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Bed:"}),o.jsxs("span",{className:"font-medium",children:[x.bed,"C"]})]})]})}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:w,size:"sm"}),o.jsx("span",{className:"text-sm font-medium",children:w.split("|")[0]}),o.jsx("span",{className:"text-sm text-muted-foreground",children:e.currentFilamentType||"PLA"}),o.jsx(Hx,{printer:e,onUpdatePrinter:s})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"362g left"})]})]})]})},Q8=({printer:e,liveData:t,onViewDetails:n,onStartMaintenance:r,onUpdatePrinter:s})=>{const{attributes:i,listeners:a,setNodeRef:l,transform:c,transition:d}=mE({id:e.id}),u={transform:cs.Transform.toString(c),transition:d},m=(t==null?void 0:t.is_connected)??e.connected??!1?"connected":"offline";t?t.status:e.status==="offline"||e.status;const p=h.useMemo(()=>e.currentColorHex&&e.currentColor?`${e.currentColor}|${e.currentColorHex}`:TE[0],[e.currentColor,e.currentColorHex,e.id]);return o.jsxs(gr,{ref:l,style:u,children:[o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"cursor-grab active:cursor-grabbing",...i,...a,children:o.jsx(Iv,{className:"h-4 w-4 text-gray-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:e.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:e.model})]})]})}),o.jsx(Pe,{children:Y8(m==="connected"?"Connected":"Offline")}),o.jsx(Pe,{className:"truncate max-w-32",children:"N/A"}),o.jsx(Pe,{children:"N/A"}),o.jsx(Pe,{children:e.currentColor&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:p,size:"sm"}),o.jsx("span",{className:"truncate",children:p.split("|")[0]}),o.jsx("span",{className:"text-sm text-muted-foreground",children:e.currentFilamentType||"PLA"}),o.jsx(Hx,{printer:e,onUpdatePrinter:s})]})}),o.jsx(Pe,{children:o.jsxs(ur,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{"aria-haspopup":"true",size:"sm",variant:"outline",children:o.jsx(Vo,{className:"h-4 w-4"})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsx(Ge,{onClick:()=>n(e),children:"View Details"}),o.jsx(Ge,{onClick:()=>r(e),children:"Start Maintenance"})]})]})})]})},J8=()=>{const{printers:e,loading:t,addPrinter:n,updatePrinter:r,updatePrintersOrder:s}=Vx(),{data:i,isConnected:a,isReconnecting:l}=Nx(),[c,d]=h.useState(!1),[u,f]=h.useState("grid"),[m,p]=h.useState(null),[y,g]=h.useState(!1),[v,x]=h.useState(!1),[w,b]=h.useState(null),[j,_]=h.useState("all"),[C,N]=h.useState({name:"",manufacturer:"",model:"",serialNumber:"",ipAddress:"",accessCode:""}),{toast:k}=ke(),E=Y6(Kw($x,{activationConstraint:{distance:8}}),Kw(Fx,{coordinateGetter:k8})),R=S=>{b(S.active.id)},M=async S=>{const{active:T,over:z}=S;if(b(null),T.id!==(z==null?void 0:z.id)){const B=e.findIndex(J=>J.id===T.id),H=e.findIndex(J=>J.id===z.id),V=zx(e,B,H);try{await s(V),k({title:"Printer Order Updated",description:"The printer order has been saved."})}catch{}}},O=async()=>{if(!C.name||!C.manufacturer||!C.model){k({title:"Error",description:"Please fill in the required fields.",variant:"destructive"});return}try{await n({...C,status:"offline"}),N({name:"",manufacturer:"",model:"",serialNumber:"",ipAddress:"",accessCode:""}),d(!1)}catch{}},A=S=>{p(S),g(!0)},I=S=>{p(S),x(!0)},W=e.find(S=>S.id===w),U=S=>S?i==null?void 0:i.find(T=>T.printer_id===S.toString()):void 0,D=j==="all"?e:e.filter(S=>{const T=U(S.printerId),z=(T==null?void 0:T.is_connected)??S.connected??!1,B=T?T.status:S.status==="offline"?"idle":S.status;switch(j){case"printing":return B==="printing";case"idle":return z&&(B==="idle"||B==="ready");case"failed":return B==="failed"||B==="cancelled"||B==="canceled"||!z;case"needs-attention":return B==="maintenance";default:return!0}});return t?o.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading printers..."}):o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Printer Fleet"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your connected 3D printers."})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(jc,{type:"single",value:u,onValueChange:S=>S&&f(S),children:[o.jsx(xn,{value:"grid","aria-label":"Grid view",children:o.jsx(CN,{className:"h-4 w-4"})}),o.jsx(xn,{value:"list","aria-label":"List view",children:o.jsx(Lf,{className:"h-4 w-4"})})]}),o.jsxs(zt,{open:c,onOpenChange:d,children:[o.jsx(ek,{asChild:!0,children:o.jsxs(L,{children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Printer"]})}),o.jsxs(Et,{className:"sm:max-w-[425px]",children:[o.jsxs(Pt,{children:[o.jsx(Tt,{children:"Add New Printer"}),o.jsx(Qo,{children:"Add a new 3D printer to your fleet."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"name",className:"text-right",children:"Name *"}),o.jsx(le,{id:"name",value:C.name,onChange:S=>N({...C,name:S.target.value}),className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"manufacturer",className:"text-right",children:"Manufacturer *"}),o.jsxs(Ye,{value:C.manufacturer,onValueChange:S=>N({...C,manufacturer:S}),children:[o.jsx(He,{className:"col-span-3",children:o.jsx(Qe,{placeholder:"Select manufacturer"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"Bambu Labs",children:"Bambu Labs"}),o.jsx(fe,{value:"Other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"model",className:"text-right",children:"Model *"}),o.jsxs(Ye,{value:C.model,onValueChange:S=>N({...C,model:S}),children:[o.jsx(He,{className:"col-span-3",children:o.jsx(Qe,{placeholder:"Select model"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"A1 Mini",children:"A1 Mini"}),o.jsx(fe,{value:"A1",children:"A1"}),o.jsx(fe,{value:"P1P",children:"P1P"}),o.jsx(fe,{value:"P1S",children:"P1S"}),o.jsx(fe,{value:"X1C",children:"X1C"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"serial_number",className:"text-right",children:"Serial Number"}),o.jsx(le,{id:"serial_number",value:C.serialNumber,onChange:S=>N({...C,serialNumber:S.target.value}),className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"ip_address",className:"text-right",children:"IP Address"}),o.jsx(le,{id:"ip_address",value:C.ipAddress,onChange:S=>N({...C,ipAddress:S.target.value}),className:"col-span-3",placeholder:"192.168.1.100"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"access_code",className:"text-right",children:"Access Code"}),o.jsx(le,{id:"access_code",value:C.accessCode,onChange:S=>N({...C,accessCode:S.target.value}),className:"col-span-3"})]})]}),o.jsx(hr,{children:o.jsx(L,{type:"submit",onClick:O,children:"Add Printer"})})]})]})]})]}),o.jsx("div",{className:"mb-4",children:o.jsxs(jc,{type:"single",value:j,onValueChange:S=>S&&_(S),className:"justify-start",children:[o.jsx(xn,{value:"all","aria-label":"All Printers",className:"data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:"All Printers"}),o.jsx(xn,{value:"printing","aria-label":"Printing",className:"data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:"Printing"}),o.jsx(xn,{value:"idle","aria-label":"Idle",className:"data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:"Idle"}),o.jsx(xn,{value:"failed","aria-label":"Failed",className:"data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:"Failed"}),o.jsx(xn,{value:"needs-attention","aria-label":"Needs Attention",className:"data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:"Needs Attention"})]})}),D.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx("div",{className:"mx-auto w-24 h-24 bg-muted rounded-full flex items-center justify-center mb-4",children:o.jsx(at,{className:"h-12 w-12 text-muted-foreground"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No printers found"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm",children:j==="all"?"You haven't added any printers to your fleet yet. Add your first printer to get started.":`No printers match the "${j}" filter. Try selecting a different filter or add a new printer.`}),j==="all"||e.length===0?o.jsxs(L,{onClick:()=>d(!0),children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Your First Printer"]}):o.jsx(L,{onClick:()=>_("all"),children:"See All Printers"})]}):o.jsxs(KU,{sensors:E,collisionDetection:X6,onDragStart:R,onDragEnd:M,children:[o.jsx(x8,{items:D,strategy:g8,children:u==="grid"?o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:D.map(S=>o.jsx(ub,{printer:S,liveData:U(S.printerId),onViewDetails:A,onStartMaintenance:I,onUpdatePrinter:r},S.id))}):o.jsx("div",{className:"rounded-md border",children:o.jsxs(Ka,{children:[o.jsx(Ga,{children:o.jsxs(gr,{children:[o.jsx(Re,{children:"Printer"}),o.jsx(Re,{children:"Status"}),o.jsx(Re,{children:"Current Job"}),o.jsx(Re,{children:"Time Left"}),o.jsx(Re,{children:"Material"}),o.jsx(Re,{children:"Actions"})]})}),o.jsx(Ya,{children:D.map(S=>o.jsx(Q8,{printer:S,liveData:U(S.printerId),onViewDetails:A,onStartMaintenance:I,onUpdatePrinter:r},S.id))})]})})}),o.jsx(f8,{children:w&&W?u==="grid"?o.jsx(ub,{printer:W,onViewDetails:A,onStartMaintenance:I,isDragging:!1}):o.jsx("div",{className:"bg-background border rounded-md p-4 shadow-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Iv,{className:"h-4 w-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:W.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:W.model})]})]})}):null})]}),o.jsx(K8,{printer:m?e.find(S=>S.id===m.id)||m:null,isOpen:y,onClose:()=>g(!1)}),o.jsx(G8,{printer:m,isOpen:v,onClose:()=>x(!1)})]})};var qx="Tabs",[X8,PH]=Hn(qx,[za]),RE=za(),[Z8,Kx]=X8(qx),ME=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Ua(l),[f,m]=zn({prop:r,onChange:s,defaultProp:i});return o.jsx(Z8,{scope:n,baseId:ir(),value:f,onValueChange:m,orientation:a,dir:u,activationMode:c,children:o.jsx(ae.div,{dir:u,"data-orientation":a,...d,ref:t})})});ME.displayName=qx;var AE="TabsList",OE=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Kx(AE,n),a=RE(n);return o.jsx(dx,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(ae.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});OE.displayName=AE;var IE="TabsTrigger",DE=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=Kx(IE,n),l=RE(n),c=$E(a.baseId,r),d=UE(a.baseId,r),u=r===a.value;return o.jsx(ux,{asChild:!0,...l,focusable:!s,active:u,children:o.jsx(ae.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:K(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:K(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:K(e.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!s&&f&&a.onValueChange(r)})})})});DE.displayName=IE;var FE="TabsContent",LE=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,l=Kx(FE,n),c=$E(l.baseId,r),d=UE(l.baseId,r),u=r===l.value,f=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Rt,{present:s||u,children:({present:m})=>o.jsx(ae.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});LE.displayName=FE;function $E(e,t){return`${e}-trigger-${t}`}function UE(e,t){return`${e}-content-${t}`}var ez=ME,zE=OE,BE=DE,WE=LE;const Ja=ez,ai=h.forwardRef(({className:e,...t},n)=>o.jsx(zE,{ref:n,className:Y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ai.displayName=zE.displayName;const mt=h.forwardRef(({className:e,...t},n)=>o.jsx(BE,{ref:n,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mt.displayName=BE.displayName;const $t=h.forwardRef(({className:e,...t},n)=>o.jsx(WE,{ref:n,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));$t.displayName=WE.displayName;const tz=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),{tenant:s}=Vn(),{toast:i}=ke(),a=async()=>{try{r(!0);const{data:y,error:g}=await G.from("worklist_tasks").select("*").eq("tenant_id",(s==null?void 0:s.id)||"550e8400-e29b-41d4-a716-446655440000").order("created_at",{ascending:!1});if(g)throw g;t(y||[])}catch(y){console.error("Error fetching worklist tasks:",y),i({title:"Error",description:"Failed to load worklist tasks",variant:"destructive"})}finally{r(!1)}},l=async(y,g)=>{try{const v={status:g};if(g==="in_progress")v.started_at=new Date().toISOString(),v.completed_at=null,v.actual_time_minutes=null;else if(g==="completed"){v.completed_at=new Date().toISOString();const w=e.find(b=>b.id===y);if(w!=null&&w.started_at){const b=new Date(w.started_at),j=new Date;v.actual_time_minutes=Math.floor((j.getTime()-b.getTime())/(1e3*60))}}else g==="cancelled"&&(v.completed_at=null,v.actual_time_minutes=null);const{error:x}=await G.from("worklist_tasks").update(v).eq("id",y);if(x)throw x;i({title:"Success",description:`Task ${g==="cancelled"?"cancelled":`marked as ${g.replace("_"," ")}`}`}),await a()}catch(v){console.error("Error updating task status:",v),i({title:"Error",description:"Failed to update task status",variant:"destructive"})}},c=async y=>{await l(y,"cancelled")},d=async y=>{await l(y,"in_progress")},u=async y=>{await l(y,"completed")},f=async y=>{try{const{error:g}=await G.from("worklist_tasks").insert({...y,tenant_id:(s==null?void 0:s.id)||"550e8400-e29b-41d4-a716-446655440000",task_type:y.task_type||"collection",title:y.title||"New Task"});if(g)throw g;i({title:"Success",description:"Task created successfully"}),await a()}catch(g){console.error("Error creating task:",g),i({title:"Error",description:"Failed to create task",variant:"destructive"})}},m=async(y,g)=>{try{const{error:v}=await G.from("worklist_tasks").update({assigned_to:g}).eq("id",y);if(v)throw v;i({title:"Success",description:"Task assigned successfully"}),await a()}catch(v){console.error("Error assigning task:",v),i({title:"Error",description:"Failed to assign task",variant:"destructive"})}},p=y=>{const g=new Date(y);return Math.floor((new Date().getTime()-g.getTime())/(1e3*60))};return h.useEffect(()=>{a()},[]),h.useEffect(()=>{const y=G.channel("worklist-tasks-changes").on("postgres_changes",{event:"*",schema:"public",table:"worklist_tasks"},()=>{a()}).subscribe();return()=>{G.removeChannel(y)}},[]),{tasks:e,loading:n,updateTaskStatus:l,cancelTask:c,startTask:d,completeTask:u,createTask:f,assignTask:m,getElapsedTime:p,refetch:a}},Gx=6048e5,nz=864e5,HE=6e4,VE=36e5,fb=Symbol.for("constructDateFrom");function gt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&fb in e?e[fb](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ee(e,t){return gt(t||e,e)}function Gt(e,t,n){const r=Ee(e,n==null?void 0:n.in);return isNaN(t)?gt((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function vr(e,t,n){const r=Ee(e,n==null?void 0:n.in);if(isNaN(t))return gt((n==null?void 0:n.in)||e,NaN);if(!t)return r;const s=r.getDate(),i=gt((n==null?void 0:n.in)||e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return s>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let rz={};function Jc(){return rz}function Lr(e,t){var l,c,d,u;const n=Jc(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Ee(e,t==null?void 0:t.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Xo(e,t){return Lr(e,{...t,weekStartsOn:1})}function qE(e,t){const n=Ee(e,t==null?void 0:t.in),r=n.getFullYear(),s=gt(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Xo(s),a=gt(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Xo(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function cf(e){const t=Ee(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Xa(e,...t){const n=gt.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function ja(e,t){const n=Ee(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Mr(e,t,n){const[r,s]=Xa(n==null?void 0:n.in,e,t),i=ja(r),a=ja(s),l=+i-cf(i),c=+a-cf(a);return Math.round((l-c)/nz)}function sz(e,t){const n=qE(e,t),r=gt(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Xo(r)}function Eg(e,t,n){return Gt(e,t*7,n)}function oz(e,t,n){return vr(e,t*12,n)}function iz(e,t){let n,r=t==null?void 0:t.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=gt.bind(null,s));const i=Ee(s,r);(!n||n<i||isNaN(+i))&&(n=i)}),gt(r,n||NaN)}function az(e,t){let n,r=t==null?void 0:t.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=gt.bind(null,s));const i=Ee(s,r);(!n||n>i||isNaN(+i))&&(n=i)}),gt(r,n||NaN)}function an(e,t,n){const[r,s]=Xa(n==null?void 0:n.in,e,t);return+ja(r)==+ja(s)}function Yx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function lz(e){return!(!Yx(e)&&typeof e!="number"||isNaN(+Ee(e)))}function Nc(e,t,n){const[r,s]=Xa(n==null?void 0:n.in,e,t),i=r.getFullYear()-s.getFullYear(),a=r.getMonth()-s.getMonth();return i*12+a}function cz(e,t,n){const[r,s]=Xa(n==null?void 0:n.in,e,t),i=Lr(r,n),a=Lr(s,n),l=+i-cf(i),c=+a-cf(a);return Math.round((l-c)/Gx)}function Qx(e,t){const n=Ee(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function un(e,t){const n=Ee(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function KE(e,t){const n=Ee(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Jx(e,t){var l,c,d,u;const n=Jc(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Ee(e,t==null?void 0:t.in),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function GE(e,t){return Jx(e,{...t,weekStartsOn:1})}const dz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uz=(e,t,n)=>{let r;const s=dz[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Pm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const fz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pz={date:Pm({formats:fz,defaultWidth:"full"}),time:Pm({formats:hz,defaultWidth:"full"}),dateTime:Pm({formats:mz,defaultWidth:"full"})},gz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vz=(e,t,n,r)=>gz[e];function vl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const xz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_z=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Sz={ordinalNumber:_z,era:vl({values:xz,defaultWidth:"wide"}),quarter:vl({values:yz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vl({values:wz,defaultWidth:"wide"}),day:vl({values:bz,defaultWidth:"wide"}),dayPeriod:vl({values:jz,defaultWidth:"wide",formattingValues:Nz,defaultFormattingWidth:"wide"})};function xl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?kz(l,f=>f.test(a)):Cz(l,f=>f.test(a));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(a.length);return{value:d,rest:u}}}function Cz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function kz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Ez(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const Pz=/^(\d+)(th|st|nd|rd)?/i,Tz=/\d+/i,Rz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mz={any:[/^b/i,/^(a|c)/i]},Az={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Oz={any:[/1/i,/2/i,/3/i,/4/i]},Iz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Lz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$z={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zz={ordinalNumber:Ez({matchPattern:Pz,parsePattern:Tz,valueCallback:e=>parseInt(e,10)}),era:xl({matchPatterns:Rz,defaultMatchWidth:"wide",parsePatterns:Mz,defaultParseWidth:"any"}),quarter:xl({matchPatterns:Az,defaultMatchWidth:"wide",parsePatterns:Oz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xl({matchPatterns:Iz,defaultMatchWidth:"wide",parsePatterns:Dz,defaultParseWidth:"any"}),day:xl({matchPatterns:Fz,defaultMatchWidth:"wide",parsePatterns:Lz,defaultParseWidth:"any"}),dayPeriod:xl({matchPatterns:$z,defaultMatchWidth:"any",parsePatterns:Uz,defaultParseWidth:"any"})},YE={code:"en-US",formatDistance:uz,formatLong:pz,formatRelative:vz,localize:Sz,match:zz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bz(e,t){const n=Ee(e,t==null?void 0:t.in);return Mr(n,KE(n))+1}function QE(e,t){const n=Ee(e,t==null?void 0:t.in),r=+Xo(n)-+sz(n);return Math.round(r/Gx)+1}function JE(e,t){var u,f,m,p;const n=Ee(e,t==null?void 0:t.in),r=n.getFullYear(),s=Jc(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=gt((t==null?void 0:t.in)||e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Lr(a,t),c=gt((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=Lr(c,t);return+n>=+l?r+1:+n>=+d?r:r-1}function Wz(e,t){var l,c,d,u;const n=Jc(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=JE(e,t),i=gt((t==null?void 0:t.in)||e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Lr(i,t)}function XE(e,t){const n=Ee(e,t==null?void 0:t.in),r=+Lr(n,t)-+Wz(n,t);return Math.round(r/Gx)+1}function Ae(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ws={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ae(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ae(n+1,2)},d(e,t){return Ae(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ae(e.getHours()%12||12,t.length)},H(e,t){return Ae(e.getHours(),t.length)},m(e,t){return Ae(e.getMinutes(),t.length)},s(e,t){return Ae(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ae(s,t.length)}},ji={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ws.y(e,t)},Y:function(e,t,n,r){const s=JE(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Ae(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ae(i,t.length)},R:function(e,t){const n=qE(e);return Ae(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ae(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ae(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ae(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ws.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ae(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=XE(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ae(s,t.length)},I:function(e,t,n){const r=QE(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ae(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ws.d(e,t)},D:function(e,t,n){const r=Bz(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ae(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ae(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ae(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ae(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=ji.noon:r===0?s=ji.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=ji.evening:r>=12?s=ji.afternoon:r>=4?s=ji.morning:s=ji.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ws.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ws.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ae(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ae(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ws.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ws.s(e,t)},S:function(e,t){return ws.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return pb(r);case"XXXX":case"XX":return _o(r);case"XXXXX":case"XXX":default:return _o(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return pb(r);case"xxxx":case"xx":return _o(r);case"xxxxx":case"xxx":default:return _o(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mb(r,":");case"OOOO":default:return"GMT"+_o(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mb(r,":");case"zzzz":default:return"GMT"+_o(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Ae(r,t.length)},T:function(e,t,n){return Ae(+e,t.length)}};function mb(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+Ae(i,2)}function pb(e,t){return e%60===0?(e>0?"-":"+")+Ae(Math.abs(e)/60,2):_o(e,t)}function _o(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ae(Math.trunc(r/60),2),i=Ae(r%60,2);return n+s+t+i}const gb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ZE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Hz=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return gb(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",gb(r,t)).replace("{{time}}",ZE(s,t))},Vz={p:ZE,P:Hz},qz=/^D+$/,Kz=/^Y+$/,Gz=["D","DD","YY","YYYY"];function Yz(e){return qz.test(e)}function Qz(e){return Kz.test(e)}function Jz(e,t,n){const r=Xz(e,t,n);if(console.warn(r),Gz.includes(e))throw new RangeError(r)}function Xz(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Zz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tB=/^'([^]*?)'?$/,nB=/''/g,rB=/[a-zA-Z]/;function Wn(e,t,n){var u,f,m,p,y,g,v,x;const r=Jc(),s=(n==null?void 0:n.locale)??r.locale??YE,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((g=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((x=(v=r.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=Ee(e,n==null?void 0:n.in);if(!lz(l))throw new RangeError("Invalid time value");let c=t.match(eB).map(w=>{const b=w[0];if(b==="p"||b==="P"){const j=Vz[b];return j(w,s.formatLong)}return w}).join("").match(Zz).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:sB(w)};if(hb[b])return{isToken:!0,value:w};if(b.match(rB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Qz(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Yz(b))&&Jz(b,t,String(e));const j=hb[b[0]];return j(l,b,s.localize,d)}).join("")}function sB(e){const t=e.match(tB);return t?t[1].replace(nB,"'"):e}function oB(e,t){const n=Ee(e,t==null?void 0:t.in),r=n.getFullYear(),s=n.getMonth(),i=gt(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function iB(e){return Math.trunc(+Ee(e)/1e3)}function aB(e,t){const n=Ee(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(0,0,0,0),Ee(n,t==null?void 0:t.in)}function lB(e,t){const n=Ee(e,t==null?void 0:t.in);return cz(aB(n,t),un(n,t),t)+1}function Pg(e,t){return+Ee(e)>+Ee(t)}function e2(e,t){return+Ee(e)<+Ee(t)}function Xx(e,t,n){const[r,s]=Xa(n==null?void 0:n.in,e,t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function cB(e,t,n){const[r,s]=Xa(n==null?void 0:n.in,e,t);return r.getFullYear()===s.getFullYear()}function Ki(e,t,n){const r=+Ee(e,n==null?void 0:n.in),[s,i]=[+Ee(t.start,n==null?void 0:n.in),+Ee(t.end,n==null?void 0:n.in)].sort((a,l)=>a-l);return r>=s&&r<=i}function $o(e,t,n){return Gt(e,-t,n)}function Gi(e,t){const n=()=>gt(t==null?void 0:t.in,NaN),s=hB(e);let i;if(s.date){const d=mB(s.date,2);i=pB(d.restDateString,d.year)}if(!i||isNaN(+i))return n();const a=+i;let l=0,c;if(s.time&&(l=gB(s.time),isNaN(l)))return n();if(s.timezone){if(c=vB(s.timezone),isNaN(c))return n()}else{const d=new Date(a+l),u=Ee(0,t==null?void 0:t.in);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return Ee(a+l+c,t==null?void 0:t.in)}const $d={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fB=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hB(e){const t={},n=e.split($d.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],$d.timeZoneDelimiter.test(t.date)&&(t.date=e.split($d.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=$d.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function mB(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function pB(e,t){if(t===null)return new Date(NaN);const n=e.match(dB);if(!n)return new Date(NaN);const r=!!n[4],s=yl(n[1]),i=yl(n[2])-1,a=yl(n[3]),l=yl(n[4]),c=yl(n[5])-1;if(r)return jB(t,l,c)?xB(t,l,c):new Date(NaN);{const d=new Date(0);return!wB(t,i,a)||!bB(t,s)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(s,a)),d)}}function yl(e){return e?parseInt(e):1}function gB(e){const t=e.match(uB);if(!t)return NaN;const n=Tm(t[1]),r=Tm(t[2]),s=Tm(t[3]);return NB(n,r,s)?n*VE+r*HE+s*1e3:NaN}function Tm(e){return e&&parseFloat(e.replace(",","."))||0}function vB(e){if(e==="Z")return 0;const t=e.match(fB);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return _B(r,s)?n*(r*VE+s*HE):NaN}function xB(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const yB=[31,null,31,30,31,30,31,31,30,31,30,31];function t2(e){return e%400===0||e%4===0&&e%100!==0}function wB(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(yB[t]||(t2(e)?29:28))}function bB(e,t){return t>=1&&t<=(t2(e)?366:365)}function jB(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function NB(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function _B(e,t){return t>=0&&t<=59}function Rm(e,t,n){const r=Ee(e,n==null?void 0:n.in),s=r.getFullYear(),i=r.getDate(),a=gt(e,0);a.setFullYear(s,t,15),a.setHours(0,0,0,0);const l=oB(a);return r.setMonth(t,Math.min(i,l)),r}function vb(e,t,n){const r=Ee(e,n==null?void 0:n.in);return isNaN(+r)?gt(e,NaN):(r.setFullYear(t),r)}var he=function(){return he=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},he.apply(this,arguments)};function SB(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function n2(e,t,n){for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Xc(e){return e.mode==="multiple"}function Zc(e){return e.mode==="range"}function vh(e){return e.mode==="single"}var CB={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function kB(e,t){return Wn(e,"LLLL y",t)}function EB(e,t){return Wn(e,"d",t)}function PB(e,t){return Wn(e,"LLLL",t)}function TB(e){return"".concat(e)}function RB(e,t){return Wn(e,"cccccc",t)}function MB(e,t){return Wn(e,"yyyy",t)}var AB=Object.freeze({__proto__:null,formatCaption:kB,formatDay:EB,formatMonthCaption:PB,formatWeekNumber:TB,formatWeekdayName:RB,formatYearCaption:MB}),OB=function(e,t,n){return Wn(e,"do MMMM (EEEE)",n)},IB=function(){return"Month: "},DB=function(){return"Go to next month"},FB=function(){return"Go to previous month"},LB=function(e,t){return Wn(e,"cccc",t)},$B=function(e){return"Week n. ".concat(e)},UB=function(){return"Year: "},zB=Object.freeze({__proto__:null,labelDay:OB,labelMonthDropdown:IB,labelNext:DB,labelPrevious:FB,labelWeekNumber:$B,labelWeekday:LB,labelYearDropdown:UB});function BB(){var e="buttons",t=CB,n=YE,r={},s={},i=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:AB,labels:zB,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:a,today:l,mode:"default"}}function WB(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,i=e.fromDate,a=e.toDate;return r?i=un(r):t&&(i=new Date(t,0,1)),s?a=Qx(s):n&&(a=new Date(n,11,31)),{fromDate:i?ja(i):void 0,toDate:a?ja(a):void 0}}var r2=h.createContext(void 0);function HB(e){var t,n=e.initialProps,r=BB(),s=WB(n),i=s.fromDate,a=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(vh(n)||Xc(n)||Zc(n))&&(c=n.onSelect);var d=he(he(he({},r),n),{captionLayout:l,classNames:he(he({},r.classNames),n.classNames),components:he({},n.components),formatters:he(he({},r.formatters),n.formatters),fromDate:i,labels:he(he({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:he(he({},r.modifiers),n.modifiers),modifiersClassNames:he(he({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:he(he({},r.styles),n.styles),toDate:a});return o.jsx(r2.Provider,{value:d,children:e.children})}function Ue(){var e=h.useContext(r2);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function s2(e){var t=Ue(),n=t.locale,r=t.classNames,s=t.styles,i=t.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function VB(e){return o.jsx("svg",he({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function o2(e){var t,n,r=e.onChange,s=e.value,i=e.children,a=e.caption,l=e.className,c=e.style,d=Ue(),u=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:VB;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:r,children:i}),o.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function qB(e){var t,n=Ue(),r=n.fromDate,s=n.toDate,i=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var f=[];if(cB(r,s))for(var m=un(r),p=r.getMonth();p<=s.getMonth();p++)f.push(Rm(m,p));else for(var m=un(new Date),p=0;p<=11;p++)f.push(Rm(m,p));var y=function(v){var x=Number(v.target.value),w=Rm(un(e.displayMonth),x);e.onChange(w)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:o2;return o.jsx(g,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:a})},v.getMonth())})})}function KB(e){var t,n=e.displayMonth,r=Ue(),s=r.fromDate,i=r.toDate,a=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var p=s.getFullYear(),y=i.getFullYear(),g=p;g<=y;g++)m.push(vb(KE(new Date),g));var v=function(w){var b=vb(un(n),Number(w.target.value));e.onChange(b)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:o2;return o.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:n.getFullYear(),caption:u(n,{locale:a}),children:m.map(function(w){return o.jsx("option",{value:w.getFullYear(),children:u(w,{locale:a})},w.getFullYear())})})}function GB(e,t){var n=h.useState(e),r=n[0],s=n[1],i=t===void 0?r:t;return[i,s]}function YB(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,i=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Nc(i,s)<0){var d=-1*(c-1);s=vr(i,d)}return a&&Nc(s,a)<0&&(s=a),un(s)}function QB(){var e=Ue(),t=YB(e),n=GB(t,e.month),r=n[0],s=n[1],i=function(a){var l;if(!e.disableNavigation){var c=un(a);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function JB(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=un(e),i=un(vr(s,r)),a=Nc(i,s),l=[],c=0;c<a;c++){var d=vr(s,c);l.push(d)}return n&&(l=l.reverse()),l}function XB(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=un(e);if(!n)return vr(l,a);var c=Nc(n,e);if(!(c<i))return vr(l,a)}}function ZB(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=un(e);if(!n)return vr(l,-a);var c=Nc(l,n);if(!(c<=0))return vr(l,-a)}}var i2=h.createContext(void 0);function e9(e){var t=Ue(),n=QB(),r=n[0],s=n[1],i=JB(r,t),a=XB(r,t),l=ZB(r,t),c=function(f){return i.some(function(m){return Xx(f,m)})},d=function(f,m){c(f)||(m&&e2(f,m)?s(vr(f,1+t.numberOfMonths*-1)):s(f))},u={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:d,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(i2.Provider,{value:u,children:e.children})}function ed(){var e=h.useContext(i2);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function xb(e){var t,n=Ue(),r=n.classNames,s=n.styles,i=n.components,a=ed().goToMonth,l=function(u){a(vr(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:s2,d=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:d}),o.jsx(qB,{onChange:l,displayMonth:e.displayMonth}),o.jsx(KB,{onChange:l,displayMonth:e.displayMonth})]})}function t9(e){return o.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function n9(e){return o.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var df=h.forwardRef(function(e,t){var n=Ue(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var a=i.join(" "),l=he(he({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),o.jsx("button",he({},e,{ref:t,type:"button",className:a,style:l}))});function r9(e){var t,n,r=Ue(),s=r.dir,i=r.locale,a=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var m=d(e.previousMonth,{locale:i}),p=[a.nav_button,a.nav_button_previous].join(" "),y=u(e.nextMonth,{locale:i}),g=[a.nav_button,a.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:n9,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:t9;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(df,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?o.jsx(v,{className:a.nav_icon,style:l.nav_icon}):o.jsx(x,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(df,{name:"next-month","aria-label":y,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?o.jsx(x,{className:a.nav_icon,style:l.nav_icon}):o.jsx(v,{className:a.nav_icon,style:l.nav_icon})})]})}function yb(e){var t=Ue().numberOfMonths,n=ed(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(y){return Xx(e.displayMonth,y)}),c=l===0,d=l===a.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),m=function(){r&&i(r)},p=function(){s&&i(s)};return o.jsx(r9,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:p})}function s9(e){var t,n=Ue(),r=n.classNames,s=n.disableNavigation,i=n.styles,a=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:s2,d;return s?d=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?d=o.jsx(xb,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?d=o.jsxs(o.Fragment,{children:[o.jsx(xb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(yb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(yb,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:r.caption,style:i.caption,children:d})}function o9(e){var t=Ue(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?o.jsx("tfoot",{className:s,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function i9(e,t,n){for(var r=n?Xo(new Date):Lr(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var a=Gt(r,i);s.push(a)}return s}function a9(){var e=Ue(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=i9(s,i,a);return o.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(u,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(u,{locale:s}),children:l(u,{locale:s})},f)})]})}function l9(){var e,t=Ue(),n=t.classNames,r=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:a9;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(i,{})})}function c9(e){var t=Ue(),n=t.locale,r=t.formatters.formatDay;return o.jsx(o.Fragment,{children:r(e.date,{locale:n})})}var Zx=h.createContext(void 0);function d9(e){if(!Xc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(Zx.Provider,{value:t,children:e.children})}return o.jsx(u9,{initialProps:e.initialProps,children:e.children})}function u9(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,i=t.max,a=function(d,u,f){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,f);var y=!!(u.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var g=!!(!u.selected&&i&&(r==null?void 0:r.length)===i);if(!g){var v=r?n2([],r):[];if(u.selected){var x=v.findIndex(function(w){return an(d,w)});v.splice(x,1)}else v.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,v,d,u,f)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=i&&r.length>i-1,f=r.some(function(m){return an(m,d)});return!!(u&&!f)});var c={selected:r,onDayClick:a,modifiers:l};return o.jsx(Zx.Provider,{value:c,children:n})}function ey(){var e=h.useContext(Zx);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function f9(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?an(s,e)&&an(r,e)?void 0:an(s,e)?{from:s,to:void 0}:an(r,e)?void 0:Pg(r,e)?{from:e,to:s}:{from:r,to:e}:s?Pg(e,s)?{from:s,to:e}:{from:e,to:s}:r?e2(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var ty=h.createContext(void 0);function h9(e){if(!Zc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(ty.Provider,{value:t,children:e.children})}return o.jsx(m9,{initialProps:e.initialProps,children:e.children})}function m9(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},i=s.from,a=s.to,l=t.min,c=t.max,d=function(p,y,g){var v,x;(v=t.onDayClick)===null||v===void 0||v.call(t,p,y,g);var w=f9(p,r);(x=t.onSelect)===null||x===void 0||x.call(t,w,p,y,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],a?(u.range_end=[a],an(i,a)||(u.range_middle=[{after:i,before:a}])):u.range_end=[i]):a&&(u.range_start=[a],u.range_end=[a]),l&&(i&&!a&&u.disabled.push({after:$o(i,l-1),before:Gt(i,l-1)}),i&&a&&u.disabled.push({after:i,before:Gt(i,l-1)}),!i&&a&&u.disabled.push({after:$o(a,l-1),before:Gt(a,l-1)})),c){if(i&&!a&&(u.disabled.push({before:Gt(i,-c+1)}),u.disabled.push({after:Gt(i,c-1)})),i&&a){var f=Mr(a,i)+1,m=c-f;u.disabled.push({before:$o(i,m)}),u.disabled.push({after:Gt(a,m)})}!i&&a&&(u.disabled.push({before:Gt(a,-c+1)}),u.disabled.push({after:Gt(a,c-1)}))}return o.jsx(ty.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:n})}function ny(){var e=h.useContext(ty);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function lu(e){return Array.isArray(e)?n2([],e):e!==void 0?[e]:[]}function p9(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=lu(s)}),t}var xr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(xr||(xr={}));var g9=xr.Selected,Vr=xr.Disabled,v9=xr.Hidden,x9=xr.Today,Mm=xr.RangeEnd,Am=xr.RangeMiddle,Om=xr.RangeStart,y9=xr.Outside;function w9(e,t,n){var r,s=(r={},r[g9]=lu(e.selected),r[Vr]=lu(e.disabled),r[v9]=lu(e.hidden),r[x9]=[e.today],r[Mm]=[],r[Am]=[],r[Om]=[],r[y9]=[],r);return e.fromDate&&s[Vr].push({before:e.fromDate}),e.toDate&&s[Vr].push({after:e.toDate}),Xc(e)?s[Vr]=s[Vr].concat(t.modifiers[Vr]):Zc(e)&&(s[Vr]=s[Vr].concat(n.modifiers[Vr]),s[Om]=n.modifiers[Om],s[Am]=n.modifiers[Am],s[Mm]=n.modifiers[Mm]),s}var a2=h.createContext(void 0);function b9(e){var t=Ue(),n=ey(),r=ny(),s=w9(t,n,r),i=p9(t.modifiers),a=he(he({},s),i);return o.jsx(a2.Provider,{value:a,children:e.children})}function l2(){var e=h.useContext(a2);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function j9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function N9(e){return!!(e&&typeof e=="object"&&"from"in e)}function _9(e){return!!(e&&typeof e=="object"&&"after"in e)}function S9(e){return!!(e&&typeof e=="object"&&"before"in e)}function C9(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function k9(e,t){var n,r=t.from,s=t.to;if(r&&s){var i=Mr(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var a=Mr(e,r)>=0&&Mr(s,e)>=0;return a}return s?an(s,e):r?an(r,e):!1}function E9(e){return Yx(e)}function P9(e){return Array.isArray(e)&&e.every(Yx)}function T9(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(E9(n))return an(e,n);if(P9(n))return n.includes(e);if(N9(n))return k9(e,n);if(C9(n))return n.dayOfWeek.includes(e.getDay());if(j9(n)){var r=Mr(n.before,e),s=Mr(n.after,e),i=r>0,a=s<0,l=Pg(n.before,n.after);return l?a&&i:i||a}return _9(n)?Mr(e,n.after)>0:S9(n)?Mr(n.before,e)>0:typeof n=="function"?n(e):!1})}function ry(e,t,n){var r=Object.keys(t).reduce(function(i,a){var l=t[a];return T9(e,l)&&i.push(a),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Xx(e,n)&&(s.outside=!0),s}function R9(e,t){for(var n=un(e[0]),r=Qx(e[e.length-1]),s,i,a=n;a<=r;){var l=ry(a,t),c=!l.disabled&&!l.hidden;if(!c){a=Gt(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),s||(s=a),a=Gt(a,1)}return i||s}var M9=365;function c2(e,t){var n=t.moveBy,r=t.direction,s=t.context,i=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=s.weekStartsOn,d=s.fromDate,u=s.toDate,f=s.locale,m={day:Gt,week:Eg,month:vr,year:oz,startOfWeek:function(v){return s.ISOWeek?Xo(v):Lr(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return s.ISOWeek?GE(v):Jx(v,{locale:f,weekStartsOn:c})}},p=m[n](e,r==="after"?1:-1);r==="before"&&d?p=iz([d,p]):r==="after"&&u&&(p=az([u,p]));var y=!0;if(i){var g=ry(p,i);y=!g.disabled&&!g.hidden}return y?p:l.count>M9?l.lastFocused:c2(p,{moveBy:n,direction:r,context:s,modifiers:i,retry:he(he({},l),{count:l.count+1})})}var d2=h.createContext(void 0);function A9(e){var t=ed(),n=l2(),r=h.useState(),s=r[0],i=r[1],a=h.useState(),l=a[0],c=a[1],d=R9(t.displayMonths,n),u=s??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(s),i(void 0)},m=function(v){i(v)},p=Ue(),y=function(v,x){if(s){var w=c2(s,{moveBy:v,direction:x,context:p,modifiers:n});an(s,w)||(t.goToDate(w,s),m(w))}},g={focusedDay:s,focusTarget:u,blur:f,focus:m,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return o.jsx(d2.Provider,{value:g,children:e.children})}function sy(){var e=h.useContext(d2);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function O9(e,t){var n=l2(),r=ry(e,n,t);return r}var oy=h.createContext(void 0);function I9(e){if(!vh(e.initialProps)){var t={selected:void 0};return o.jsx(oy.Provider,{value:t,children:e.children})}return o.jsx(D9,{initialProps:e.initialProps,children:e.children})}function D9(e){var t=e.initialProps,n=e.children,r=function(i,a,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,a,l),a.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,a,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,a,l)},s={selected:t.selected,onDayClick:r};return o.jsx(oy.Provider,{value:s,children:n})}function u2(){var e=h.useContext(oy);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function F9(e,t){var n=Ue(),r=u2(),s=ey(),i=ny(),a=sy(),l=a.focusDayAfter,c=a.focusDayBefore,d=a.focusWeekAfter,u=a.focusWeekBefore,f=a.blur,m=a.focus,p=a.focusMonthBefore,y=a.focusMonthAfter,g=a.focusYearBefore,v=a.focusYearAfter,x=a.focusStartOfWeek,w=a.focusEndOfWeek,b=function(D){var S,T,z,B;vh(n)?(S=r.onDayClick)===null||S===void 0||S.call(r,e,t,D):Xc(n)?(T=s.onDayClick)===null||T===void 0||T.call(s,e,t,D):Zc(n)?(z=i.onDayClick)===null||z===void 0||z.call(i,e,t,D):(B=n.onDayClick)===null||B===void 0||B.call(n,e,t,D)},j=function(D){var S;m(e),(S=n.onDayFocus)===null||S===void 0||S.call(n,e,t,D)},_=function(D){var S;f(),(S=n.onDayBlur)===null||S===void 0||S.call(n,e,t,D)},C=function(D){var S;(S=n.onDayMouseEnter)===null||S===void 0||S.call(n,e,t,D)},N=function(D){var S;(S=n.onDayMouseLeave)===null||S===void 0||S.call(n,e,t,D)},k=function(D){var S;(S=n.onDayPointerEnter)===null||S===void 0||S.call(n,e,t,D)},E=function(D){var S;(S=n.onDayPointerLeave)===null||S===void 0||S.call(n,e,t,D)},R=function(D){var S;(S=n.onDayTouchCancel)===null||S===void 0||S.call(n,e,t,D)},M=function(D){var S;(S=n.onDayTouchEnd)===null||S===void 0||S.call(n,e,t,D)},O=function(D){var S;(S=n.onDayTouchMove)===null||S===void 0||S.call(n,e,t,D)},A=function(D){var S;(S=n.onDayTouchStart)===null||S===void 0||S.call(n,e,t,D)},I=function(D){var S;(S=n.onDayKeyUp)===null||S===void 0||S.call(n,e,t,D)},W=function(D){var S;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),d();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),u();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?g():p();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?v():y();break;case"Home":D.preventDefault(),D.stopPropagation(),x();break;case"End":D.preventDefault(),D.stopPropagation(),w();break}(S=n.onDayKeyDown)===null||S===void 0||S.call(n,e,t,D)},U={onClick:b,onFocus:j,onBlur:_,onKeyDown:W,onKeyUp:I,onMouseEnter:C,onMouseLeave:N,onPointerEnter:k,onPointerLeave:E,onTouchCancel:R,onTouchEnd:M,onTouchMove:O,onTouchStart:A};return U}function L9(){var e=Ue(),t=u2(),n=ey(),r=ny(),s=vh(e)?t.selected:Xc(e)?n.selected:Zc(e)?r.selected:void 0;return s}function $9(e){return Object.values(xr).includes(e)}function U9(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if($9(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function z9(e,t){var n=he({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=he(he({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function B9(e,t,n){var r,s,i,a=Ue(),l=sy(),c=O9(e,t),d=F9(e,c),u=L9(),f=!!(a.onDayClick||a.mode!=="default");h.useEffect(function(){var C;c.outside||l.focusedDay&&f&&an(l.focusedDay,e)&&((C=n.current)===null||C===void 0||C.focus())},[l.focusedDay,e,n,f,c.outside]);var m=U9(a,c).join(" "),p=z9(a,c),y=!!(c.outside&&!a.showOutsideDays||c.hidden),g=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:c9,v=o.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),x={style:p,className:m,children:v,role:"gridcell"},w=l.focusTarget&&an(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&an(l.focusedDay,e),j=he(he(he({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||w?0:-1,r)),d),_={isButton:f,isHidden:y,activeModifiers:c,selectedDays:u,buttonProps:j,divProps:x};return _}function W9(e){var t=h.useRef(null),n=B9(e.date,e.displayMonth,t);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(df,he({name:"day",ref:t},n.buttonProps)):o.jsx("div",he({},n.divProps))}function H9(e){var t=e.number,n=e.dates,r=Ue(),s=r.onWeekNumberClick,i=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!s)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),m=function(p){s(t,n,p)};return o.jsx(df,{name:"week-number","aria-label":f,className:a.weeknumber,style:i.weeknumber,onClick:m,children:u})}function V9(e){var t,n,r=Ue(),s=r.styles,i=r.classNames,a=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:W9,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:H9,u;return a&&(u=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(d,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[u,e.dates.map(function(f){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},iB(f))})]})}function wb(e,t,n){for(var r=n!=null&&n.ISOWeek?GE(t):Jx(t,n),s=n!=null&&n.ISOWeek?Xo(e):Lr(e,n),i=Mr(r,s),a=[],l=0;l<=i;l++)a.push(Gt(s,l));var c=a.reduce(function(d,u){var f=n!=null&&n.ISOWeek?QE(u):XE(u,n),m=d.find(function(p){return p.weekNumber===f});return m?(m.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function q9(e,t){var n=wb(un(e),Qx(e),t);if(t!=null&&t.useFixedWeeks){var r=lB(e,t);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],a=Eg(i,6-r),l=wb(Eg(i,1),a,t);n.push.apply(n,l)}}return n}function K9(e){var t,n,r,s=Ue(),i=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,d=s.fixedWeeks,u=s.components,f=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,y=q9(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:f,firstWeekContainsDate:m}),g=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:l9,v=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:V9,x=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:o9;return o.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(g,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:y.map(function(w){return o.jsx(v,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),o.jsx(x,{displayMonth:e.displayMonth})]})}function G9(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Y9=G9()?h.useLayoutEffect:h.useEffect,Im=!1,Q9=0;function bb(){return"react-day-picker-".concat(++Q9)}function J9(e){var t,n=e??(Im?bb():null),r=h.useState(n),s=r[0],i=r[1];return Y9(function(){s===null&&i(bb())},[]),h.useEffect(function(){Im===!1&&(Im=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function X9(e){var t,n,r=Ue(),s=r.dir,i=r.classNames,a=r.styles,l=r.components,c=ed().displayMonths,d=J9(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],m=a.month,p=e.displayIndex===0,y=e.displayIndex===c.length-1,g=!p&&!y;s==="rtl"&&(t=[p,y],y=t[0],p=t[1]),p&&(f.push(i.caption_start),m=he(he({},m),a.caption_start)),y&&(f.push(i.caption_end),m=he(he({},m),a.caption_end)),g&&(f.push(i.caption_between),m=he(he({},m),a.caption_between));var v=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:s9;return o.jsxs("div",{className:f.join(" "),style:m,children:[o.jsx(v,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(K9,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function Z9(e){var t=Ue(),n=t.classNames,r=t.styles;return o.jsx("div",{className:n.months,style:r.months,children:e.children})}function e7(e){var t,n,r=e.initialProps,s=Ue(),i=sy(),a=ed(),l=h.useState(!1),c=l[0],d=l[1];h.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var u=[s.classNames.root,s.className];s.numberOfMonths>1&&u.push(s.classNames.multiple_months),s.showWeekNumber&&u.push(s.classNames.with_weeknumber);var f=he(he({},s.styles.root),s.style),m=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,g){var v;return he(he({},y),(v={},v[g]=r[g],v))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Z9;return o.jsx("div",he({className:u.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:o.jsx(p,{children:a.displayMonths.map(function(y,g){return o.jsx(X9,{displayIndex:g,displayMonth:y},g)})})}))}function t7(e){var t=e.children,n=SB(e,["children"]);return o.jsx(HB,{initialProps:n,children:o.jsx(e9,{children:o.jsx(I9,{initialProps:n,children:o.jsx(d9,{initialProps:n,children:o.jsx(h9,{initialProps:n,children:o.jsx(b9,{children:o.jsx(A9,{children:t})})})})})})})}function n7(e){return o.jsx(t7,he({},e,{children:o.jsx(e7,{initialProps:e})}))}function xh({className:e,classNames:t,showOutsideDays:n=!0,...r}){return o.jsx(n7,{showOutsideDays:n,className:Y("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Y(pc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Y(pc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>o.jsx(XM,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(Of,{className:"h-4 w-4"})},...r})}xh.displayName="Calendar";var iy="Popover",[f2,TH]=Hn(iy,[uo]),td=uo(),[r7,vo]=f2(iy),h2=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,l=td(t),c=h.useRef(null),[d,u]=h.useState(!1),[f=!1,m]=zn({prop:r,defaultProp:s,onChange:i});return o.jsx(Qv,{...l,children:o.jsx(r7,{scope:t,contentId:ir(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:a,children:n})})};h2.displayName=iy;var m2="PopoverAnchor",s7=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vo(m2,n),i=td(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return h.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(Lc,{...i,...r,ref:t})});s7.displayName=m2;var p2="PopoverTrigger",g2=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vo(p2,n),i=td(n),a=ye(t,s.triggerRef),l=o.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":b2(s.open),...r,ref:a,onClick:K(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Lc,{asChild:!0,...i,children:l})});g2.displayName=p2;var ay="PopoverPortal",[o7,i7]=f2(ay,{forceMount:void 0}),v2=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=vo(ay,t);return o.jsx(o7,{scope:t,forceMount:n,children:o.jsx(Rt,{present:n||i.open,children:o.jsx(Ea,{asChild:!0,container:s,children:r})})})};v2.displayName=ay;var Na="PopoverContent",x2=h.forwardRef((e,t)=>{const n=i7(Na,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=vo(Na,e.__scopePopover);return o.jsx(Rt,{present:r||i.open,children:i.modal?o.jsx(a7,{...s,ref:t}):o.jsx(l7,{...s,ref:t})})});x2.displayName=Na;var a7=h.forwardRef((e,t)=>{const n=vo(Na,e.__scopePopover),r=h.useRef(null),s=ye(t,r),i=h.useRef(!1);return h.useEffect(()=>{const a=r.current;if(a)return sh(a)},[]),o.jsx(Bc,{as:is,allowPinchZoom:!0,children:o.jsx(y2,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:K(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:K(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),l7=h.forwardRef((e,t)=>{const n=vo(Na,e.__scopePopover),r=h.useRef(!1),s=h.useRef(!1);return o.jsx(y2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),y2=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=vo(Na,n),p=td(n);return nh(),o.jsx(zc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(ti,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(Bf,{"data-state":b2(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),w2="PopoverClose",c7=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vo(w2,n);return o.jsx(ae.button,{type:"button",...r,ref:t,onClick:K(e.onClick,()=>s.onOpenChange(!1))})});c7.displayName=w2;var d7="PopoverArrow",u7=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=td(n);return o.jsx(Wf,{...s,...r,ref:t})});u7.displayName=d7;function b2(e){return e?"open":"closed"}var f7=h2,h7=g2,m7=v2,j2=x2;const ly=f7,cy=h7,yh=h.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>o.jsx(m7,{children:o.jsx(j2,{ref:s,align:t,sideOffset:n,className:Y("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));yh.displayName=j2.displayName;const p7=({isOpen:e,onClose:t,onTaskCreated:n})=>{const[r,s]=h.useState({title:"",description:"",task_type:"",priority:"medium",assigned_to:"",estimated_time_minutes:"",due_date:void 0,printer_id:"",order_number:""}),{toast:i}=ke(),a=[{value:"assembly",label:"Assembly",icon:to},{value:"filament_change",label:"Filament Change",icon:va},{value:"collection",label:"Collection",icon:at},{value:"maintenance",label:"Maintenance",icon:to},{value:"quality_check",label:"Quality Check",icon:Ir}],l=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],c=()=>{if(!r.title.trim()||!r.task_type){i({title:"Error",description:"Please fill in the title and task type.",variant:"destructive"});return}const d={title:r.title.trim(),description:r.description.trim()||void 0,task_type:r.task_type,priority:r.priority,assigned_to:r.assigned_to||void 0,estimated_time_minutes:r.estimated_time_minutes?parseInt(r.estimated_time_minutes):void 0,due_date:r.due_date?r.due_date.toISOString():void 0,printer_id:r.printer_id||void 0,order_number:r.order_number.trim()||void 0};n(d),s({title:"",description:"",task_type:"",priority:"medium",assigned_to:"",estimated_time_minutes:"",due_date:void 0,printer_id:"",order_number:""}),t()};return o.jsx(zt,{open:e,onOpenChange:t,children:o.jsxs(Et,{className:"sm:max-w-[600px]",children:[o.jsx(Pt,{children:o.jsx(Tt,{children:"Create Task"})}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"title",children:"Title *"}),o.jsx(le,{id:"title",value:r.title,onChange:d=>s({...r,title:d.target.value}),placeholder:"Enter task title"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"task_type",children:"Task Type *"}),o.jsxs(Ye,{value:r.task_type,onValueChange:d=>s({...r,task_type:d}),children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select task type"})}),o.jsx(Ve,{children:a.map(d=>{const u=d.icon;return o.jsx(fe,{value:d.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(u,{className:"h-4 w-4"}),o.jsx("span",{children:d.label})]})},d.value)})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"priority",children:"Priority"}),o.jsxs(Ye,{value:r.priority,onValueChange:d=>s({...r,priority:d}),children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select priority"})}),o.jsx(Ve,{children:l.map(d=>o.jsx(fe,{value:d.value,children:d.label},d.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"estimated_time",children:"Estimated Time (minutes)"}),o.jsx(le,{id:"estimated_time",type:"number",min:"1",value:r.estimated_time_minutes,onChange:d=>s({...r,estimated_time_minutes:d.target.value}),placeholder:"e.g. 30"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"description",children:"Description"}),o.jsx(Qc,{id:"description",value:r.description,onChange:d=>s({...r,description:d.target.value}),placeholder:"Task description (optional)",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{children:"Due Date"}),o.jsxs(ly,{children:[o.jsx(cy,{asChild:!0,children:o.jsxs(L,{variant:"outline",className:Y("w-full justify-start text-left font-normal",!r.due_date&&"text-muted-foreground"),children:[o.jsx(Ic,{className:"mr-2 h-4 w-4"}),r.due_date?Wn(r.due_date,"PPP"):o.jsx("span",{children:"Pick a date"})]})}),o.jsx(yh,{className:"w-auto p-0",align:"start",children:o.jsx(xh,{mode:"single",selected:r.due_date,onSelect:d=>s({...r,due_date:d}),initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"order_number",children:"Order Number"}),o.jsx(le,{id:"order_number",value:r.order_number,onChange:d=>s({...r,order_number:d.target.value}),placeholder:"Order #123 (optional)"})]})]})]}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:t,children:"Cancel"}),o.jsxs(L,{onClick:c,children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Task"]})]})]})})},g7=()=>{const{tasks:e,loading:t,startTask:n,completeTask:r,cancelTask:s,getElapsedTime:i,createTask:a}=tz();ke();const[l,c]=h.useState({}),[d,u]=h.useState(!1);h.useEffect(()=>{const j=setInterval(()=>{const _={};e.filter(C=>C.status==="in_progress"&&C.started_at).forEach(C=>{_[C.id]=i(C.started_at)}),c(_)},6e4);return()=>clearInterval(j)},[e]),h.useEffect(()=>{const j={};e.filter(_=>_.status==="in_progress"&&_.started_at).forEach(_=>{j[_.id]=i(_.started_at)}),c(j)},[e]);const f=j=>{switch(j){case"high":return"destructive";case"medium":return"warning";case"low":return"secondary";default:return"secondary"}},m=j=>{switch(j){case"completed":return o.jsx(Ir,{className:"h-4 w-4 text-green-500"});case"in_progress":return o.jsx(rr,{className:"h-4 w-4 text-blue-500"});case"pending":return o.jsx(Ap,{className:"h-4 w-4 text-yellow-500"});case"cancelled":return o.jsx(no,{className:"h-4 w-4 text-red-500"});default:return o.jsx(rr,{className:"h-4 w-4"})}},p=j=>{switch(j){case"filament_change":return o.jsx(va,{className:"h-4 w-4"});case"collection":return o.jsx(at,{className:"h-4 w-4"});case"assembly":return o.jsx(to,{className:"h-4 w-4"});case"maintenance":return o.jsx(to,{className:"h-4 w-4"});case"quality_check":return o.jsx(Ir,{className:"h-4 w-4"});default:return o.jsx(rr,{className:"h-4 w-4"})}},y=j=>{if(!j)return"No due date";const _=new Date(j),C=new Date,N=Math.ceil((_.getTime()-C.getTime())/(1e3*60*60));return N<0?"Overdue":N<1?"Due now":N<24?`Due in ${N}h`:`Due ${_.toLocaleDateString()}`},g=j=>{if(j<60)return`${j}m`;const _=Math.floor(j/60),C=j%60;return`${_}h ${C}m`},v=({task:j})=>o.jsxs(se,{className:"mb-4",children:[o.jsx(ce,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[p(j.task_type),o.jsxs("div",{children:[o.jsx(de,{className:"text-lg",children:j.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(re,{variant:f(j.priority),children:j.priority.toUpperCase()}),o.jsxs("div",{className:"flex items-center gap-1",children:[m(j.status),o.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:j.status==="pending"?"To Do":j.status.replace("_"," ")})]})]})]})]}),o.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[o.jsx("div",{children:y(j.due_date)}),o.jsxs("div",{children:["~",j.estimated_time_minutes||"N/A"," min"]}),j.status==="in_progress"&&l[j.id]&&o.jsxs("div",{className:"font-medium text-blue-600",children:["Elapsed: ",g(l[j.id])]}),j.status==="completed"&&j.actual_time_minutes&&o.jsxs("div",{className:"font-medium text-green-600",children:["Completed in: ",g(j.actual_time_minutes)]})]})]})}),o.jsxs(ie,{children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:j.description}),j.status!=="completed"&&j.status!=="cancelled"&&o.jsxs("div",{className:"flex gap-2",children:[j.status==="pending"&&o.jsx(L,{onClick:()=>n(j.id),variant:"outline",children:"Start Task"}),j.status==="in_progress"&&o.jsxs(o.Fragment,{children:[o.jsx(L,{onClick:()=>s(j.id),variant:"outline",children:"Cancel"}),o.jsx(L,{onClick:()=>r(j.id),children:"Complete"})]}),j.status==="pending"&&o.jsx(L,{onClick:()=>r(j.id),variant:"secondary",children:"Mark Complete"})]})]})]}),x=e.filter(j=>j.status==="pending"),w=e.filter(j=>j.status==="in_progress"),b=e.filter(j=>j.status==="completed");return t?o.jsx("div",{children:"Loading worklist..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Worklist"}),o.jsx("p",{className:"text-muted-foreground",children:"Tasks and actions that require human intervention"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:x.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"To Do Tasks"})]}),o.jsx(Ap,{className:"h-8 w-8 text-yellow-500"})]})})}),o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:w.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"})]}),o.jsx(rr,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:b.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Today"})]}),o.jsx(Ir,{className:"h-8 w-8 text-green-500"})]})})})]}),o.jsxs(Ja,{defaultValue:"pending",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ai,{children:[o.jsxs(mt,{value:"pending",children:["To Do (",x.length,")"]}),o.jsxs(mt,{value:"in_progress",children:["In Progress (",w.length,")"]}),o.jsxs(mt,{value:"completed",children:["Completed (",b.length,")"]})]}),o.jsxs(L,{onClick:()=>u(!0),children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Create Task"]})]}),o.jsx($t,{value:"pending",className:"mt-6",children:x.length===0?o.jsx(se,{children:o.jsx(ie,{className:"pt-6 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No tasks to do"})})}):x.map(j=>o.jsx(v,{task:j},j.id))}),o.jsx($t,{value:"in_progress",className:"mt-6",children:w.length===0?o.jsx(se,{children:o.jsx(ie,{className:"pt-6 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No tasks in progress"})})}):w.map(j=>o.jsx(v,{task:j},j.id))}),o.jsx($t,{value:"completed",className:"mt-6",children:b.length===0?o.jsx(se,{children:o.jsx(ie,{className:"pt-6 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No completed tasks today"})})}):b.map(j=>o.jsx(v,{task:j},j.id))})]}),o.jsx(p7,{isOpen:d,onClose:()=>u(!1),onTaskCreated:a})]})},N2=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),{toast:s}=ke(),{tenant:i}=Vn(),a=async()=>{if(i!=null&&i.id)try{const f=await fetch("/api/print-jobs-sync/");if(!f.ok)throw new Error(`Failed to fetch print jobs: ${f.statusText}`);const p=(await f.json()).map(y=>bi(y)).sort((y,g)=>new Date(g.timeSubmitted).getTime()-new Date(y.timeSubmitted).getTime());t(p)}catch(f){console.error("Error fetching print jobs:",f),s({title:"Error",description:f instanceof Error?f.message:"Failed to load print jobs from database.",variant:"destructive"}),t([])}finally{r(!1)}},l=async f=>{try{const m=await fetch("/api/print-jobs-sync/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printer_id:f.printerId,print_file_id:f.printFileId,file_name:f.fileName,status:"queued",color:f.color,filament_type:f.filamentType,material_type:f.materialType,number_of_units:f.numberOfUnits||1,filament_needed_grams:f.filamentNeededGrams,estimated_print_time_minutes:f.estimatedPrintTimeMinutes,priority:f.priority||0,progress_percentage:0})});if(!m.ok)throw new Error(`Failed to create print job: ${m.statusText}`);const p=await m.json();if(!p.success)throw new Error(p.message||"Failed to create print job");const y=bi(p.print_job);return t(g=>[y,...g]),s({title:"Success",description:`Print job for ${f.fileName} has been created.`}),y}catch(m){throw console.error("Error adding print job:",m),s({title:"Error",description:"Failed to create print job.",variant:"destructive"}),m}},c=async(f,m)=>{try{const p=V8(m),y=await fetch(`/api/print-jobs-sync/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!y.ok)throw new Error(`Failed to update print job: ${y.statusText}`);const g=await y.json();if(!g.success)throw new Error(g.message||"Failed to update print job");const v=bi(g.print_job);return t(x=>x.map(w=>w.id===f?v:w)),s({title:"Success",description:"Print job updated successfully."}),v}catch(p){throw console.error("Error updating print job:",p),s({title:"Error",description:"Failed to update print job.",variant:"destructive"}),p}},d=async f=>{try{console.log(`Deleting print job: ${f}`);const m=new AbortController,p=setTimeout(()=>m.abort(),1e4),y=await fetch(`/api/print-jobs-sync/${f}`,{method:"DELETE",signal:m.signal,headers:{"Content-Type":"application/json"}});if(clearTimeout(p),!y.ok){const v=await y.text();throw new Error(`HTTP ${y.status}: ${v||y.statusText}`)}const g=await y.json();if(!g.success)throw new Error(g.message||"Server reported failure to delete print job");t(v=>v.filter(x=>x.id!==f)),console.log(`Successfully deleted print job: ${f}`)}catch(m){throw console.error("Error deleting print job:",m),m.name==="AbortError"?new Error("Delete request timed out. Please try again."):m}},u=async(f,m)=>{try{const p=await fetch(`/api/print-jobs-sync/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"cancelled",failure_reason:m,time_completed:new Date().toISOString()})});if(!p.ok)throw new Error(`Failed to cancel print job: ${p.statusText}`);const y=await p.json();if(!y.success)throw new Error(y.message||"Failed to cancel print job");const g=bi(y.print_job);return t(v=>v.map(x=>x.id===f?g:x)),s({title:"Success",description:"Print job cancelled successfully."}),g}catch(p){throw console.error("Error cancelling print job:",p),s({title:"Error",description:"Failed to cancel print job.",variant:"destructive"}),p}};return h.useEffect(()=>{if(!(i!=null&&i.id)){console.log("usePrintJobs: No tenant ID, skipping subscription");return}console.log("usePrintJobs: Setting up real-time subscription for tenant:",i.id),a();const f=G.channel("print-job-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"print_jobs",filter:`tenant_id=eq.${i.id}`},m=>{console.log(" Print job inserted via real-time:",m);const p=bi(m.new);t(y=>(console.log("Adding new job to list:",p),[p,...y]))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"print_jobs",filter:`tenant_id=eq.${i.id}`},m=>{console.log(" Print job updated via real-time:",m);const p=bi(m.new);t(y=>(console.log("Updating job in list:",p),y.map(g=>g.id===p.id?p:g)))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"print_jobs",filter:`tenant_id=eq.${i.id}`},m=>{console.log("Print job deleted:",m),t(p=>p.filter(y=>y.id!==m.old.id))}).subscribe(m=>{console.log("Print jobs subscription status:",m)});return()=>{console.log("Cleaning up print jobs subscription"),G.removeChannel(f)}},[i==null?void 0:i.id]),{printJobs:e,loading:n,addPrintJob:l,updatePrintJob:c,deletePrintJob:d,cancelPrintJob:u,refetch:a}},v7=({job:e,isOpen:t,onClose:n})=>{if(!e)return null;const r=i=>{switch(i){case"Printing":return"default";case"Completed":return"secondary";case"Queued":return"outline";case"Failed":return"destructive";default:return"outline"}},s=e.color||"Galaxy Black|#1a1a1a";return o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"sm:max-w-[600px]",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(Df,{className:"h-5 w-5"}),"Job Details - ",e.fileName]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"File Name"}),o.jsx("p",{className:"text-lg",children:e.fileName})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),o.jsx("div",{children:o.jsx(re,{variant:r(e.status),children:e.status})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Source"}),o.jsx("p",{className:"text-lg",children:e.source||"Manual"})]})]}),o.jsx(Dr,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Job Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(at,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"SKU"}),o.jsxs("p",{className:"font-medium",children:["SKU-",e.fileName.replace(/\.[^/.]+$/,"").slice(0,6).toUpperCase()]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ic,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Submitted"}),o.jsx("p",{className:"font-medium",children:"2 hours ago"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rr,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Est. Print Time"}),o.jsx("p",{className:"font-medium",children:"2h 30m"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:s,size:"sm"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Color"}),o.jsx("p",{className:"font-medium",children:s.split("|")[0]})]})]})]})]}),e.status==="Printing"&&o.jsxs(o.Fragment,{children:[o.jsx(Dr,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Progress"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Completion"}),o.jsxs("span",{children:[e.progress,"%"]})]}),o.jsx(Ba,{value:e.progress,className:"h-3"}),o.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[o.jsx("span",{children:"Layer 125 of 180"}),o.jsx("span",{children:"1h 15m remaining"})]})]})]})]}),o.jsx(Dr,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"File Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"File Size:"}),o.jsx("span",{children:"15.2 MB"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Material:"}),o.jsx("span",{children:"PLA"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Number of Units:"}),o.jsx("span",{children:"3"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Filament Needed:"}),o.jsx("span",{children:"450g"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(L,{variant:"outline",onClick:n,children:"Close"}),e.status==="Queued"&&o.jsx(L,{variant:"destructive",children:"Cancel Job"})]})]})]})})},x7=({job:e,isOpen:t,onClose:n})=>{const{toast:r}=ke(),{deletePrintJob:s}=N2(),[i,a]=h.useState(""),[l,c]=h.useState(!1);if(!e)return null;const d=async()=>{try{c(!0),i.trim()&&console.log(`Print job ${e.id} (${e.fileName}) cancelled with reason: ${i}`),console.log(`Attempting to delete job ${e.id} (${e.fileName})`),await s(e.id),r({title:"Job Cancelled Successfully",description:`${e.fileName} has been cancelled and removed from the queue. Any active print has been stopped.`}),n()}catch(u){console.error("Error cancelling job:",u);const f=u instanceof Error?u.message:"Unknown error occurred";r({title:"Failed to Cancel Job",description:`Could not cancel ${e.fileName}: ${f}. Please try again or contact support if the issue persists.`,variant:"destructive"})}finally{c(!1)}};return o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"sm:max-w-[500px]",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(eA,{className:"h-5 w-5 text-red-500"}),"Cancel Job - ",e.fileName]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[o.jsx(Dc,{className:"h-4 w-4 text-red-600"}),o.jsx("p",{className:"text-sm text-red-800",children:"This action cannot be undone. The job will be permanently removed from the queue."})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"reason",children:"Cancellation Reason (Optional)"}),o.jsx(Qc,{id:"reason",value:i,onChange:u=>a(u.target.value),placeholder:"Enter the reason for cancelling this job...",rows:4})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(L,{variant:"outline",onClick:n,disabled:l,children:"Keep Job"}),o.jsx(L,{variant:"destructive",onClick:d,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(ga,{className:"mr-2 h-4 w-4 animate-spin"}),"Cancelling..."]}):"Cancel Job"})]})]})]})})},y7=({value:e,onValueChange:t,disabled:n=!1})=>o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{children:"Job Type *"}),o.jsxs("div",{className:"flex items-center gap-1 rounded-lg bg-muted p-1",children:[o.jsx(L,{type:"button",variant:e==="print_file"?"secondary":"ghost",size:"sm",onClick:()=>t("print_file"),disabled:n,className:"h-8 flex-1",children:"Print File"}),o.jsx(L,{type:"button",variant:e==="product"?"secondary":"ghost",size:"sm",onClick:()=>t("product"),disabled:n,className:"h-8 flex-1",children:"Product"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e==="print_file"?"Select from available 3MF files stored on Pi":"Select from configured products with linked files"})]}),w7=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),{toast:s}=ke(),i=async()=>{try{r(!0);const a=window.location.hostname;let l;a==="192.168.4.45"||a==="localhost"||a==="127.0.0.1"?l=`${window.location.protocol}//${window.location.host}`:l="http://192.168.4.45:8080";const c=await fetch(`${l}/api/available-files/print-files`);if(!c.ok)throw new Error(`Failed to fetch available files: ${c.status} ${c.statusText}`);const d=await c.json();if(d.success)t(d.files||[]);else throw new Error(d.message||"Failed to fetch available files")}catch(a){console.error("Error fetching available files:",a),s({title:"Error",description:"Failed to load available print files from Pi",variant:"destructive"}),t([])}finally{r(!1)}};return h.useEffect(()=>{i()},[]),{printFiles:e,loading:n,refetch:i}},b7=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),{toast:s}=ke(),i=async()=>{var a;try{r(!0);const l=window.location.hostname;let c;l==="192.168.4.45"||l==="localhost"||l==="127.0.0.1"?c=`${window.location.protocol}//${window.location.host}`:c="http://192.168.4.45:8080";const d=await fetch(`${c}/api/available-files/products-with-files`);if(!d.ok)throw new Error(`Failed to fetch available products: ${d.status} ${d.statusText}`);const u=await d.json();if(u.success)t(((a=u.products)==null?void 0:a.available)||[]);else throw new Error(u.message||"Failed to fetch available products")}catch(l){console.error("Error fetching available products:",l),s({title:"Error",description:"Failed to load available products from Pi",variant:"destructive"}),t([])}finally{r(!1)}};return h.useEffect(()=>{i()},[]),{products:e,loading:n,refetch:i}},j7=({value:e,onValueChange:t,disabled:n=!1})=>{const{printFiles:r,loading:s}=w7(),i=l=>l<1024*1024?`${Math.round(l/1024)} KB`:`${Math.round(l/(1024*1024)*10)/10} MB`,a=l=>{try{const c=new Date(l);return c.toLocaleDateString()+" "+c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}};return o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"print-file",children:"Print File *"}),o.jsxs(Ye,{value:e,onValueChange:t,disabled:n||s,children:[o.jsx(He,{id:"print-file",children:o.jsx(Qe,{placeholder:s?"Loading files from Pi...":r.length===0?"No files available on Pi":"Select print file"})}),o.jsxs(Ve,{children:[r.length===0&&!s&&o.jsxs("div",{className:"flex items-center gap-2 p-2 text-sm text-muted-foreground",children:[o.jsx(I0,{className:"h-4 w-4"}),o.jsx("span",{children:"No 3MF files found on Pi"})]}),r.map(l=>o.jsx(fe,{value:l.id,children:o.jsxs("div",{className:"flex items-start gap-2 w-full",children:[o.jsx(Df,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:l.filename.replace(".3mf","")}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(I0,{className:"h-3 w-3"}),i(l.size_bytes)]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(rr,{className:"h-3 w-3"}),a(l.created_at)]})]})]})]})},l.id))]})]}),r.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.length," file",r.length!==1?"s":""," available on Pi"]}),r.length===0&&!s&&o.jsx("p",{className:"text-xs text-orange-600",children:"No 3MF files found on Pi. Upload files through the Products page first."})]})},N7=({value:e,onValueChange:t,disabled:n=!1})=>{const{products:r,loading:s}=b7(),i=l=>l<1024*1024?`${Math.round(l/1024)} KB`:`${Math.round(l/(1024*1024)*10)/10} MB`,a=l=>{try{const c=new Date(l);return c.toLocaleDateString()+" "+c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}};return o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"product",children:"Product *"}),o.jsxs(Ye,{value:e,onValueChange:t,disabled:n||s,children:[o.jsx(He,{id:"product",children:o.jsx(Qe,{placeholder:s?"Loading products...":r.length===0?"No products with files available":"Select product"})}),o.jsxs(Ve,{children:[r.length===0&&!s&&o.jsxs("div",{className:"flex items-center gap-2 p-2 text-sm text-muted-foreground",children:[o.jsx(at,{className:"h-4 w-4"}),o.jsx("span",{children:"No products with print files found"})]}),r.map(l=>o.jsx(fe,{value:l.id,children:o.jsxs("div",{className:"flex items-start gap-2 w-full",children:[o.jsx(at,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:l.name}),l.description&&o.jsx("div",{className:"text-xs text-muted-foreground truncate mb-1",children:l.description}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[l.category&&o.jsx("span",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:l.category}),l.file_info&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Df,{className:"h-3 w-3"}),i(l.file_info.size_bytes)]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(rr,{className:"h-3 w-3"}),a(l.file_info.created_at)]})]})]}),l.requires_assembly&&o.jsx("div",{className:"text-xs text-amber-600 mt-1",children:" Requires assembly"})]})]})},l.id))]})]}),r.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.length," product",r.length!==1?"s":""," with available files"]}),r.length===0&&!s&&o.jsx("p",{className:"text-xs text-orange-600",children:"No products with print files found. Create products and upload files first."})]})},_7=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(!1),{toast:s}=ke(),i=()=>{const u=window.location.hostname;return u==="192.168.4.45"||u==="localhost"||u==="127.0.0.1"?`${window.location.protocol}//${window.location.host}`:"http://192.168.4.45:8080"},a=async u=>{try{r(!0);const{data:{session:f}}=await G.auth.getSession(),m={"Content-Type":"application/json"};f!=null&&f.access_token&&(m.Authorization=`Bearer ${f.access_token}`);const p=i(),y=await fetch(`${p}/api/enhanced-print-jobs/validate`,{method:"POST",headers:m,body:JSON.stringify(u)});if(!y.ok)throw new Error(`Validation failed: ${y.status} ${y.statusText}`);const g=await y.json();if(g.success)return g.validation;throw new Error(g.message||"Validation failed")}catch(f){return console.error("Error validating job request:",f),{valid:!1,errors:[f.message||"Failed to validate job request"],warnings:[]}}finally{r(!1)}};return{processing:e,validating:n,createEnhancedJob:async u=>{try{t(!0);const f=await a(u);if(!f.valid){const x=f.errors.join(", ");return s({title:"Validation Error",description:x,variant:"destructive"}),{success:!1,message:x,error_details:f.errors.join(`
`)}}f.warnings.length>0&&f.warnings.forEach(x=>{s({title:"Warning",description:x,variant:"default"})});const{data:{session:m}}=await G.auth.getSession(),p={"Content-Type":"application/json"};m!=null&&m.access_token&&(p.Authorization=`Bearer ${m.access_token}`);const y=i(),g=await fetch(`${y}/api/enhanced-print-jobs/create`,{method:"POST",headers:p,body:JSON.stringify(u)});if(!g.ok){let x=`Job creation failed: ${g.status} ${g.statusText}`;try{const w=await g.json();w.detail?x=w.detail:w.message&&(x=w.message)}catch{try{const w=await g.text();w&&(x+=` - ${w}`)}catch{}}throw new Error(x)}const v=await g.json();return v.success?(console.log("Job created successfully:",v),v):(console.error("Job creation failed:",v),{success:!1,message:v.message||"Job creation failed",error_details:v.error_details,job_id:v.job_id})}catch(f){return console.error("Error creating enhanced job:",f),{success:!1,message:f.message||"Network error - failed to create print job",error_details:`Network or communication error: ${f.message}`,network_error:!0}}finally{t(!1)}},validateJobRequest:a,getJobStatus:async u=>{try{const{data:{session:f}}=await G.auth.getSession(),m={};f!=null&&f.access_token&&(m.Authorization=`Bearer ${f.access_token}`);const p=i(),y=await fetch(`${p}/api/enhanced-print-jobs/status/${u}`,{headers:m});if(!y.ok)throw new Error(`Failed to get job status: ${y.status} ${y.statusText}`);return await y.json()}catch(f){return console.error("Error getting job status:",f),null}},testConnection:async()=>{try{const u=i();return(await fetch(`${u}/health`,{signal:AbortSignal.timeout(5e3)})).ok}catch(u){return console.warn("Pi connection test failed:",u),!1}}}},S7=({isOpen:e,onClose:t,onJobCreated:n})=>{const[r,s]=h.useState({jobType:"print_file",targetId:"",printerId:"",color:""}),{toast:i}=ke(),{tenant:a}=Vn(),{colorPresets:l}=go(),{printers:c,loading:d,refetch:u}=Vx(),{processing:f,createEnhancedJob:m,testConnection:p}=_7();h.useEffect(()=>{e&&s({jobType:"print_file",targetId:"",printerId:"",color:""})},[e]);const y=async()=>{var C;if(!(a!=null&&a.id)){i({title:"Error",description:"You must be logged in to create print jobs.",variant:"destructive"});return}if(!r.targetId){i({title:"Error",description:`Please select a ${r.jobType==="product"?"product":"print file"}.`,variant:"destructive"});return}if(!r.printerId){i({title:"Error",description:"Please select a printer.",variant:"destructive"});return}if(!r.color){i({title:"Error",description:"Please select a filament color.",variant:"destructive"});return}const[v,x]=r.color.split("|"),w=l.find(N=>N.color_name===v&&N.hex_code===x);if(!w){i({title:"Error",description:"Selected color preset not found.",variant:"destructive"});return}if(!await p()){i({title:"Connection Error",description:"Cannot connect to Pi. Check network connection and try again.",variant:"destructive"});return}const j=c.find(N=>N.id===r.printerId);if(!j||!j.printerId){i({title:"Error",description:"Selected printer not found or invalid printer ID.",variant:"destructive"});return}const _={job_type:r.jobType,target_id:r.targetId,printer_id:j.printerId.toString(),color:r.color,filament_type:w.filament_type,material_type:w.filament_type,copies:1,start_print:!0};try{const N=await m(_);if(N.success)i({title:"Success",description:`Job created successfully! ${(C=N.processing_status)!=null&&C.auto_start?"Print should start automatically.":"File uploaded to printer."}`}),t(),n&&n();else{let k=N.message||"Unknown error occurred";N.error_details&&(k+=`. Details: ${N.error_details}`),i({title:"Job Creation Failed",description:k,variant:"destructive"})}}catch(N){console.error("Job creation error:",N),i({title:"Network Error",description:"Failed to communicate with printer. Check your connection and try again.",variant:"destructive"})}},g=v=>{s(x=>({...x,...v}))};return o.jsx(zt,{open:e,onOpenChange:t,children:o.jsxs(Et,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(Fv,{className:"h-5 w-5"}),"Create Enhanced Print Job"]})}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsx(y7,{value:r.jobType,onValueChange:v=>g({jobType:v,targetId:""}),disabled:f}),r.jobType==="print_file"?o.jsx(j7,{value:r.targetId,onValueChange:v=>g({targetId:v}),disabled:f}):o.jsx(N7,{value:r.targetId,onValueChange:v=>g({targetId:v}),disabled:f}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Q,{htmlFor:"printer",children:"Printer *"}),o.jsx(L,{type:"button",variant:"ghost",size:"sm",onClick:u,disabled:f||d,className:"h-6 px-2",children:o.jsx(pA,{className:`h-3 w-3 ${d?"animate-spin":""}`})})]}),o.jsxs(Ye,{value:r.printerId,onValueChange:v=>g({printerId:v}),disabled:f||d,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:d?"Loading printers...":"Select printer"})}),o.jsx(Ve,{children:c.map(v=>o.jsx(fe,{value:v.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${v.connected||v.status==="idle"||v.status==="printing"?"bg-green-500":"bg-gray-400"}`}),o.jsxs("span",{children:[v.name," (",v.model,")"]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",v.printerId,")"]}),!v.connected&&v.status==="offline"&&o.jsx("span",{className:"text-xs text-muted-foreground",children:"(offline)"})]})},v.id))})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for printing. Click refresh to update connection status."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"color",children:"Filament Color *"}),o.jsxs(Ye,{value:r.color,onValueChange:v=>g({color:v}),disabled:f,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select color"})}),o.jsx(Ve,{children:l.map(v=>o.jsx(fe,{value:`${v.color_name}|${v.hex_code}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:`${v.color_name}|${v.hex_code}`,size:"sm"}),o.jsx("span",{children:v.color_name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",v.filament_type,")"]})]})},v.id))})]})]}),f&&o.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50 border-blue-200",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[o.jsx(ga,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Processing print job..."})]}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Preparing and uploading to printer. This may take several minutes."})]})]}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:t,disabled:f,children:"Cancel"}),o.jsx(L,{onClick:y,disabled:!(a!=null&&a.id)||f||d,children:f?o.jsxs(o.Fragment,{children:[o.jsx(ga,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Create & Process Job"]})})]})]})})},_2=e=>{switch(e.toLowerCase()){case"printing":return o.jsx(re,{className:"bg-blue-600 text-white hover:bg-blue-700",children:e});case"completed":return o.jsx(re,{className:"bg-green-600 text-white hover:bg-green-700",children:e});case"queued":return o.jsx(re,{className:"bg-orange-500 text-white hover:bg-orange-600",children:e});case"processing":return o.jsx(re,{className:"bg-purple-500 text-white hover:bg-purple-600",children:e});case"uploaded":return o.jsx(re,{className:"bg-cyan-500 text-white hover:bg-cyan-600",children:e});case"failed":return o.jsx(re,{variant:"destructive",children:e});case"cancelled":return o.jsx(re,{className:"bg-gray-500 text-white hover:bg-gray-600",children:e});default:return o.jsx(re,{children:e})}},C7=({title:e,jobs:t,status:n,onViewDetails:r,onCancelJob:s})=>{const i=t.filter(a=>a.status.toLowerCase()===n.toLowerCase());return o.jsxs("div",{className:"flex flex-col min-h-[600px] bg-muted/20 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-sm uppercase tracking-wide text-muted-foreground",children:e}),o.jsx(re,{variant:"secondary",children:i.length})]}),o.jsx("div",{className:"space-y-3 flex-1",children:i.map(a=>o.jsxs(se,{className:"cursor-move hover:shadow-md transition-shadow",children:[o.jsxs(ce,{className:"pb-2",children:[o.jsx(de,{className:"text-sm truncate cursor-pointer hover:text-primary",onClick:()=>r(a),children:a.fileName}),o.jsx(Da,{className:"text-xs",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:a.color,size:"sm"}),o.jsx("span",{children:a.color.split("|")[0]})]})})]}),o.jsxs(ie,{className:"pb-3",children:[a.status==="Printing"&&o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ba,{value:a.progress,className:"flex-1"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.progress,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[_2(a.status),o.jsxs(ur,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{"aria-haspopup":"true",size:"icon",variant:"ghost",className:"h-6 w-6",children:o.jsx(Vo,{className:"h-3 w-3"})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsx(Ge,{onClick:()=>r(a),children:"View Details"}),o.jsx(Ge,{onClick:()=>s(a),children:"Cancel Job"})]})]})]})]})]},a.id))})]})},k7=()=>{const{printJobs:e,loading:t,addPrintJob:n}=N2(),{data:r}=Nx(),[s,i]=h.useState("table"),[a,l]=h.useState(null),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,p]=h.useState(!1),y=j=>{l(j),d(!0)},g=j=>{l(j),f(!0)},v=()=>{p(!1)},w=(()=>{const j=[...e];return r&&(j.forEach(_=>{var N;const C=r.find(k=>{var E,R;return((E=k.current_job)==null?void 0:E.filename)===_.fileName&&k.printer_id===((R=_.printerId)==null?void 0:R.toString())});if(C&&C.status==="printing"){const k=((N=C.progress)==null?void 0:N.percentage)||0;k>_.progressPercentage&&(_.progressPercentage=k),_.liveData=C}}),r.forEach(_=>{var C;_.current_job&&_.status==="printing"&&(j.find(k=>{var E,R;return k.fileName===((E=_.current_job)==null?void 0:E.filename)&&((R=k.printerId)==null?void 0:R.toString())===_.printer_id})||j.unshift({id:`external_${_.printer_id}`,fileName:_.current_job.filename,status:"printing",progressPercentage:((C=_.progress)==null?void 0:C.percentage)||0,printerId:parseInt(_.printer_id),color:"Unknown|#808080",filamentType:"Unknown",materialType:"Unknown",numberOfUnits:1,priority:0,timeSubmitted:new Date().toISOString(),tenantId:"",isExternalJob:!0,liveData:_}))})),j})(),b=[{title:"Queued",status:"queued"},{title:"Processing",status:"processing"},{title:"Uploaded",status:"uploaded"},{title:"Printing",status:"printing"},{title:"Completed",status:"completed"},{title:"Failed",status:"failed"}];return o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Print Job Queue"}),o.jsx("p",{className:"text-muted-foreground",children:"View and manage all print jobs."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(L,{onClick:()=>p(!0),children:[o.jsx(lr,{className:"h-4 w-4 mr-2"}),"Create Job"]}),o.jsxs("div",{className:"flex items-center gap-1 rounded-lg bg-muted p-1",children:[o.jsxs(L,{variant:s==="table"?"secondary":"ghost",size:"sm",onClick:()=>i("table"),className:"h-8",children:[o.jsx(Lf,{className:"h-4 w-4 mr-2"}),"Table"]}),o.jsxs(L,{variant:s==="kanban"?"secondary":"ghost",size:"sm",onClick:()=>i("kanban"),className:"h-8",children:[o.jsx(iA,{className:"h-4 w-4 mr-2"}),"Kanban"]})]})]})]}),s==="table"?o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs(Ka,{children:[o.jsx(Ga,{children:o.jsxs(gr,{children:[o.jsx(Re,{children:"File Name"}),o.jsx(Re,{children:"Status"}),o.jsx(Re,{className:"hidden md:table-cell",children:"Color"}),o.jsx(Re,{children:"Progress"}),o.jsx(Re,{children:o.jsx("span",{className:"sr-only",children:"Actions"})})]})}),o.jsx(Ya,{children:w.map(j=>{var _,C,N,k;return o.jsxs(gr,{children:[o.jsxs(Pe,{className:"font-medium truncate max-w-48 cursor-pointer hover:text-primary",onClick:()=>y(j),children:[j.fileName,j.isExternalJob&&o.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-1 rounded",children:"Live"})]}),o.jsx(Pe,{children:_2(j.status)}),o.jsx(Pe,{className:"hidden md:table-cell",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:j.color,size:"sm"}),o.jsx("span",{className:"text-sm",children:j.color.split("|")[0]})]})}),o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ba,{value:j.progressPercentage||0,className:"w-20"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[j.progressPercentage||0,"%"]}),((C=(_=j.liveData)==null?void 0:_.progress)==null?void 0:C.current_layer)&&((k=(N=j.liveData)==null?void 0:N.progress)==null?void 0:k.total_layers)&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",j.liveData.progress.current_layer,"/",j.liveData.progress.total_layers,")"]})]})}),o.jsx(Pe,{children:o.jsxs(ur,{children:[o.jsx(fr,{asChild:!0,children:o.jsxs(L,{"aria-haspopup":"true",size:"icon",variant:"ghost",children:[o.jsx(Vo,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsx(Ge,{onClick:()=>y(j),children:"View Details"}),!j.isExternalJob&&o.jsx(Ge,{onClick:()=>g(j),children:"Cancel Job"})]})]})})]},j.id)})})]})})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:b.map(j=>o.jsx(C7,{title:j.title,jobs:w,status:j.status,onViewDetails:y,onCancelJob:g},j.status))}),o.jsx(v7,{job:a,isOpen:c,onClose:()=>d(!1)}),o.jsx(x7,{job:a,isOpen:u,onClose:()=>f(!1)}),o.jsx(S7,{isOpen:m,onClose:()=>p(!1),onJobCreated:v})]})},S2=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),{toast:s}=ke(),{tenant:i}=Vn(),a=async()=>{if(i!=null&&i.id)try{r(!0);const u=["Filament","Packaging","Components","Printer Parts"],f=[];for(const m of u)if(m==="Filament"){const{data:p,error:y}=await G.from("filament_inventory").select("*").eq("tenant_id",i==null?void 0:i.id).order("created_at",{ascending:!1});if(y)throw y;const g=(p||[]).map(v=>({...v,category:m,remaining:v.remaining_grams,spoolSize:v.remaining_grams,usageHistory:[]}));f.push(...g)}else if(m==="Packaging"){const{data:p,error:y}=await G.from("packaging_inventory").select("*").eq("tenant_id",i==null?void 0:i.id).order("created_at",{ascending:!1});if(y)throw y;const g=(p||[]).map(v=>({...v,color:"",category:m,remaining:v.remaining_units,spoolSize:v.remaining_units,usageHistory:[]}));f.push(...g)}else if(m==="Components"){const{data:p,error:y}=await G.from("accessories_inventory").select("*").eq("tenant_id",i==null?void 0:i.id).order("created_at",{ascending:!1});if(y)throw y;const g=(p||[]).map(v=>({...v,color:"",category:m,remaining:v.remaining_units,spoolSize:v.remaining_units,usageHistory:[]}));f.push(...g)}else if(m==="Printer Parts"){const{data:p,error:y}=await G.from("printer_parts_inventory").select("*").eq("tenant_id",i==null?void 0:i.id).order("created_at",{ascending:!1});if(y)throw y;const g=(p||[]).map(v=>({...v,color:"",category:m,remaining:v.remaining_units,spoolSize:v.remaining_units,usageHistory:[]}));f.push(...g)}t(f)}catch(u){console.error("Error fetching materials:",u),(u==null?void 0:u.code)!=="PGRST116"&&(u==null?void 0:u.code)!=="42P01"&&s({title:"Error",description:"Failed to load materials from database.",variant:"destructive"}),t([])}finally{r(!1)}},l=async(u,f)=>{try{const m={type:f.type,brand:f.brand,location:f.location,cost_per_unit:f.cost_per_unit,low_threshold:f.low_threshold,reorder_link:f.reorder_link,tenant_id:i==null?void 0:i.id,status:f.remaining===0?"out_of_stock":f.remaining<=(f.low_threshold||100)?"low":"in_stock"};u==="Filament"&&(m.color=f.color);let p,y;if(u==="Filament"){m.remaining_grams=f.remaining,m.diameter=f.diameter||"1.75mm";const v=await G.from("filament_inventory").insert(m).select().single();p=v.data,y=v.error}else if(u==="Packaging"){m.remaining_units=f.remaining,delete m.color;const v=await G.from("packaging_inventory").insert(m).select().single();p=v.data,y=v.error}else if(u==="Components"){m.remaining_units=f.remaining,delete m.color;const v=await G.from("accessories_inventory").insert(m).select().single();p=v.data,y=v.error}else if(u==="Printer Parts"){m.remaining_units=f.remaining,delete m.color;const v=await G.from("printer_parts_inventory").insert(m).select().single();p=v.data,y=v.error}if(y)throw y;const g={...p,category:u,remaining:u==="Filament"?p.remaining_grams:p.remaining_units,spoolSize:u==="Filament"?p.remaining_grams:p.remaining_units,usageHistory:[]};return t(v=>[g,...v]),s({title:"Success",description:`${f.type} has been added to ${u} inventory.`}),g}catch(m){throw console.error("Error adding material:",m),s({title:"Error",description:"Failed to add material to database.",variant:"destructive"}),m}},c=async(u,f,m)=>{try{const p={...m};m.remaining!==void 0&&(f==="Filament"?(p.remaining_grams=m.remaining,delete p.remaining):(p.remaining_units=m.remaining,delete p.remaining)),delete p.category,delete p.spoolSize,delete p.usageHistory,delete p.id,delete p.tenant_id,delete p.created_at,delete p.updated_at;let y,g;if(f==="Filament"){const x=await G.from("filament_inventory").update(p).eq("id",u).select().single();y=x.data,g=x.error}else if(f==="Packaging"){const x=await G.from("packaging_inventory").update(p).eq("id",u).select().single();y=x.data,g=x.error}else if(f==="Components"){const x=await G.from("accessories_inventory").update(p).eq("id",u).select().single();y=x.data,g=x.error}else if(f==="Printer Parts"){const x=await G.from("printer_parts_inventory").update(p).eq("id",u).select().single();y=x.data,g=x.error}if(g)throw g;const v={...y,category:f,remaining:f==="Filament"?y.remaining_grams:y.remaining_units,spoolSize:f==="Filament"?y.remaining_grams:y.remaining_units,usageHistory:[]};return t(x=>x.map(w=>w.id===u?v:w)),s({title:"Success",description:"Material updated successfully."}),v}catch(p){throw console.error("Error updating material:",p),s({title:"Error",description:"Failed to update material.",variant:"destructive"}),p}},d=async(u,f)=>{try{let m;if(f==="Filament"?m=(await G.from("filament_inventory").delete().eq("id",u)).error:f==="Packaging"?m=(await G.from("packaging_inventory").delete().eq("id",u)).error:f==="Components"?m=(await G.from("accessories_inventory").delete().eq("id",u)).error:f==="Printer Parts"&&(m=(await G.from("printer_parts_inventory").delete().eq("id",u)).error),m)throw m;t(p=>p.filter(y=>y.id!==u)),s({title:"Success",description:"Material deleted successfully."})}catch(m){throw console.error("Error deleting material:",m),s({title:"Error",description:"Failed to delete material.",variant:"destructive"}),m}};return h.useEffect(()=>{i!=null&&i.id&&a()},[i==null?void 0:i.id]),{materials:e,loading:n,addMaterial:l,updateMaterial:c,deleteMaterial:d,refetch:a}};var C2="AlertDialog",[E7,RH]=Hn(C2,[IC]),hs=IC(),k2=e=>{const{__scopeAlertDialog:t,...n}=e,r=hs(t);return o.jsx(JC,{...r,...n,modal:!0})};k2.displayName=C2;var P7="AlertDialogTrigger",T7=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hs(n);return o.jsx(XC,{...s,...r,ref:t})});T7.displayName=P7;var R7="AlertDialogPortal",E2=e=>{const{__scopeAlertDialog:t,...n}=e,r=hs(t);return o.jsx(ZC,{...r,...n})};E2.displayName=R7;var M7="AlertDialogOverlay",P2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hs(n);return o.jsx(Ex,{...s,...r,ref:t})});P2.displayName=M7;var Yi="AlertDialogContent",[A7,O7]=E7(Yi),T2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=hs(n),a=h.useRef(null),l=ye(t,a),c=h.useRef(null);return o.jsx(e6,{contentName:Yi,titleName:R2,docsSlug:"alert-dialog",children:o.jsx(A7,{scope:n,cancelRef:c,children:o.jsxs(Px,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:K(s.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[o.jsx(Pv,{children:r}),o.jsx(D7,{contentRef:a})]})})})});T2.displayName=Yi;var R2="AlertDialogTitle",M2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hs(n);return o.jsx(Tx,{...s,...r,ref:t})});M2.displayName=R2;var A2="AlertDialogDescription",O2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hs(n);return o.jsx(Rx,{...s,...r,ref:t})});O2.displayName=A2;var I7="AlertDialogAction",I2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hs(n);return o.jsx(Mx,{...s,...r,ref:t})});I2.displayName=I7;var D2="AlertDialogCancel",F2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=O7(D2,n),i=hs(n),a=ye(t,s);return o.jsx(Mx,{...i,...r,ref:a})});F2.displayName=D2;var D7=({contentRef:e})=>{const t=`\`${Yi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yi}\` by passing a \`${A2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},F7=k2,L7=E2,L2=P2,$2=T2,U2=I2,z2=F2,B2=M2,W2=O2;const $7=F7,U7=L7,H2=h.forwardRef(({className:e,...t},n)=>o.jsx(L2,{className:Y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));H2.displayName=L2.displayName;const V2=h.forwardRef(({className:e,...t},n)=>o.jsxs(U7,{children:[o.jsx(H2,{}),o.jsx($2,{ref:n,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));V2.displayName=$2.displayName;const q2=({className:e,...t})=>o.jsx("div",{className:Y("flex flex-col space-y-2 text-center sm:text-left",e),...t});q2.displayName="AlertDialogHeader";const K2=({className:e,...t})=>o.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});K2.displayName="AlertDialogFooter";const G2=h.forwardRef(({className:e,...t},n)=>o.jsx(B2,{ref:n,className:Y("text-lg font-semibold",e),...t}));G2.displayName=B2.displayName;const Y2=h.forwardRef(({className:e,...t},n)=>o.jsx(W2,{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));Y2.displayName=W2.displayName;const Q2=h.forwardRef(({className:e,...t},n)=>o.jsx(U2,{ref:n,className:Y(pc(),e),...t}));Q2.displayName=U2.displayName;const J2=h.forwardRef(({className:e,...t},n)=>o.jsx(z2,{ref:n,className:Y(pc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));J2.displayName=z2.displayName;const jb=({isOpen:e,onClose:t,onSubmit:n,activeTab:r,materialData:s,onMaterialDataChange:i,materialTypeOptions:a,onAddNewType:l,onRemoveType:c,isEditMode:d=!1})=>{const{colorPresets:u}=go(),[f,m]=h.useState([]),[p,y]=h.useState([]);return ke(),h.useEffect(()=>{if(r==="Filament"&&u.length>0){const g=[...new Set(u.map(v=>v.filament_type))];m(g)}},[r,u]),h.useEffect(()=>{if(s.type&&r==="Filament"){const g=u.filter(v=>v.filament_type===s.type);y(g),s.color&&!g.find(v=>v.color_name===s.color)&&i({...s,color:""})}else y([])},[s.type,u,r,s.color,i]),o.jsx(zt,{open:e,onOpenChange:t,children:o.jsxs(Et,{className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[o.jsxs(Pt,{children:[o.jsx(Tt,{children:d?"Edit Material":`Add New ${r}`}),o.jsx(Qo,{children:d?"Update material information.":`Add a new ${r.toLowerCase()} to your inventory.`})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[r==="Filament"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"type",className:"text-right",children:"Type *"}),o.jsx("div",{className:"col-span-3",children:o.jsxs(Ye,{value:s.type,onValueChange:g=>i({...s,type:g,color:""}),children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select filament type"})}),o.jsx(Ve,{children:f.map(g=>o.jsx(fe,{value:g,children:g},g))})]})})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"color",className:"text-right",children:"Color *"}),o.jsx("div",{className:"col-span-3",children:o.jsxs(Ye,{value:s.color,onValueChange:g=>i({...s,color:g}),disabled:!s.type,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:s.type?"Select color":"Select type first"})}),o.jsx(Ve,{children:p.map(g=>o.jsx(fe,{value:g.color_name,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded-full border border-border",style:{backgroundColor:g.hex_code}}),g.color_name]})},g.id))})]})})]})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"type",className:"text-right",children:"Type *"}),o.jsx("div",{className:"col-span-3",children:o.jsx(le,{id:"type",value:s.type,onChange:g=>i({...s,type:g.target.value}),placeholder:"Enter type"})})]})}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"brand",className:"text-right",children:"Brand"}),o.jsx(le,{id:"brand",value:s.brand,onChange:g=>i({...s,brand:g.target.value}),className:"col-span-3",placeholder:"e.g. Hatchbox, eSUN"})]}),r==="Filament"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"spoolSize",className:"text-right",children:"Spool Size (g) *"}),o.jsx(le,{id:"spoolSize",type:"number",value:s.spoolSize,onChange:g=>i({...s,spoolSize:g.target.value}),className:"col-span-3",placeholder:"1000"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"diameter",className:"text-right",children:"Diameter"}),o.jsx(le,{id:"diameter",value:s.diameter,onChange:g=>i({...s,diameter:g.target.value}),className:"col-span-3",placeholder:"1.75mm"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"costPerSpool",className:"text-right",children:"Cost Per Spool ($)"}),o.jsx(le,{id:"costPerSpool",type:"number",step:"0.01",value:s.costPerSpool,onChange:g=>i({...s,costPerSpool:g.target.value}),className:"col-span-3",placeholder:"25.99"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"remaining",className:"text-right",children:"Current Amount (g) *"}),o.jsx(le,{id:"remaining",type:"number",value:s.remaining,onChange:g=>i({...s,remaining:g.target.value}),className:"col-span-3",placeholder:"1000"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"lowThreshold",className:"text-right",children:"Low Threshold (g)"}),o.jsx(le,{id:"lowThreshold",type:"number",value:s.lowThreshold,onChange:g=>i({...s,lowThreshold:g.target.value}),className:"col-span-3",placeholder:"150"})]})]}),r!=="Filament"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"costPerUnit",className:"text-right",children:"Cost Per Unit ($)"}),o.jsx(le,{id:"costPerUnit",type:"number",step:"0.01",value:s.costPerSpool,onChange:g=>i({...s,costPerSpool:g.target.value}),className:"col-span-3",placeholder:"25.99"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"remaining",className:"text-right",children:"Current Stock (units) *"}),o.jsx(le,{id:"remaining",type:"number",value:s.remaining,onChange:g=>i({...s,remaining:g.target.value}),className:"col-span-3",placeholder:"100"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"lowThreshold",className:"text-right",children:"Low Threshold (units)"}),o.jsx(le,{id:"lowThreshold",type:"number",value:s.lowThreshold,onChange:g=>i({...s,lowThreshold:g.target.value}),className:"col-span-3",placeholder:"10"})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"reorderLink",className:"text-right",children:"Reorder Link"}),o.jsx("div",{className:"col-span-3",children:s.reorderLink&&!s.isEditingLink&&d?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{type:"button",onClick:()=>window.open(s.reorderLink,"_blank"),className:"flex-1",children:"Reorder"}),o.jsx(L,{type:"button",variant:"outline",onClick:()=>i({...s,isEditingLink:!0}),children:"Edit Link"})]}):o.jsxs("div",{className:"flex gap-2",children:[o.jsx(le,{id:"reorderLink",value:s.reorderLink||"",onChange:g=>i({...s,reorderLink:g.target.value}),placeholder:"https://example.com/product",className:"flex-1"}),s.isEditingLink&&d&&o.jsx(L,{type:"button",variant:"outline",onClick:()=>i({...s,isEditingLink:!1}),children:"Cancel"})]})})]})]}),o.jsx(hr,{children:o.jsx(L,{type:"submit",onClick:n,children:d?"Update Material":`Add ${r}`})})]})})},z7=e=>{switch(e){case"in_stock":return o.jsx(re,{className:"bg-green-600 text-white hover:bg-green-700",children:"In Stock"});case"low":return o.jsx(re,{className:"bg-yellow-500 text-black hover:bg-yellow-600",children:"Low"});case"out_of_stock":return o.jsx(re,{variant:"destructive",children:"Out of Stock"});default:return o.jsx(re,{children:e})}},B7=({materials:e,category:t,onSort:n,onEdit:r,onDelete:s})=>o.jsxs(Ka,{children:[o.jsx(Ga,{children:o.jsxs(gr,{children:[o.jsx(Re,{className:"cursor-pointer",onClick:()=>n("type"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Type",o.jsx(hl,{className:"h-4 w-4"})]})}),t==="Filament"&&o.jsx(Re,{className:"cursor-pointer",onClick:()=>n("color"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Color",o.jsx(hl,{className:"h-4 w-4"})]})}),o.jsx(Re,{className:"cursor-pointer",onClick:()=>n("brand"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Brand",o.jsx(hl,{className:"h-4 w-4"})]})}),o.jsx(Re,{className:"cursor-pointer",onClick:()=>n("remaining"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Remaining",o.jsx(hl,{className:"h-4 w-4"})]})}),o.jsx(Re,{className:"cursor-pointer",onClick:()=>n("status"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Status",o.jsx(hl,{className:"h-4 w-4"})]})}),o.jsx(Re,{children:o.jsx("span",{className:"sr-only",children:"Actions"})})]})}),o.jsx(Ya,{children:e.map(i=>{var a;return o.jsxs(gr,{children:[o.jsx(Pe,{className:"font-medium",children:i.type}),t==="Filament"&&o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:i.color||"",filamentType:t==="Filament"?i.type:void 0}),((a=i.color)==null?void 0:a.split("|")[0])||i.color]})}),o.jsx(Pe,{children:i.brand||"-"}),o.jsxs(Pe,{children:[i.remaining,t==="Filament"?"g":" units"]}),o.jsx(Pe,{children:z7(i.status||"")}),o.jsx(Pe,{children:i.reorder_link&&o.jsx(L,{variant:"outline",size:"sm",onClick:()=>window.open(i.reorder_link,"_blank"),className:"mr-2",children:"Reorder"})}),o.jsx(Pe,{children:o.jsxs(ur,{children:[o.jsx(fr,{asChild:!0,children:o.jsxs(L,{"aria-haspopup":"true",size:"icon",variant:"ghost",children:[o.jsx(Vo,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsxs(Ge,{onClick:()=>r(i),children:["Edit ",t]}),o.jsxs(Ge,{onClick:()=>s(i),className:"text-red-600",children:["Delete ",t]})]})]})})]},i.id)})})]}),W7={Filament:["PLA","ABS","PETG","TPU","Resin","Wood Fill","Metal Fill"],Packaging:["Bubble Wrap","Cardboard Box","Tape","Labels","Foam Insert"],Components:["Keychain","Double-sided Tape","Screws","Magnets","O-rings","Washers"],"Printer Parts":["Belt","Motor","Hotend","Extruder","Sensor","Fan"]},H7=()=>{var H;const{materials:e,loading:t,addMaterial:n,updateMaterial:r,deleteMaterial:s}=S2(),[i,a]=h.useState("Filament"),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[f,m]=h.useState(!1),[p,y]=h.useState(null),[g,v]=h.useState(""),[x,w]=h.useState(null),[b,j]=h.useState("asc"),[_,C]=h.useState(W7),[N,k]=h.useState({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1}),{toast:E}=ke(),R=(V,J)=>{const ve=J||150;return V===0?"out_of_stock":V<=ve?"low":"in_stock"},M=h.useMemo(()=>{let V=e.filter(J=>J.category===i&&(J.type.toLowerCase().includes(g.toLowerCase())||J.color.toLowerCase().includes(g.toLowerCase())||J.brand&&J.brand.toLowerCase().includes(g.toLowerCase())||J.status.toLowerCase().includes(g.toLowerCase())));return x&&V.sort((J,ve)=>{const X=J[x],$=ve[x];return X==null?1:$==null?-1:typeof X=="string"&&typeof $=="string"?b==="asc"?X.localeCompare($):$.localeCompare(X):typeof X=="number"&&typeof $=="number"?b==="asc"?X-$:$-X:0}),V},[e,g,x,b,i]),O=V=>{x===V?j(b==="asc"?"desc":"asc"):(w(V),j("asc"))},A=V=>{C({..._,[i]:[..._[i],V]}),E({title:"Type Added",description:`${V} has been added to ${i} types.`})},I=V=>{C({..._,[i]:_[i].filter(J=>J!==V)}),N.type===V&&k({...N,type:""}),E({title:"Type Removed",description:`${V} has been removed from ${i} types.`})},W=async()=>{if(!(i==="Filament"?N.type&&N.color&&N.remaining:N.type&&N.remaining)){E({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}const J=parseInt(N.remaining),ve=N.lowThreshold?parseInt(N.lowThreshold):150;try{await n(i,{type:N.type,color:N.color,brand:N.brand||void 0,remaining:J,diameter:N.diameter||void 0,location:N.location||void 0,cost_per_unit:N.costPerSpool?parseFloat(N.costPerSpool):void 0,low_threshold:ve,reorder_link:N.reorderLink||void 0}),k({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1}),c(!1)}catch{}},U=async()=>{if(!p||!(i==="Filament"?N.type&&N.color&&N.remaining:N.type&&N.remaining)){E({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}const J=parseInt(N.remaining),ve=N.lowThreshold?parseInt(N.lowThreshold):p.low_threshold||150;try{await r(p.id,p.category,{type:N.type,color:N.color,brand:N.brand||void 0,remaining:J,diameter:N.diameter||void 0,location:N.location||void 0,cost_per_unit:N.costPerSpool?parseFloat(N.costPerSpool):void 0,low_threshold:ve,reorder_link:N.reorderLink||void 0,status:R(J,ve)}),u(!1),y(null)}catch{}},D=async()=>{if(p)try{await s(p.id,p.category),m(!1),y(null)}catch{}},S=()=>{const J=[["Category","Type","Color","Brand","Spool Size","Diameter","Cost Per Spool","Reorder Link","Remaining","Status","Low Threshold"].join(","),...e.filter(Z=>Z.category===i).map(Z=>[Z.category,Z.type,Z.color.split("|")[0]||Z.color,Z.brand||"",Z.spoolSize,Z.diameter||"",Z.cost_per_unit||"",Z.reorder_link||"",Z.remaining,Z.status,Z.low_threshold||150].join(","))].join(`
`),ve=new Blob([J],{type:"text/csv"}),X=window.URL.createObjectURL(ve),$=document.createElement("a");$.href=X,$.download=`${i.toLowerCase()}-inventory.csv`,$.click(),window.URL.revokeObjectURL(X),E({title:"Export Complete",description:`${i} inventory exported to CSV file.`})},T=()=>{k({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1}),c(!0)},z=V=>{var J,ve,X;y(V),k({type:V.type,color:V.color||"",brand:V.brand||"",spoolSize:((J=V.remaining)==null?void 0:J.toString())||"",diameter:V.diameter||"",costPerSpool:((ve=V.cost_per_unit)==null?void 0:ve.toString())||"",location:V.location||"",remaining:((X=V.remaining)==null?void 0:X.toString())||"",lowThreshold:(V.low_threshold||150).toString(),image:"",reorderLink:V.reorder_link||"",isEditingLink:!1}),u(!0)},B=V=>{y(V),m(!0)};return o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Material Inventory"}),o.jsx("p",{className:"text-muted-foreground",children:"Track your filament, packaging, components, and printer parts."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(L,{variant:"outline",onClick:S,children:[o.jsx(nA,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),o.jsxs(L,{onClick:T,children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add ",i]})]})]}),o.jsxs(Ja,{value:i,onValueChange:V=>{a(V),k({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1})},className:"w-full",children:[o.jsxs(ai,{className:"grid w-full grid-cols-4",children:[o.jsx(mt,{value:"Filament",children:"Filament"}),o.jsx(mt,{value:"Packaging",children:"Packaging"}),o.jsx(mt,{value:"Components",children:"Components"}),o.jsx(mt,{value:"Printer Parts",children:"Printer Parts"})]}),["Filament","Packaging","Components","Printer Parts"].map(V=>o.jsxs($t,{value:V,className:"mt-4 space-y-4",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(EN,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(le,{placeholder:`Search ${V.toLowerCase()}...`,value:g,onChange:J=>v(J.target.value),className:"pl-8"})]})}),o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsx(B7,{materials:M,category:V,onSort:O,onEdit:z,onDelete:B})})})]},V))]}),o.jsx(jb,{isOpen:l,onClose:()=>{c(!1),k({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1})},onSubmit:W,activeTab:i,materialData:N,onMaterialDataChange:k,materialTypeOptions:_,onAddNewType:A,onRemoveType:I}),o.jsx(jb,{isOpen:d,onClose:()=>{u(!1),k({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1})},onSubmit:U,activeTab:i,materialData:N,onMaterialDataChange:k,materialTypeOptions:_,onAddNewType:A,onRemoveType:I,isEditMode:!0}),o.jsx($7,{open:f,onOpenChange:m,children:o.jsxs(V2,{children:[o.jsxs(q2,{children:[o.jsx(G2,{children:"Are you sure?"}),o.jsxs(Y2,{children:["This will permanently delete ",p==null?void 0:p.type," (",((H=p==null?void 0:p.color)==null?void 0:H.split("|")[0])||(p==null?void 0:p.color),") from your inventory. This action cannot be undone."]})]}),o.jsxs(K2,{children:[o.jsx(J2,{children:"Cancel"}),o.jsx(Q2,{onClick:D,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},V7=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),{tenant:s}=Vn(),{toast:i}=ke(),a=async()=>{if(s!=null&&s.id)try{r(!0);const{data:d,error:u}=await G.from("products").select(`
          id,
          name,
          requires_assembly,
          image_url,
          product_skus!inner (
            id,
            sku,
            color,
            price,
            finished_goods (
              id,
              current_stock,
              unit_price,
              assembly_status,
              status,
              material
            )
          )
        `).eq("tenant_id",s==null?void 0:s.id).eq("is_active",!0).eq("product_skus.is_active",!0).order("created_at",{ascending:!1});if(u)throw u;const f=(d||[]).map(m=>{const p=m.product_skus.map(v=>{var w;const x=(w=v.finished_goods)==null?void 0:w[0];return{id:(x==null?void 0:x.id)||`sku-${v.id}`,skuId:v.id,sku:v.sku,color:v.color,currentStock:(x==null?void 0:x.current_stock)||0,unitPrice:(x==null?void 0:x.unit_price)||v.price||0,assemblyStatus:(x==null?void 0:x.assembly_status)||"printed",status:(x==null?void 0:x.status)||"out_of_stock",material:(x==null?void 0:x.material)||"PLA"}}),y=p.reduce((v,x)=>v+x.currentStock,0),g=p.reduce((v,x)=>v+x.currentStock*x.unitPrice,0);return{productId:m.id,productName:m.name,requiresAssembly:m.requires_assembly,totalStock:y,totalValue:g,imageUrl:m.image_url,skus:p}});t(f)}catch(d){console.error("Error fetching product inventory:",d),i({title:"Error",description:"Failed to load product inventory",variant:"destructive"}),t([])}finally{r(!1)}},l=async(d,u)=>{try{const{error:f}=await G.from("finished_goods").update({current_stock:u,status:u===0?"out_of_stock":u<5?"low_stock":"in_stock"}).eq("id",d);if(f)throw f;i({title:"Success",description:"Stock updated successfully"}),await a()}catch(f){console.error("Error updating stock:",f),i({title:"Error",description:"Failed to update stock",variant:"destructive"})}};return h.useEffect(()=>{s!=null&&s.id&&a()},[s==null?void 0:s.id]),{productInventory:e,loading:n,updateStock:l,refetch:a,getFilteredInventory:d=>d==="all"?e:e.map(u=>({...u,skus:u.skus.filter(f=>d==="assembled"?f.assemblyStatus==="assembled":d==="needs_assembly"?f.assemblyStatus==="needs_assembly":!0)})).filter(u=>u.skus.length>0)}},q7=({product:e,isOpen:t,onClose:n,onAdjust:r})=>{const{toast:s}=ke(),[i,a]=h.useState("add"),[l,c]=h.useState(""),d=()=>{if(!l){s({title:"Error",description:"Please enter an adjustment amount.",variant:"destructive"});return}const u=parseInt(l);let f=e.quantity;switch(i){case"add":f+=u;break;case"remove":f=Math.max(0,f-u);break;case"set":f=u;break}r(e.id,f),c(""),n(),s({title:"Stock Adjusted",description:`Stock for ${e.name} has been updated to ${f} units.`})};return e?o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"sm:max-w-[425px]",children:[o.jsxs(Pt,{children:[o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(at,{className:"h-5 w-5"}),"Adjust Stock - ",e.name]}),o.jsxs(Qo,{children:["Current stock: ",e.quantity," units"]})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"adjustment-type",className:"text-right",children:"Action *"}),o.jsxs(Ye,{value:i,onValueChange:u=>a(u),children:[o.jsx(He,{className:"col-span-3",children:o.jsx(Qe,{})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"add",children:"Add Stock"}),o.jsx(fe,{value:"remove",children:"Remove Stock"}),o.jsx(fe,{value:"set",children:"Set Stock"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"adjustment-amount",className:"text-right",children:i==="set"?"New Quantity *":"Amount *"}),o.jsx(le,{id:"adjustment-amount",type:"number",value:l,onChange:u=>c(u.target.value),className:"col-span-3",placeholder:"0"})]})]}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:n,children:"Cancel"}),o.jsx(L,{onClick:d,children:"Adjust Stock"})]})]})}):null},K7=()=>{const{productInventory:e,loading:t,updateStock:n,getFilteredInventory:r}=V7(),[s,i]=h.useState(new Set),[a,l]=h.useState(!1),[c,d]=h.useState(null),[u,f]=h.useState("all");ke();const m=C=>{const N=new Set(s);N.has(C)?N.delete(C):N.add(C),i(N)},p=C=>{d(C),l(!0)},y=async(C,N)=>{await n(C,N),d(null)},g=r(u),v=e.length,x=e.reduce((C,N)=>C+N.skus.length,0),w=e.reduce((C,N)=>C+N.totalStock,0),b=e.reduce((C,N)=>C+N.totalValue,0),j=e.reduce((C,N)=>C+N.skus.filter(k=>k.assemblyStatus==="assembled").length,0),_=e.reduce((C,N)=>C+N.skus.filter(k=>k.assemblyStatus==="needs_assembly").length,0);return o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Finished Goods Inventory"}),o.jsx("p",{className:"text-muted-foreground",children:"Track printed items, assembly tasks, and ready products."})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(jc,{type:"single",value:u,onValueChange:C=>C&&f(C),children:[o.jsx(xn,{value:"all","aria-label":"All Products",children:"All Products"}),o.jsx(xn,{value:"assembled","aria-label":"Assembled",children:"Assembled"}),o.jsx(xn,{value:"needs_assembly","aria-label":"Needs Assembly",children:"Needs Assembly"})]})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Products"}),o.jsx(at,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:v}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[x," total SKUs"]})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Assembled"}),o.jsx(Ir,{className:"h-4 w-4 text-green-600"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:j}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"ready for sale"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Needs Assembly"}),o.jsx(to,{className:"h-4 w-4 text-orange-500"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:_}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"awaiting assembly"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Total Value"}),o.jsx(at,{className:"h-4 w-4 text-blue-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",b.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[w," units"]})]})]})]}),o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"grid grid-cols-12 gap-4 pb-4 border-b border-border",children:[o.jsx("div",{className:"col-span-6 text-left text-sm font-medium text-muted-foreground",children:"Product"}),o.jsx("div",{className:"col-span-2 text-center text-sm font-medium text-muted-foreground",children:"Stock"}),o.jsx("div",{className:"col-span-2 text-center text-sm font-medium text-muted-foreground",children:"SKUs"}),o.jsx("div",{className:"col-span-2 text-right text-sm font-medium text-muted-foreground",children:"Value"})]}),o.jsxs("div",{className:"divide-y divide-border",children:[g.map(C=>o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-12 gap-4 py-4 hover:bg-muted/50 cursor-pointer",onClick:()=>m(C.productId),children:[o.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:s.has(C.productId)?o.jsx(Af,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(Of,{className:"h-4 w-4 text-muted-foreground"})}),o.jsx("div",{className:"flex-shrink-0",children:C.imageUrl?o.jsx("img",{src:C.imageUrl,alt:C.productName,className:"w-10 h-10 rounded object-cover"}):o.jsx("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center",children:o.jsx(at,{className:"h-5 w-5 text-muted-foreground"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:C.productName}),o.jsx("div",{className:"text-sm text-muted-foreground",children:C.requiresAssembly?"Requires Assembly":"Ready to Print"})]})]}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:C.totalStock}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"units"})]}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:C.skus.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"variants"})]}),o.jsx("div",{className:"col-span-2 flex items-center justify-end gap-2",children:o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-medium",children:["$",C.totalValue.toFixed(2)]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"total value"})]})})]}),s.has(C.productId)&&o.jsx("div",{className:"bg-muted/25 border-l-4 border-primary/20",children:C.skus.map(N=>o.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 pl-8 hover:bg-muted/50",children:[o.jsx("div",{className:"col-span-6 flex items-center gap-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-sm",children:N.sku}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[N.color,"  ",N.material,"  $",N.unitPrice.toFixed(2),"/unit"]})]})}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:N.currentStock}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"units"})]}),o.jsx("div",{className:"col-span-2"}),o.jsxs("div",{className:"col-span-2 flex items-center justify-end gap-2",children:[o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"font-medium",children:["$",(N.currentStock*N.unitPrice).toFixed(2)]})}),o.jsxs(ur,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{size:"icon",variant:"ghost",children:o.jsx(Vo,{className:"h-4 w-4"})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsx(Ge,{onClick:()=>p(N),children:"Adjust Stock"}),N.assemblyStatus==="needs_assembly"&&o.jsx(Ge,{children:"View Assembly Task"})]})]})]})]},N.id))})]},C.productId)),g.length===0&&o.jsx("div",{className:"py-8 text-center text-muted-foreground",children:u==="all"?"No products found. Create products and SKUs to see inventory here.":`No products found with ${u==="assembled"?"assembled":"needs assembly"} status.`})]})]})})}),o.jsx(q7,{product:c?{id:c.id,name:c.sku,quantity:c.currentStock}:null,isOpen:a,onClose:()=>l(!1),onAdjust:y})]})};function wh(){return(wh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X2(e,t){if(e==null)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(s[n]=e[n]);return s}function Tg(e){var t=h.useRef(e),n=h.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var _c=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Vl=function(e){return"touches"in e},Rg=function(e){return e&&e.ownerDocument.defaultView||self},Nb=function(e,t,n){var r=e.getBoundingClientRect(),s=Vl(t)?function(i,a){for(var l=0;l<i.length;l++)if(i[l].identifier===a)return i[l];return i[0]}(t.touches,n):t;return{left:_c((s.pageX-(r.left+Rg(e).pageXOffset))/r.width),top:_c((s.pageY-(r.top+Rg(e).pageYOffset))/r.height)}},_b=function(e){!Vl(e)&&e.preventDefault()},Z2=F.memo(function(e){var t=e.onMove,n=e.onKey,r=X2(e,["onMove","onKey"]),s=h.useRef(null),i=Tg(t),a=Tg(n),l=h.useRef(null),c=h.useRef(!1),d=h.useMemo(function(){var p=function(v){_b(v),(Vl(v)?v.touches.length>0:v.buttons>0)&&s.current?i(Nb(s.current,v,l.current)):g(!1)},y=function(){return g(!1)};function g(v){var x=c.current,w=Rg(s.current),b=v?w.addEventListener:w.removeEventListener;b(x?"touchmove":"mousemove",p),b(x?"touchend":"mouseup",y)}return[function(v){var x=v.nativeEvent,w=s.current;if(w&&(_b(x),!function(j,_){return _&&!Vl(j)}(x,c.current)&&w)){if(Vl(x)){c.current=!0;var b=x.changedTouches||[];b.length&&(l.current=b[0].identifier)}w.focus(),i(Nb(w,x,l.current)),g(!0)}},function(v){var x=v.which||v.keyCode;x<37||x>40||(v.preventDefault(),a({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},g]},[a,i]),u=d[0],f=d[1],m=d[2];return h.useEffect(function(){return m},[m]),F.createElement("div",wh({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:s,onKeyDown:f,tabIndex:0,role:"slider"}))}),dy=function(e){return e.filter(Boolean).join(" ")},eP=function(e){var t=e.color,n=e.left,r=e.top,s=r===void 0?.5:r,i=dy(["react-colorful__pointer",e.className]);return F.createElement("div",{className:i,style:{top:100*s+"%",left:100*n+"%"}},F.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},St=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},G7=function(e){return Z7(Mg(e))},Mg=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?St(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?St(parseInt(e.substring(6,8),16)/255,2):1}},Y7=function(e){return X7(J7(e))},Q7=function(e){var t=e.s,n=e.v,r=e.a,s=(200-t)*n/100;return{h:St(e.h),s:St(s>0&&s<200?t*n/100/(s<=100?s:200-s)*100:0),l:St(s/2),a:St(r,2)}},Ag=function(e){var t=Q7(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},J7=function(e){var t=e.h,n=e.s,r=e.v,s=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),a=r*(1-n),l=r*(1-(t-i)*n),c=r*(1-(1-t+i)*n),d=i%6;return{r:St(255*[r,l,a,a,c,r][d]),g:St(255*[c,r,r,l,a,a][d]),b:St(255*[a,a,c,r,r,l][d]),a:St(s,2)}},Ud=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},X7=function(e){var t=e.r,n=e.g,r=e.b,s=e.a,i=s<1?Ud(St(255*s)):"";return"#"+Ud(t)+Ud(n)+Ud(r)+i},Z7=function(e){var t=e.r,n=e.g,r=e.b,s=e.a,i=Math.max(t,n,r),a=i-Math.min(t,n,r),l=a?i===t?(n-r)/a:i===n?2+(r-t)/a:4+(t-n)/a:0;return{h:St(60*(l<0?l+6:l)),s:St(i?a/i*100:0),v:St(i/255*100),a:s}},eW=F.memo(function(e){var t=e.hue,n=e.onChange,r=dy(["react-colorful__hue",e.className]);return F.createElement("div",{className:r},F.createElement(Z2,{onMove:function(s){n({h:360*s.left})},onKey:function(s){n({h:_c(t+360*s.left,0,360)})},"aria-label":"Hue","aria-valuenow":St(t),"aria-valuemax":"360","aria-valuemin":"0"},F.createElement(eP,{className:"react-colorful__hue-pointer",left:t/360,color:Ag({h:t,s:100,v:100,a:1})})))}),tW=F.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Ag({h:t.h,s:100,v:100,a:1})};return F.createElement("div",{className:"react-colorful__saturation",style:r},F.createElement(Z2,{onMove:function(s){n({s:100*s.left,v:100-100*s.top})},onKey:function(s){n({s:_c(t.s+100*s.left,0,100),v:_c(t.v-100*s.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+St(t.s)+"%, Brightness "+St(t.v)+"%"},F.createElement(eP,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Ag(t)})))}),tP=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},nW=function(e,t){return e.toLowerCase()===t.toLowerCase()||tP(Mg(e),Mg(t))};function rW(e,t,n){var r=Tg(n),s=h.useState(function(){return e.toHsva(t)}),i=s[0],a=s[1],l=h.useRef({color:t,hsva:i});h.useEffect(function(){if(!e.equal(t,l.current.color)){var d=e.toHsva(t);l.current={hsva:d,color:t},a(d)}},[t,e]),h.useEffect(function(){var d;tP(i,l.current.hsva)||e.equal(d=e.fromHsva(i),l.current.color)||(l.current={hsva:i,color:d},r(d))},[i,e,r]);var c=h.useCallback(function(d){a(function(u){return Object.assign({},u,d)})},[]);return[i,c]}var sW=typeof window<"u"?h.useLayoutEffect:h.useEffect,oW=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Sb=new Map,iW=function(e){sW(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Sb.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Sb.set(t,n);var r=oW();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},aW=function(e){var t=e.className,n=e.colorModel,r=e.color,s=r===void 0?n.defaultColor:r,i=e.onChange,a=X2(e,["className","colorModel","color","onChange"]),l=h.useRef(null);iW(l);var c=rW(n,s,i),d=c[0],u=c[1],f=dy(["react-colorful",t]);return F.createElement("div",wh({},a,{ref:l,className:f}),F.createElement(tW,{hsva:d,onChange:u}),F.createElement(eW,{hue:d.h,onChange:u,className:"react-colorful__last-control"}))},lW={defaultColor:"000",toHsva:G7,fromHsva:function(e){return Y7({h:e.h,s:e.s,v:e.v,a:1})},equal:nW},cW=function(e){return F.createElement(aW,wh({},e,{colorModel:lW}))};const dW=({isOpen:e,onClose:t})=>{const{colorPresets:n,loading:r,createColorPreset:s,updateColorPreset:i,deleteColorPreset:a,refetch:l}=go(),[c,d]=h.useState(null),[u,f]=h.useState({colorName:"",hexCode:"#ff0000",filamentType:""}),[m,p]=h.useState(!1),[y,g]=h.useState(null),v=["PLA","ABS","PETG","TPU","ASA","PC","Nylon","PVA","HIPS","Wood Fill","Metal Fill"];h.useEffect(()=>{},[e]);const x=async()=>{if(!u.colorName.trim()||!u.filamentType)return;let N=!1;c?N=await i(c.id,u.colorName,u.hexCode,u.filamentType):N=await s(u.colorName,u.hexCode,u.filamentType),N&&(f({colorName:"",hexCode:"#ff0000",filamentType:""}),d(null),p(!1))},w=N=>{d(N),f({colorName:N.color_name,hexCode:N.hex_code,filamentType:N.filament_type}),p(!0)},b=N=>{g(N)},j=async()=>{y&&(await a(y.id),g(null))},_=()=>{g(null)},C=()=>{f({colorName:"",hexCode:"#ff0000",filamentType:""}),d(null),p(!1)};return o.jsxs(o.Fragment,{children:[o.jsx(zt,{open:e,onOpenChange:t,children:o.jsxs(Et,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[o.jsx(Pt,{children:o.jsx(Tt,{children:"Manage Filament Colors & Types"})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Q,{children:"Current Color Presets"}),o.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto border rounded-md p-4",children:[n.map(N=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full border border-border",style:{backgroundColor:N.hex_code}}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-medium",children:N.color_name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:N.filament_type})]})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(L,{size:"sm",variant:"ghost",onClick:()=>w(N),className:"h-8 w-8 p-0",children:o.jsx(Ou,{className:"h-4 w-4"})}),o.jsx(L,{size:"sm",variant:"ghost",onClick:()=>b(N),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:o.jsx(eo,{className:"h-4 w-4"})})]})]},N.id)),n.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No color presets yet. Add one below."})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Q,{children:c?"Edit Color Preset":"Add New Color Preset"}),o.jsxs(L,{variant:"outline",size:"sm",onClick:()=>p(!m),children:[o.jsx(mA,{className:"h-4 w-4 mr-2"}),m?"Hide":"Show"," Color Picker"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"filament-type",children:"Filament Type"}),o.jsxs(Ye,{value:u.filamentType,onValueChange:N=>f({...u,filamentType:N}),children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select type"})}),o.jsx(Ve,{children:v.map(N=>o.jsx(fe,{value:N,children:N},N))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"color-name",children:"Color Name"}),o.jsx(le,{id:"color-name",value:u.colorName,onChange:N=>f({...u,colorName:N.target.value}),placeholder:"e.g. Metallic Silver"})]})]}),m&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(cW,{color:u.hexCode,onChange:N=>f({...u,hexCode:N})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-border",style:{backgroundColor:u.hexCode}}),o.jsx(le,{value:u.hexCode,onChange:N=>f({...u,hexCode:N.target.value}),className:"font-mono",placeholder:"#000000"})]})]})]})]}),o.jsxs(hr,{className:"gap-2",children:[o.jsx(L,{variant:"outline",onClick:t,children:"Close"}),c&&o.jsx(L,{variant:"outline",onClick:C,children:"Cancel Edit"}),o.jsx(L,{onClick:x,children:c?"Update Color":o.jsxs(o.Fragment,{children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Color"]})})]})]})}),o.jsx(zt,{open:!!y,onOpenChange:()=>g(null),children:o.jsxs(Et,{className:"sm:max-w-[400px]",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(Dc,{className:"h-5 w-5"}),"Delete Color Preset"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to permanently delete this color preset?"}),y&&o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[o.jsx("div",{className:"w-6 h-6 rounded-full border border-border",style:{backgroundColor:y.hex_code}}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:y.color_name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:y.filament_type})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This action cannot be undone. The color preset will be permanently removed from your account."})]}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:_,children:"Cancel"}),o.jsxs(L,{variant:"destructive",onClick:j,children:[o.jsx(eo,{className:"mr-2 h-4 w-4"}),"Delete Permanently"]})]})]})})]})},uW=ni("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),uy=h.forwardRef(({className:e,variant:t,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:Y(uW({variant:t}),e),...n}));uy.displayName="Alert";const fW=h.forwardRef(({className:e,...t},n)=>o.jsx("h5",{ref:n,className:Y("mb-1 font-medium leading-none tracking-tight",e),...t}));fW.displayName="AlertTitle";const fy=h.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Y("text-sm [&_p]:leading-relaxed",e),...t}));fy.displayName="AlertDescription";const hW=()=>{const{tenant:e,user:t,profile:n}=si(),{toast:r}=ke(),s=nx(),[i,a]=h.useState(!1),[l,c]=h.useState({email:"",fullName:"",role:"operator"}),{data:d,isLoading:u}=UI({queryKey:["tenant-users",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:x,error:w}=await G.from("profiles").select("*").eq("tenant_id",e.id).order("created_at",{ascending:!1});if(w)throw w;return x},enabled:!!e}),f=am({mutationFn:async x=>{if(!e)throw new Error("No tenant context");const{error:w}=await G.auth.admin.inviteUserByEmail(x.email,{data:{full_name:x.fullName,tenant_id:e.id},redirectTo:`${window.location.origin}/`});if(w)throw w;return x},onSuccess:()=>{r({title:"User Invited",description:"The user has been sent an invitation email."}),a(!1),c({email:"",fullName:"",role:"operator"}),s.invalidateQueries({queryKey:["tenant-users",e==null?void 0:e.id]})},onError:x=>{r({title:"Invitation Failed",description:x.message,variant:"destructive"})}}),m=am({mutationFn:async({userId:x,role:w})=>{if(!e)throw new Error("No tenant context");if((n==null?void 0:n.role)!=="admin")throw new Error("Only administrators can change user roles");const{error:b}=await G.from("profiles").update({role:w}).eq("id",x).eq("tenant_id",e.id);if(b)throw b},onSuccess:()=>{r({title:"User Updated",description:"User role has been updated successfully."}),s.invalidateQueries({queryKey:["tenant-users",e==null?void 0:e.id]})},onError:x=>{r({title:"Update Failed",description:x.message,variant:"destructive"})}}),p=am({mutationFn:async x=>{if(!e)throw new Error("No tenant context");const{error:w}=await G.from("profiles").delete().eq("id",x).eq("tenant_id",e.id);if(w)throw w;const{error:b}=await G.from("profiles").update({is_active:!1}).eq("id",x);if(b)throw b},onSuccess:()=>{r({title:"User Removed",description:"User has been removed from the organization."}),s.invalidateQueries({queryKey:["tenant-users",e==null?void 0:e.id]})},onError:x=>{r({title:"Delete Failed",description:x.message,variant:"destructive"})}});if(!e||!n||n.role!=="admin")return o.jsxs(uy,{children:[o.jsx(F0,{className:"h-4 w-4"}),o.jsx(fy,{children:"You need admin privileges to access user management."})]});const y=x=>{x.preventDefault(),f.mutate(l)},g=x=>{switch(x){case"admin":return o.jsx(F0,{className:"h-4 w-4 text-red-500"});case"operator":return o.jsx(Du,{className:"h-4 w-4 text-blue-500"});case"viewer":return o.jsx(bA,{className:"h-4 w-4 text-gray-500"});default:return o.jsx(Du,{className:"h-4 w-4"})}},v=x=>{switch(x){case"admin":return"destructive";case"operator":return"default";case"viewer":return"secondary";default:return"outline"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),o.jsxs("p",{className:"text-muted-foreground",children:["Manage users and permissions for ",e.company_name]})]}),o.jsxs(zt,{open:i,onOpenChange:a,children:[o.jsx(ek,{asChild:!0,children:o.jsxs(L,{children:[o.jsx(wA,{className:"mr-2 h-4 w-4"}),"Invite User"]})}),o.jsxs(Et,{children:[o.jsxs(Pt,{children:[o.jsx(Tt,{children:"Invite New User"}),o.jsxs(Qo,{children:["Send an invitation to a new user to join ",e.company_name,"."]})]}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"invite-name",children:"Full Name"}),o.jsx(le,{id:"invite-name",value:l.fullName,onChange:x=>c({...l,fullName:x.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"invite-email",children:"Email"}),o.jsx(le,{id:"invite-email",type:"email",value:l.email,onChange:x=>c({...l,email:x.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"invite-role",children:"Role"}),o.jsxs(Ye,{value:l.role,onValueChange:x=>c({...l,role:x}),children:[o.jsx(He,{children:o.jsx(Qe,{})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"viewer",children:"Viewer - Read only access"}),o.jsx(fe,{value:"operator",children:"Operator - Standard access"}),o.jsx(fe,{value:"admin",children:"Admin - Full access"})]})]})]}),o.jsx(hr,{children:o.jsx(L,{type:"submit",disabled:f.isPending,children:f.isPending?"Sending...":"Send Invitation"})})]})]})]})]}),o.jsx(Dr,{}),o.jsxs(se,{children:[o.jsxs(ce,{children:[o.jsx(de,{children:"Organization Members"}),o.jsxs(Da,{children:[(d==null?void 0:d.length)||0," members in ",e.company_name]})]}),o.jsx(ie,{children:u?o.jsx("div",{className:"text-center py-4",children:"Loading users..."}):o.jsxs(Ka,{children:[o.jsx(Ga,{children:o.jsxs(gr,{children:[o.jsx(Re,{children:"Name"}),o.jsx(Re,{children:"Email"}),o.jsx(Re,{children:"Role"}),o.jsx(Re,{children:"Status"}),o.jsx(Re,{children:"Joined"}),o.jsx(Re,{children:"Actions"})]})}),o.jsx(Ya,{children:d==null?void 0:d.map(x=>o.jsxs(gr,{children:[o.jsxs(Pe,{className:"font-medium",children:[x.first_name," ",x.last_name]}),o.jsx(Pe,{children:x.email}),o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[g(x.role||"operator"),o.jsx(re,{variant:v(x.role||"operator"),children:x.role||"operator"})]})}),o.jsx(Pe,{children:o.jsx(re,{variant:x.is_active?"success":"secondary",children:x.is_active?"Active":"Inactive"})}),o.jsx(Pe,{children:x.created_at?new Date(x.created_at).toLocaleDateString():"N/A"}),o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[x.id!==(t==null?void 0:t.id)&&o.jsxs(o.Fragment,{children:[o.jsxs(Ye,{value:x.role||"operator",onValueChange:w=>m.mutate({userId:x.id,role:w}),disabled:(n==null?void 0:n.role)!=="admin",children:[o.jsx(He,{className:"w-32",children:o.jsx(Qe,{})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"viewer",children:"Viewer"}),o.jsx(fe,{value:"operator",children:"Operator"}),o.jsx(fe,{value:"admin",children:"Admin"})]})]}),o.jsx(L,{variant:"destructive",size:"sm",onClick:()=>p.mutate(x.id),disabled:p.isPending||(n==null?void 0:n.role)!=="admin",children:o.jsx(eo,{className:"h-4 w-4"})})]}),x.id===(t==null?void 0:t.id)&&o.jsx(re,{variant:"outline",children:"You"})]})})]},x.id))})]})})]})]})},mW=()=>{const{toast:e}=ke(),{setTheme:t,theme:n}=zv(),{profile:r}=si(),[s,i]=h.useState(!1),a=()=>{e({title:"Settings Updated",description:"Your settings have been successfully updated."})};return o.jsxs("div",{className:"flex flex-col gap-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Configure your 3D printing management preferences."})]}),o.jsxs(Ja,{defaultValue:"general",className:"space-y-8",children:[o.jsxs(ai,{children:[o.jsx(mt,{value:"general",children:"General"}),(r==null?void 0:r.role)==="admin"&&o.jsx(mt,{value:"users",children:"User Management"})]}),o.jsxs($t,{value:"general",className:"space-y-8",children:[o.jsxs("div",{className:"rounded-lg border p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"General Settings"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Configure general preferences for your print farm."}),o.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"theme",children:"Theme"}),o.jsxs(Ye,{value:n||"system",onValueChange:l=>t(l),children:[o.jsx(He,{children:o.jsx(Qe,{})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"light",children:"Light"}),o.jsx(fe,{value:"dark",children:"Dark"}),o.jsx(fe,{value:"system",children:"System"})]})]})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{children:"Filament Colors & Types"}),o.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"Manage the filament types and colors available for selection across the system"}),o.jsx(L,{variant:"outline",onClick:()=>i(!0),className:"w-fit",children:"Manage Colors & Types"})]})})]})]}),o.jsxs("div",{className:"rounded-lg border p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Billing & Account"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Manage your subscription, billing, and account details."}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Account Details"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View past invoices, change billing address, or manage current subscriptions."}),o.jsx(L,{variant:"outline",className:"w-fit",children:"Open Billing Portal"})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Method"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Add new payment methods to your account."}),o.jsx(L,{variant:"outline",className:"w-fit",children:"Manage Payment Method"})]})})]}),o.jsx("div",{className:"mt-8 p-4 bg-muted/50 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium",children:"Current Printers"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Active printers on your plan"})]}),o.jsx("div",{className:"text-2xl font-bold",children:"1/"})]})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Subscription & Plans"}),o.jsxs("div",{className:"flex items-center justify-center mb-6",children:[o.jsx("span",{className:"text-sm font-medium mr-3",children:"Monthly"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"checkbox",id:"billing-toggle",className:"sr-only",onChange:()=>{}}),o.jsx("label",{htmlFor:"billing-toggle",className:"flex items-center cursor-pointer",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"block bg-muted w-14 h-8 rounded-full"}),o.jsx("div",{className:"dot absolute left-1 top-1 bg-background w-6 h-6 rounded-full transition"})]})})]}),o.jsx("span",{className:"text-sm font-medium ml-3",children:"Annual (Save up to 20%)"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"border rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Monthly Plan"}),o.jsxs("div",{className:"text-3xl font-bold mb-2",children:["$29.99",o.jsx("span",{className:"text-lg font-normal",children:"/printer/mo"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Billed monthly per printer"}),o.jsx(L,{className:"w-full",children:"Current Plan"})]})}),o.jsxs("div",{className:"border rounded-lg p-6 relative",children:[o.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:o.jsx("span",{className:"bg-primary text-primary-foreground px-3 py-1 rounded-full text-sm font-medium",children:"Save 20%"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Annual Plan"}),o.jsxs("div",{className:"text-3xl font-bold mb-2",children:["$23.99",o.jsx("span",{className:"text-lg font-normal",children:"/printer/mo"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Billed annually per printer"}),o.jsx(L,{variant:"outline",className:"w-full",children:"Switch to Annual"})]})]})]}),o.jsx("div",{className:"mt-8 p-4 border rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Extra Printers"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Add additional printers to your plan"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(L,{variant:"outline",size:"icon",children:"-"}),o.jsx("span",{className:"font-medium w-8 text-center",children:"0"}),o.jsx(L,{variant:"outline",size:"icon",children:"+"}),o.jsx("span",{className:"text-sm text-muted-foreground ml-4",children:"x $29.99/mo"})]})]})})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(L,{onClick:a,children:"Save Settings"})})]}),(r==null?void 0:r.role)==="admin"&&o.jsx($t,{value:"users",children:o.jsx(hW,{})})]}),o.jsx(dW,{isOpen:s,onClose:()=>i(!1)})]})},pW=()=>{const[e,t]=h.useState(""),[n,r]=h.useState("all"),s=Ia(),i=[{id:1,name:"SUNLU PLA+ Filament",brand:"SUNLU",material:"PLA+",color:"Black",price:25.99,weight:"1kg",diameter:"1.75mm",inStock:!0,image:"/placeholder.svg"},{id:2,name:"Bambu Lab ABS Filament",brand:"Bambu Lab",material:"ABS",color:"White",price:29.99,weight:"1kg",diameter:"1.75mm",inStock:!0,image:"/placeholder.svg"},{id:3,name:"eSUN PETG Filament",brand:"eSUN",material:"PETG",color:"Clear",price:32.99,weight:"1kg",diameter:"1.75mm",inStock:!1,image:"/placeholder.svg"},{id:4,name:"Hatchbox TPU Flexible",brand:"Hatchbox",material:"TPU",color:"Red",price:45.99,weight:"1kg",diameter:"1.75mm",inStock:!0,image:"/placeholder.svg"}],a=[{id:1,name:"Build Plate",brand:"Bambu Lab",type:"Print Surface",price:39.99,compatibility:"A1 Series",inStock:!0,image:"/placeholder.svg"},{id:2,name:"Nozzle Set (0.2-0.8mm)",brand:"Generic",type:"Printer Parts",price:24.99,compatibility:"Universal",inStock:!0,image:"/placeholder.svg"},{id:3,name:"PTFE Tube",brand:"Capricorn",type:"Printer Parts",price:12.99,compatibility:"Universal",inStock:!0,image:"/placeholder.svg"},{id:4,name:"Cleaning Kit",brand:"PrintClean",type:"Maintenance",price:18.99,compatibility:"Universal",inStock:!1,image:"/placeholder.svg"}],l=[{id:1,name:"Digital Calipers",brand:"Mitutoyo",type:"Measurement",price:89.99,accuracy:"0.02mm",inStock:!0,image:"/placeholder.svg"},{id:2,name:"Print Removal Tool Set",brand:"Craftsman",type:"Hand Tools",price:15.99,material:"Steel",inStock:!0,image:"/placeholder.svg"},{id:3,name:"Heat Gun",brand:"Wagner",type:"Power Tools",price:35.99,temperature:"300-1200F",inStock:!0,image:"/placeholder.svg"}],c=i.filter(p=>p.name.toLowerCase().includes(e.toLowerCase())&&(n==="all"||n==="filaments")),d=a.filter(p=>p.name.toLowerCase().includes(e.toLowerCase())&&(n==="all"||n==="accessories")),u=l.filter(p=>p.name.toLowerCase().includes(e.toLowerCase())&&(n==="all"||n==="tools")),f=[...c.map(p=>({...p,type:"filament",category:"filaments"})),...d.map(p=>({...p,type:"accessory",category:"accessories"})),...u.map(p=>({...p,type:"tool",category:"tools"}))].filter(p=>{const y=p.name.toLowerCase().includes(e.toLowerCase()),g=n==="all"||n===p.category;return y&&g}),m=({product:p})=>o.jsx("div",{className:"group cursor-pointer",onClick:()=>s(`/store/product/${p.id}?type=${p.type}`),children:o.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[o.jsxs("div",{className:"aspect-square bg-gray-50 flex items-center justify-center relative",children:[p.id===1&&o.jsx(re,{className:"absolute top-2 left-2 bg-red-500 hover:bg-red-500 text-white",children:"SALE"}),o.jsx("span",{className:"text-gray-400 text-sm",children:"Product Image"})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium text-gray-900 text-sm mb-1 line-clamp-2",children:p.name}),o.jsxs("p",{className:"text-gray-900 font-semibold",children:["$",p.price]})]})]})});return o.jsx("div",{className:"min-h-screen bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(EN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(le,{placeholder:"Search products...",value:e,onChange:p=>t(p.target.value),className:"pl-10 border-gray-200 focus:border-gray-300"})]}),o.jsxs(Ye,{value:n,onValueChange:r,children:[o.jsx(He,{className:"w-full sm:w-48 border-gray-200",children:o.jsx(Qe,{placeholder:"Category"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"all",children:"All Categories"}),o.jsx(fe,{value:"filaments",children:"Filaments"}),o.jsx(fe,{value:"accessories",children:"Accessories"}),o.jsx(fe,{value:"tools",children:"Tools"})]})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:f.map(p=>o.jsx(m,{product:p},`${p.type}-${p.id}`))})]})})};function gW({children:e,...t}){return o.jsx(iO,{...t,children:e})}const nP=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),{tenant:s}=Vn(),{toast:i}=ke(),a=h.useCallback(async()=>{if(!(s!=null&&s.id)){console.log("No tenant ID available, setting loading to false"),r(!1);return}try{r(!0),console.log("Fetching products for tenant:",s==null?void 0:s.id);const g=await fetch("/api/products-sync/");if(!g.ok)throw new Error(`Failed to fetch products: ${g.statusText}`);const v=await g.json();console.log("Products fetched successfully:",(v==null?void 0:v.length)||0,"products");const x=await fetch("/api/print-files-sync/");if(!x.ok)throw new Error(`Failed to fetch print files: ${x.statusText}`);const w=await x.json(),b=await fetch("/api/product-skus-sync/");if(!b.ok)throw new Error(`Failed to fetch product SKUs: ${b.statusText}`);const j=await b.json(),{data:_,error:C}=await G.from("product_components").select("*").eq("tenant_id",s==null?void 0:s.id);if(C)throw C;const N=(v||[]).map(k=>{const E=w.find(R=>R.id===k.print_file_id);return{...k,skus:(j||[]).filter(R=>R.product_id===k.id),components:(_||[]).filter(R=>R.product_id===k.id),print_file:E?{id:E.id,name:E.name}:null}});console.log("Final products with details:",N.length),t(N)}catch(g){console.error("Error fetching products:",g),(g==null?void 0:g.code)!=="PGRST116"&&(g==null?void 0:g.code)!=="42P01"&&i({title:"Error",description:"Failed to load products",variant:"destructive"})}finally{r(!1)}},[s==null?void 0:s.id,i]);h.useEffect(()=>{if(!(s!=null&&s.id))return;const g=G.channel("product-supabase-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"finished_goods",filter:`tenant_id=eq.${s.id}`},v=>{console.log("Finished goods stock updated:",v),a()}).on("postgres_changes",{event:"*",schema:"public",table:"product_components",filter:`tenant_id=eq.${s.id}`},v=>{console.log("Product components changed:",v),a()}).subscribe();return()=>{G.removeChannel(g)}},[s==null?void 0:s.id,a]);const l=h.useCallback(async g=>{if(!(s!=null&&s.id)){i({title:"Error",description:"No tenant context available",variant:"destructive"});return}try{const{components:v,skus:x,...w}=g;console.log("Adding product with data:",w);const b=await fetch("/api/products-sync/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...w})});if(!b.ok)throw new Error(`Failed to create product: ${b.statusText}`);const j=await b.json();if(!j.success)throw new Error(j.message||"Failed to create product");const _=j.product;if(console.log("Product created successfully:",_),v&&v.length>0){const C=v.map(k=>({product_id:_.id,component_name:k.component_name,component_type:k.component_type,quantity_required:k.quantity_required,notes:k.notes,tenant_id:s==null?void 0:s.id})),{error:N}=await G.from("product_components").insert(C);N&&console.error("Error saving components:",N)}if(x&&x.length>0)for(const C of x)try{const N=await fetch("/api/product-skus-sync/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_id:_.id,sku:C.sku,color:C.color,filament_type:C.filament_type,hex_code:C.hex_code,quantity:C.quantity,stock_level:C.stock_level||0,price:C.price})});if(!N.ok)throw new Error(`Failed to create SKU: ${N.statusText}`);const k=await N.json();if(!k.success)throw new Error(k.message||"Failed to create SKU")}catch(N){console.error("Error saving SKU:",N)}return i({title:"Success",description:"Product added successfully"}),await a(),_}catch(v){console.error("Error adding product:",v),i({title:"Error",description:"Failed to add product",variant:"destructive"})}},[s==null?void 0:s.id,i,a]),c=h.useCallback(async(g,v)=>{try{const{components:x,skus:w,...b}=v,j=e.find(M=>M.id===g),_=j==null?void 0:j.print_file_id,C=b.print_file_id,N=_!==C;console.log("Updating product:",{productId:g,oldPrintFileId:_,newPrintFileId:C,isPrintFileChanged:N});const k=await fetch(`/api/products-sync/${g}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!k.ok)throw new Error(`Failed to update product: ${k.statusText}`);const E=await k.json();if(!E.success)throw new Error(E.message||"Failed to update product");const R=E.product;if(N&&_)try{const M=await fetch(`/api/print-files-sync/${_}`,{method:"DELETE"});!M.ok||!(await M.json()).success?(console.error("Failed to delete old print file via API"),i({title:"Warning",description:"Old file may not have been cleaned up properly",variant:"default"})):console.log("Successfully deleted old print file:",_)}catch(M){console.error("Error during print file cleanup:",M)}if(x!==void 0&&(await G.from("product_components").delete().eq("product_id",g),x.length>0)){const M=x.map(A=>({product_id:g,component_name:A.component_name,component_type:A.component_type,quantity_required:A.quantity_required,notes:A.notes,tenant_id:s==null?void 0:s.id})),{error:O}=await G.from("product_components").insert(M);O&&console.error("Error updating components:",O)}if(w!=null&&Array.isArray(w)){console.log("Updating SKUs for product:",g,w);const{data:M,error:O}=await G.from("product_skus").select("*").eq("product_id",g);if(O)throw console.error("Error fetching current SKUs:",O),O;const A=new Map;M==null||M.forEach(S=>{A.set(S.id,S)});const I=new Map,W=[],U=[];w.forEach(S=>{if(S.id&&S.id.startsWith("temp-"))W.push({product_id:g,sku:S.sku,color:S.color,filament_type:S.filament_type,hex_code:S.hex_code,quantity:S.quantity,stock_level:S.stock_level||0,price:S.price,tenant_id:s==null?void 0:s.id});else if(S.id&&A.has(S.id)){const T=A.get(S.id);I.set(S.id,S),(T.sku!==S.sku||T.color!==S.color||T.filament_type!==S.filament_type||T.hex_code!==S.hex_code||T.quantity!==S.quantity||T.stock_level!==S.stock_level||T.price!==S.price)&&U.push({id:S.id,sku:S.sku,color:S.color,filament_type:S.filament_type,hex_code:S.hex_code,quantity:S.quantity,stock_level:S.stock_level||0,price:S.price})}});const D=[];if(M==null||M.forEach(S=>{!I.has(S.id)&&!w.some(T=>T.id===S.id)&&D.push(S.id)}),W.length>0){const{error:S}=await G.from("product_skus").insert(W);if(S)throw console.error("Error inserting new SKUs:",S),S}for(const S of U){const{id:T,...z}=S,{error:B}=await G.from("product_skus").update(z).eq("id",T);if(B)throw console.error("Error updating SKU:",B),B}if(D.length>0){const{error:S}=await G.from("product_skus").delete().in("id",D);if(S)throw console.error("Error deleting SKUs:",S),S}console.log("SKU operations completed:",{inserted:W.length,updated:U.length,deleted:D.length})}else console.log("No SKUs to update - preserving existing SKUs for product:",g);return i({title:"Success",description:"Product updated successfully"}),await a(),R}catch(x){throw console.error("Error updating product:",x),i({title:"Error",description:"Failed to update product",variant:"destructive"}),x}},[s==null?void 0:s.id,i,a,e]),d=h.useCallback(async g=>{try{const v=e.find(b=>b.id===g),x=await fetch(`/api/products-sync/${g}`,{method:"DELETE"});if(!x.ok)throw new Error(`Failed to delete product: ${x.statusText}`);const w=await x.json();if(!w.success)throw new Error(w.message||"Failed to delete product");if(v!=null&&v.print_file_id)try{const b=await fetch(`/api/print-files-sync/${v.print_file_id}`,{method:"DELETE"});(!b.ok||!(await b.json()).success)&&console.warn("Failed to delete associated print file via API")}catch(b){console.warn("Failed to delete associated print file:",b)}if(v!=null&&v.components&&v.components.length>0){const{error:b}=await G.from("product_components").delete().eq("product_id",g);b&&console.warn("Failed to delete product components:",b)}try{const b=window.location.hostname;let j;b==="192.168.4.45"||b==="localhost"||b==="127.0.0.1"?j=`${window.location.protocol}//${window.location.host}`:j="http://192.168.4.45:8080";const _=await fetch(`${j}/api/available-files/maintenance/cleanup-orphaned`,{method:"POST",headers:{"Content-Type":"application/json"}});if(_.ok){const C=await _.json();console.log("Cleanup successful:",C)}else console.warn("Failed to trigger cleanup:",_.status)}catch(b){console.warn("Error triggering cleanup:",b)}i({title:"Success",description:"Product, associated SKUs, and print file deleted successfully"}),await a()}catch(v){console.error("Error deleting product:",v),i({title:"Error",description:"Failed to delete product",variant:"destructive"})}},[i,a]),u=h.useCallback(async g=>{console.log("addSku called with:",g);try{const{data:v,error:x}=await G.from("product_skus").insert({...g,tenant_id:s==null?void 0:s.id}).select().single();if(x)throw console.error("Supabase error in addSku:",x),x;console.log("addSku successful, data:",v);const{error:w}=await G.from("finished_goods").insert({tenant_id:s==null?void 0:s.id,product_sku_id:v.id,sku:g.sku,color:g.color,material:g.filament_type||"PLA",current_stock:g.stock_level||0,assembly_status:"printed",unit_price:g.price||0,status:(g.stock_level||0)>0?(g.stock_level||0)<=5?"low_stock":"in_stock":"out_of_stock"});return w&&console.warn("Warning: Could not create finished_goods record:",w),i({title:"Success",description:"SKU added successfully"}),await a(),v}catch(v){throw console.error("Error adding SKU:",v),i({title:"Error",description:"Failed to add SKU",variant:"destructive"}),v}},[s==null?void 0:s.id,i,a]),f=h.useCallback(async(g,v)=>{console.log("updateSku called with:",g,v);try{const{data:x,error:w}=await G.from("product_skus").update(v).eq("id",g).select().single();if(w)throw console.error("Supabase error in updateSku:",w),w;return console.log("updateSku successful, data:",x),i({title:"Success",description:"SKU updated successfully"}),await a(),x}catch(x){throw console.error("Error updating SKU:",x),i({title:"Error",description:"Failed to update SKU",variant:"destructive"}),x}},[i,a]),m=h.useCallback(async g=>{try{const{error:v}=await G.from("product_skus").delete().eq("id",g);if(v)throw v;const{error:x}=await G.from("finished_goods").delete().eq("product_sku_id",g);x&&console.warn("Warning: Could not delete finished_goods record:",x),i({title:"Success",description:"SKU deleted successfully"}),await a()}catch(v){console.error("Error deleting SKU:",v),i({title:"Error",description:"Failed to delete SKU",variant:"destructive"})}},[i,a]),p=h.useCallback(async g=>{try{const{data:v,error:x}=await G.from("product_components").insert({...g,tenant_id:s==null?void 0:s.id}).select().single();if(x)throw x;return i({title:"Success",description:"Component added successfully"}),await a(),v}catch(v){console.error("Error adding component:",v),i({title:"Error",description:"Failed to add component",variant:"destructive"})}},[s==null?void 0:s.id,i,a]),y=h.useCallback(async g=>{try{const{error:v}=await G.from("product_components").delete().eq("id",g);if(v)throw v;i({title:"Success",description:"Component deleted successfully"}),await a()}catch(v){console.error("Error deleting component:",v),i({title:"Error",description:"Failed to delete component",variant:"destructive"})}},[i,a]);return h.useEffect(()=>{a()},[a]),{products:e,loading:n,addProduct:l,updateProduct:c,deleteProduct:d,addSku:u,updateSku:f,deleteSku:m,addComponent:p,deleteComponent:y,refetch:a}};var hy="Switch",[vW,MH]=Hn(hy),[xW,yW]=vW(hy),rP=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,p]=h.useState(null),y=ye(t,b=>p(b)),g=h.useRef(!1),v=m?u||!!m.closest("form"):!0,[x=!1,w]=zn({prop:s,defaultProp:i,onChange:d});return o.jsxs(xW,{scope:n,checked:x,disabled:l,children:[o.jsx(ae.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":iP(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:K(e.onClick,b=>{w(j=>!j),v&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),v&&o.jsx(wW,{control:m,bubbles:!g.current,name:r,value:c,checked:x,required:a,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});rP.displayName=hy;var sP="SwitchThumb",oP=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=yW(sP,n);return o.jsx(ae.span,{"data-state":iP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});oP.displayName=sP;var wW=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,i=h.useRef(null),a=sk(n),l=QN(t);return h.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&f){const m=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(m)}},[a,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function iP(e){return e?"checked":"unchecked"}var aP=rP,bW=oP;const Og=h.forwardRef(({className:e,...t},n)=>o.jsx(aP,{className:Y("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(bW,{className:Y("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Og.displayName=aP.displayName;function jW(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var my="ScrollArea",[lP,AH]=Hn(my),[NW,qn]=lP(my),cP=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=h.useState(null),[d,u]=h.useState(null),[f,m]=h.useState(null),[p,y]=h.useState(null),[g,v]=h.useState(null),[x,w]=h.useState(0),[b,j]=h.useState(0),[_,C]=h.useState(!1),[N,k]=h.useState(!1),E=ye(t,M=>c(M)),R=Ua(s);return o.jsx(NW,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:_,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:w,onCornerHeightChange:j,children:o.jsx(ae.div,{dir:R,...a,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});cP.displayName=my;var dP="ScrollAreaViewport",uP=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...a}=e,l=qn(dP,n),c=h.useRef(null),d=ye(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),o.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...a,asChild:s,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:AW({asChild:s,children:r},u=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});uP.displayName=dP;var zr="ScrollAreaScrollbar",py=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=qn(zr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return h.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(_W,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(SW,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(fP,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(gy,{...r,ref:t}):null});py.displayName=zr;var _W=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=qn(zr,e.__scopeScrollArea),[i,a]=h.useState(!1);return h.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),a(!0)},u=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Rt,{present:n||i,children:o.jsx(fP,{"data-state":i?"visible":"hidden",...r,ref:t})})}),SW=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=qn(zr,e.__scopeScrollArea),i=e.orientation==="horizontal",a=jh(()=>c("SCROLL_END"),100),[l,c]=jW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),h.useEffect(()=>{const d=s.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const p=d[u];f!==p&&(c("SCROLL"),a()),f=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,i,c,a]),o.jsx(Rt,{present:n||l!=="hidden",children:o.jsx(gy,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:K(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:K(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fP=h.forwardRef((e,t)=>{const n=qn(zr,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,a]=h.useState(!1),l=e.orientation==="horizontal",c=jh(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?d:u)}},10);return _a(n.viewport,c),_a(n.content,c),o.jsx(Rt,{present:r||i,children:o.jsx(gy,{"data-state":i?"visible":"hidden",...s,ref:t})})}),gy=h.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=qn(zr,e.__scopeScrollArea),i=h.useRef(null),a=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=vP(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function f(m,p){return RW(m,a.current,l,p)}return n==="horizontal"?o.jsx(CW,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,p=Cb(m,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?o.jsx(kW,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,p=Cb(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),CW=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=qn(zr,e.__scopeScrollArea),[a,l]=h.useState(),c=h.useRef(null),d=ye(t,c,i.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mP,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bh(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),yP(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ff(a.paddingLeft),paddingEnd:ff(a.paddingRight)}})}})}),kW=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=qn(zr,e.__scopeScrollArea),[a,l]=h.useState(),c=h.useRef(null),d=ye(t,c,i.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mP,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bh(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),yP(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ff(a.paddingTop),paddingEnd:ff(a.paddingBottom)}})}})}),[EW,hP]=lP(zr),mP=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,p=qn(zr,n),[y,g]=h.useState(null),v=ye(t,E=>g(E)),x=h.useRef(null),w=h.useRef(""),b=p.viewport,j=r.content-r.viewport,_=Ke(u),C=Ke(c),N=jh(f,10);function k(E){if(x.current){const R=E.clientX-x.current.left,M=E.clientY-x.current.top;d({x:R,y:M})}}return h.useEffect(()=>{const E=R=>{const M=R.target;(y==null?void 0:y.contains(M))&&_(R,j)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[b,y,j,_]),h.useEffect(C,[r,C]),_a(y,N),_a(p.content,N),o.jsx(EW,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:Ke(i),onThumbPointerUp:Ke(a),onThumbPositionChange:C,onThumbPointerDown:Ke(l),children:o.jsx(ae.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:K(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(E))}),onPointerMove:K(e.onPointerMove,k),onPointerUp:K(e.onPointerUp,E=>{const R=E.target;R.hasPointerCapture(E.pointerId)&&R.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),uf="ScrollAreaThumb",pP=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=hP(uf,e.__scopeScrollArea);return o.jsx(Rt,{present:n||s.hasThumb,children:o.jsx(PW,{ref:t,...r})})}),PW=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=qn(uf,n),a=hP(uf,n),{onThumbPositionChange:l}=a,c=ye(t,f=>a.onThumbChange(f)),d=h.useRef(),u=jh(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const p=MW(f,l);d.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,l]),o.jsx(ae.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:K(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,g=f.clientY-p.top;a.onThumbPointerDown({x:y,y:g})}),onPointerUp:K(e.onPointerUp,a.onThumbPointerUp)})});pP.displayName=uf;var vy="ScrollAreaCorner",gP=h.forwardRef((e,t)=>{const n=qn(vy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(TW,{...e,ref:t}):null});gP.displayName=vy;var TW=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=qn(vy,n),[i,a]=h.useState(0),[l,c]=h.useState(0),d=!!(i&&l);return _a(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),_a(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),a(u)}),d?o.jsx(ae.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ff(e){return e?parseInt(e,10):0}function vP(e,t){const n=e/t;return isNaN(n)?0:n}function bh(e){const t=vP(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function RW(e,t,n,r="ltr"){const s=bh(n),i=s/2,a=t||i,l=s-a,c=n.scrollbar.paddingStart+a,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return xP([c,d],f)(e)}function Cb(e,t,n="ltr"){const r=bh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],d=xg(e,c);return xP([0,a],[0,l])(d)}function xP(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function yP(e,t){return e>0&&e<t}var MW=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function jh(e,t){const n=Ke(e),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function _a(e,t){const n=Ke(t);pt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function AW(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=h.Children.only(r);return h.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var wP=cP,OW=uP,IW=gP;const bP=h.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(wP,{ref:r,className:Y("relative overflow-hidden",e),...n,children:[o.jsx(OW,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(jP,{}),o.jsx(IW,{})]}));bP.displayName=wP.displayName;const jP=h.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(py,{ref:r,orientation:t,className:Y("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(pP,{className:"relative flex-1 rounded-full bg-border"})}));jP.displayName=py.displayName;const DW=({productId:e,components:t,onComponentsChange:n,readOnly:r=!1,title:s="Assembly Components",icon:i="package",emptyMessage:a,showAddButton:l=!0})=>{const[c,d]=h.useState(t),[u,f]=h.useState(!1),[m,p]=h.useState(null),[y,g]=h.useState({component_name:"",quantity_required:1}),{toast:v}=ke(),{materials:x,loading:w}=S2();h.useEffect(()=>{d(t)},[t]);const b=x.filter(M=>M.category==="Components"),j=()=>{g({component_name:"",quantity_required:1}),f(!0)},_=()=>{if(!y.component_name.trim()){v({title:"Error",description:"Component name is required",variant:"destructive"});return}const M=[...c,y];d(M),n(M),f(!1),g({component_name:"",quantity_required:1})},C=M=>{const O=c.filter((A,I)=>I!==M);d(O),n(O)},N=M=>{p(M)},k=(M,O)=>{const A=c.map((I,W)=>W===M?O:I);d(A),n(A),p(null)},E=M=>b.find(A=>A.type===M),R=i==="package"?at:TN;return o.jsx(o.Fragment,{children:o.jsxs(se,{children:[o.jsx(ce,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(de,{className:"flex items-center gap-2",children:[o.jsx(R,{className:"h-5 w-5"}),s]}),!r&&l&&o.jsxs(L,{onClick:j,size:"sm",variant:"outline",children:[o.jsx(lr,{className:"h-4 w-4 mr-1"}),"Add Component"]})]})}),o.jsxs(ie,{className:"space-y-4",children:[c.length>0?o.jsx("div",{className:"space-y-2",children:c.map((M,O)=>{const A=E(M.component_name);return o.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:m===O&&!r?o.jsx(FW,{component:M,componentsInventory:b,onSave:I=>k(O,I),onCancel:()=>p(null)}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:M.component_name}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:["Qty Required: ",M.quantity_required]}),A&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{children:["In Stock: ",A.remaining_units||0]}),A.cost_per_unit&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{children:["$",A.cost_per_unit," each"]})]})]})]})]}),A&&o.jsxs("div",{className:"text-right mr-4",children:[o.jsx("div",{className:"font-medium",children:A.remaining_units||0}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"available"})]})]})}),!r&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{size:"sm",variant:"outline",onClick:()=>N(O),children:o.jsx(kN,{className:"h-4 w-4"})}),o.jsx(L,{size:"sm",variant:"outline",onClick:()=>C(O),children:o.jsx(eo,{className:"h-4 w-4"})})]})]})},O)})}):o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No components added yet"}),!r&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-component",children:"Component"}),o.jsxs(Ye,{value:y.component_name,onValueChange:M=>g({...y,component_name:M}),disabled:w,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select component"})}),o.jsx(Ve,{children:b.map(M=>o.jsx(fe,{value:M.type,children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsx("span",{children:M.type}),o.jsxs("span",{className:"text-muted-foreground text-xs ml-2",children:["(",M.remaining_units||0," available)"]})]})},M.id))})]})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-quantity",children:"Quantity Required"}),o.jsx(le,{id:"new-quantity",type:"number",value:y.quantity_required,onChange:M=>g({...y,quantity_required:parseInt(M.target.value)||1}),min:"1"})]})]}),o.jsxs(L,{onClick:_,disabled:!y.component_name||w,className:"w-full",children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Component"]})]})]})]})})},FW=({component:e,componentsInventory:t,onSave:n,onCancel:r})=>{const[s,i]=h.useState(e);return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"space-y-3 mb-3",children:o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-component",className:"text-xs font-medium text-muted-foreground",children:"Component"}),o.jsxs(Ye,{value:s.component_name,onValueChange:a=>i({...s,component_name:a}),children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select component"})}),o.jsx(Ve,{children:t.map(a=>o.jsx(fe,{value:a.type,children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsx("span",{children:a.type}),o.jsxs("span",{className:"text-muted-foreground text-xs ml-2",children:["(",a.remaining_units||0," available)"]})]})},a.id))})]})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-quantity",className:"text-xs font-medium text-muted-foreground",children:"Quantity Required"}),o.jsx(le,{id:"edit-quantity",type:"number",value:s.quantity_required,onChange:a=>i({...s,quantity_required:parseInt(a.target.value)||1}),min:"1"})]})]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{size:"sm",onClick:()=>n(s),disabled:!s.component_name,children:o.jsx(cc,{className:"h-4 w-4"})}),o.jsx(L,{size:"sm",variant:"outline",onClick:r,children:"Cancel"})]})]})},LW=({productId:e,skus:t,onSkusChange:n,readOnly:r=!1})=>{Vn();const{colorPresets:s,loading:i}=go();nP(),ke();const[a,l]=h.useState([]),[c,d]=h.useState(null),[u,f]=h.useState({sku:"",color:"",quantity:1,stock_level:0,price:0});h.useEffect(()=>{console.log(" useEffect triggered - productId:",e,"skus.length:",t.length);const v=t.map(x=>({id:x.id,sku:x.sku,color:x.color,filament_type:x.filament_type,hex_code:x.hex_code,quantity:x.quantity,stock_level:x.stock_level,price:x.price||0,current_stock:x.stock_level||0}));l(v)},[t]),h.useEffect(()=>{e===void 0&&(d(null),f({sku:"",color:"",filament_type:"",hex_code:"",quantity:1,stock_level:0,price:0}))},[e]);const m=()=>{if(!u.sku||!u.color)return;console.log("Adding SKU, current localSkus:",a);const v={id:`temp-${Date.now()}`,sku:u.sku,color:u.color,filament_type:u.filament_type||"",hex_code:u.hex_code||"",quantity:u.quantity,stock_level:u.stock_level,price:u.price,current_stock:u.stock_level};console.log("Adding temp SKU:",v);const x=[...a,v];console.log("Updated SKUs array:",x),l(x),n&&n(x),f({sku:"",color:"",filament_type:"",hex_code:"",quantity:1,stock_level:0,price:0})},p=v=>{d(v)},y=(v,x)=>{const w=a.map((b,j)=>j===v?{...x,current_stock:x.stock_level}:b);l(w),n&&n(w),d(null)},g=v=>{const x=a.filter((w,b)=>b!==v);l(x),n&&n(x)};return o.jsxs(se,{children:[o.jsx(ce,{children:o.jsxs(de,{className:"flex items-center gap-2",children:[o.jsx(TN,{className:"h-5 w-5"}),"SKUs"]})}),o.jsxs(ie,{className:"space-y-4",children:[a.length>0?o.jsx("div",{className:"space-y-2",children:a.map((v,x)=>{var w;return o.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:c===x&&!r?o.jsx($W,{sku:v,onSave:b=>y(x,b),onCancel:()=>d(null)}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:v.sku}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(fn,{color:v.hex_code||v.color,filamentType:v.filament_type,size:"sm"}),o.jsxs("span",{children:[v.color,v.filament_type?` (${v.filament_type})`:""]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Qty per Print: ",v.quantity]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["$",(w=v.price)==null?void 0:w.toFixed(2)]})]})]}),o.jsxs("div",{className:"text-right mr-4",children:[o.jsx("div",{className:"font-medium",children:v.stock_level||0}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"stock level"})]})]})}),!r&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{size:"sm",variant:"outline",onClick:()=>p(x),children:o.jsx(kN,{className:"h-4 w-4"})}),o.jsx(L,{size:"sm",variant:"outline",onClick:()=>g(x),children:o.jsx(eo,{className:"h-4 w-4"})})]})]})},x)})}):o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No SKUs added yet"}),!r&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-sku",children:"SKU"}),o.jsx(le,{id:"new-sku",value:u.sku,onChange:v=>f({...u,sku:v.target.value}),placeholder:"e.g., PC-RED-001"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-filament",children:"Filament"}),o.jsxs(Ye,{value:u.color?`${u.color}|${u.filament_type}`:"",onValueChange:v=>{const[x,w]=v.split("|"),b=s.find(j=>j.color_name===x&&j.filament_type===w);f({...u,color:x,filament_type:w,hex_code:(b==null?void 0:b.hex_code)||""})},disabled:i,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select filament"})}),o.jsx(Ve,{children:s.map(v=>o.jsx(fe,{value:`${v.color_name}|${v.filament_type}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:v.hex_code,size:"sm"}),o.jsxs("span",{children:[v.color_name," (",v.filament_type,")"]})]})},`${v.color_name}-${v.filament_type}`))})]})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-quantity",children:"Quantity per Print"}),o.jsx(le,{id:"new-quantity",type:"number",value:u.quantity,onChange:v=>f({...u,quantity:parseInt(v.target.value)||1}),min:"1"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-stock",children:"Stock Level"}),o.jsx(le,{id:"new-stock",type:"number",value:u.stock_level,onChange:v=>f({...u,stock_level:parseInt(v.target.value)||0}),min:"0"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-price",children:"Price ($)"}),o.jsx(le,{id:"new-price",type:"number",step:"0.01",value:u.price,onChange:v=>f({...u,price:parseFloat(v.target.value)||0}),min:"0"})]})]}),o.jsxs(L,{onClick:m,disabled:!u.sku||!u.color,className:"w-full",children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add SKU"]})]})]})]})},$W=({sku:e,onSave:t,onCancel:n})=>{const[r,s]=h.useState(e),{colorPresets:i,loading:a}=go();return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"space-y-3 mb-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-sku",className:"text-xs font-medium text-muted-foreground",children:"SKU"}),o.jsx(le,{id:"edit-sku",value:r.sku,onChange:l=>s({...r,sku:l.target.value}),placeholder:"Enter SKU"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-filament",className:"text-xs font-medium text-muted-foreground",children:"Filament"}),o.jsxs(Ye,{value:r.color&&r.filament_type?`${r.color}|${r.filament_type}`:"",onValueChange:l=>{const[c,d]=l.split("|"),u=i.find(f=>f.color_name===c&&f.filament_type===d);s({...r,color:c,filament_type:d,hex_code:(u==null?void 0:u.hex_code)||""})},disabled:a,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select filament"})}),o.jsx(Ve,{children:i.map(l=>o.jsx(fe,{value:`${l.color_name}|${l.filament_type}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:l.hex_code,size:"sm"}),o.jsxs("span",{children:[l.color_name," (",l.filament_type,")"]})]})},`${l.color_name}-${l.filament_type}`))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-quantity",className:"text-xs font-medium text-muted-foreground",children:"Quantity per Print"}),o.jsx(le,{id:"edit-quantity",type:"number",value:r.quantity,onChange:l=>s({...r,quantity:parseInt(l.target.value)||1}),min:"1"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-stock",className:"text-xs font-medium text-muted-foreground",children:"Stock Level"}),o.jsx(le,{id:"edit-stock",type:"number",value:r.stock_level,onChange:l=>s({...r,stock_level:parseInt(l.target.value)||0}),min:"0"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-price",className:"text-xs font-medium text-muted-foreground",children:"Price ($)"}),o.jsx(le,{id:"edit-price",type:"number",step:"0.01",value:r.price,onChange:l=>s({...r,price:parseFloat(l.target.value)||0}),min:"0"})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{size:"sm",onClick:()=>t(r),children:"Save"}),o.jsx(L,{size:"sm",variant:"outline",onClick:n,children:"Cancel"})]})]})};class UW{constructor(){xt(this,"PI_BASE_URL");const t=window.location.hostname;t==="192.168.4.45"||t==="localhost"||t==="127.0.0.1"?this.PI_BASE_URL=`${window.location.protocol}//${window.location.host}`:this.PI_BASE_URL="http://192.168.4.45:8080",console.log(`[PiFileService] Initialized with base URL: ${this.PI_BASE_URL}`)}async uploadFile(t,n){const r=[".3mf",".stl",".gcode",".obj",".amf"],s=t.name.toLowerCase(),i=s.substring(s.lastIndexOf("."));if(!r.includes(i))throw console.error(`[PiFileService] Invalid file type: ${i}`),new Error(`Invalid file type. Supported formats: ${r.join(", ")}`);const a=100*1024*1024;if(t.size>a)throw console.error(`[PiFileService] File too large: ${t.size} bytes`),new Error(`File size exceeds 100MB limit. Current size: ${(t.size/(1024*1024)).toFixed(2)}MB`);const l=new FormData;if(l.append("file",t),console.log(`[PiFileService] Attempting to upload file to Pi: ${n}, size: ${t.size} bytes, type: ${i}`),console.log(`[PiFileService] Using URL: ${this.PI_BASE_URL}/api/file-operations/upload/${n}`),!await this.checkConnection())throw console.warn("[PiFileService] Pi is not reachable - file will be synced later from Supabase"),new Error("Cannot reach Pi API - please check network connection");try{const d=await fetch(`${this.PI_BASE_URL}/api/file-operations/upload/${n}`,{method:"POST",body:l,headers:{}});if(console.log(`[PiFileService] Upload response status: ${d.status} ${d.statusText}`),!d.ok){const f=await d.text().catch(()=>"Unable to read error response");throw console.error(`[PiFileService] Upload failed with status ${d.status}:`,f),d.status===400&&f.includes("File must be")?new Error("Invalid file format for Pi storage"):d.status===413?new Error("File too large for Pi storage"):d.status>=500?new Error("Pi server error - file saved to cloud, will sync later"):new Error(`Pi upload failed (${d.status}) - file saved to cloud`)}const u=await d.json();if(console.log("[PiFileService] Upload result:",u),!u.success)throw new Error(`Pi upload failed: ${u.message||"Unknown error"}`);return console.log(`[PiFileService] Upload successful, file path: ${u.file_path}`),u.file_path||""}catch(d){throw console.error("[PiFileService] Upload error:",d),d instanceof TypeError&&d.message.includes("fetch")?new Error("Unable to connect to Pi - check network connection and Pi availability"):d}}async replaceFile(t,n){return this.uploadFile(t,n)}async deleteFile(t){try{const n=await fetch(`${this.PI_BASE_URL}/api/file-operations/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`Pi delete failed: ${n.status} ${n.statusText}`);const r=await n.json();if(!r.success)throw new Error(`Pi delete failed: ${r.message||"Unknown error"}`)}catch(n){throw n instanceof TypeError&&n.message.includes("fetch")?new Error("Unable to connect to Pi - network error"):n}}async checkConnection(){try{return(await fetch(`${this.PI_BASE_URL}/health`,{method:"GET",signal:AbortSignal.timeout(5e3)})).ok}catch{return!1}}}const zd=new UW;class zW{constructor(){xt(this,"tempFiles",new Map);xt(this,"tempPrintFiles",new Map)}generateTempId(){return`temp_${Date.now()}_${Math.random().toString(36).substring(2)}`}addTempImage(t,n){const r={id:this.generateTempId(),file:t,name:t.name,type:"image",url:URL.createObjectURL(t),originalUrl:n};return this.tempFiles.set(r.id,r),r}addTempPrintFile(t,n,r){const s={id:this.generateTempId(),name:n,notes:r,file:t,url:URL.createObjectURL(t)};return this.tempPrintFiles.set(s.id,s),s}getTempFile(t){return this.tempFiles.get(t)}getTempPrintFile(t){return this.tempPrintFiles.get(t)}getAllTempFiles(){return Array.from(this.tempFiles.values())}getAllTempPrintFiles(){return Array.from(this.tempPrintFiles.values())}removeTempFile(t){var r;const n=this.tempFiles.get(t);(r=n==null?void 0:n.url)!=null&&r.startsWith("blob:")&&URL.revokeObjectURL(n.url),this.tempFiles.delete(t)}removeTempPrintFile(t){var r;const n=this.tempPrintFiles.get(t);(r=n==null?void 0:n.url)!=null&&r.startsWith("blob:")&&URL.revokeObjectURL(n.url),this.tempPrintFiles.delete(t)}clearAll(){this.tempFiles.forEach(t=>{var n;(n=t.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(t.url)}),this.tempPrintFiles.forEach(t=>{var n;(n=t.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(t.url)}),this.tempFiles.clear(),this.tempPrintFiles.clear()}async processTempImages(t){const n=new Map;for(const[r,s]of this.tempFiles)if(s.type==="image")try{const i=await this.uploadImageToStorage(s.file,t);n.set(r,i),s.originalUrl&&await this.deleteFromStorage(s.originalUrl,"inventory-photos")}catch(i){throw console.error(`Failed to upload temp image ${r}:`,i),new Error(`Failed to upload image: ${s.name}`)}return n}async processTempPrintFiles(t){var r,s,i,a,l;const n=new Map;for(const[c,d]of this.tempPrintFiles)try{const u=await this.uploadPrintFileToStorage(d.file,t),f=await this.createPrintFileRecord(d,u,t);try{console.log(`[TempFileManager] Attempting Pi upload for print_file_id: ${f}`);const m=await zd.uploadFile(d.file,f);console.log(`[TempFileManager] Successfully uploaded file to Pi: ${m}`)}catch(m){console.warn(`[TempFileManager] Pi upload failed for print_file_id ${f}:`,m);const p=(m==null?void 0:m.message)||"";p.includes("network")||p.includes("connect")||p.includes("reach")?console.warn("[TempFileManager] Pi appears to be offline - file will sync later via Supabase"):p.includes("File must be")?console.warn("[TempFileManager] File format issue - file saved to Supabase, manual sync may be needed"):console.warn("[TempFileManager] Unexpected Pi upload error - file saved to Supabase")}n.set(c,f)}catch(u){throw console.error(`Failed to upload temp print file ${c}:`,u),(u==null?void 0:u.code)==="23505"||(r=u==null?void 0:u.message)!=null&&r.includes("duplicate")||(s=u==null?void 0:u.message)!=null&&s.includes("unique")?new Error(`A file named "${d.name}" already exists. The system will automatically rename it and retry.`):(i=u==null?void 0:u.message)!=null&&i.includes("storage")?new Error(`Storage error: Unable to save ${d.name}. Please check your connection and try again.`):(a=u==null?void 0:u.message)!=null&&a.includes("size")?new Error(`File too large: ${d.name} exceeds the maximum file size limit.`):(l=u==null?void 0:u.message)!=null&&l.includes("Failed to create print file record")?new Error(`Unable to save file "${d.name}" after multiple attempts. Please try with a different file name.`):(console.error("Actual error details:",u),new Error(`Failed to save print file: ${d.name}. Error: ${(u==null?void 0:u.message)||"Unknown error"}`))}return n}async uploadImageToStorage(t,n){const{default:r}=await Fa(async()=>{const{default:u}=await import("./browser-image-compression-CBVwGt6Q.js");return{default:u}},[]),s=await r(t,{maxSizeMB:.1,maxWidthOrHeight:800,useWebWorker:!0,initialQuality:.7}),i=t.name.split(".").pop(),a=`${n}/${Date.now()}-${Math.random().toString(36).substring(2)}.${i}`,{data:l,error:c}=await G.storage.from("inventory-photos").upload(a,s,{cacheControl:"3600",upsert:!1});if(c)throw c;const{data:{publicUrl:d}}=G.storage.from("inventory-photos").getPublicUrl(l.path);return d}async uploadPrintFileToStorage(t,n){const r=`${n}/print-files/${Date.now()}-${t.name}`,{data:s,error:i}=await G.storage.from("print-files").upload(r,t,{cacheControl:"3600",upsert:!1});if(i)throw i;const{data:{publicUrl:a}}=G.storage.from("print-files").getPublicUrl(s.path);return a}async createPrintFileRecord(t,n,r){var d,u;let s=t.name,i=0,a=null,l=null;for(;i<3&&!a;)try{const{data:f,error:m}=await G.from("print_files").insert({name:s,file_size_bytes:t.file.size,number_of_units:1,tenant_id:r}).select().single();if(m){if(m.code==="23505"||(d=m.message)!=null&&d.includes("duplicate")||(u=m.message)!=null&&u.includes("unique")){i++;const p=Date.now(),y=Math.random().toString(36).substring(2,6),g=t.name.lastIndexOf(".");if(g>0){const v=t.name.substring(0,g),x=t.name.substring(g);s=`${v}_${p}_${y}${x}`}else s=`${t.name}_${p}_${y}`;console.log(`[TempFileManager] File name conflict detected. Trying with unique name: ${s}`),l=m;continue}throw m}a=f}catch(f){throw i>=2&&l||f}if(!a)throw new Error(`Failed to create print file record after ${i} attempts`);const{error:c}=await G.from("print_file_versions").insert({print_file_id:a.id,version_number:1,file_url:n,notes:t.notes||"Initial upload",is_current_version:!0});return c&&console.warn("Failed to create version record:",c),a.id}async deleteFromStorage(t,n){try{if(t.includes(n)){const r=t.split("/").slice(-2).join("/");await G.storage.from(n).remove([r])}}catch(r){console.warn("Failed to delete old file from storage:",r)}}async replaceExistingPrintFile(t,n,r){try{const s=await this.uploadPrintFileToStorage(n,r),{error:i}=await G.from("print_files").update({file_size_bytes:n.size,updated_at:new Date().toISOString()}).eq("id",t);if(i)throw i;const{error:a}=await G.from("print_file_versions").insert({print_file_id:t,version_number:Date.now(),file_url:s,notes:"File replaced",is_current_version:!0});a&&console.warn("Failed to create version record:",a);try{await zd.replaceFile(n,t),console.log(`Successfully replaced file on Pi for print_file_id: ${t}`)}catch(l){console.warn(`Pi file replacement failed for print_file_id ${t}:`,l),console.warn("File will be available via Supabase sync later")}return s}catch(s){throw console.error(`Failed to replace print file ${t}:`,s),new Error(`Failed to replace print file: ${s instanceof Error?s.message:"Unknown error"}`)}}async replaceProductPrintFile(t,n,r){try{if(t)try{await this.deleteExistingPrintFile(t),console.log(`Deleted old print file: ${t}`)}catch(l){console.warn(`Failed to delete old print file ${t}:`,l)}const s={id:this.generateTempId(),name:n.name,notes:"Product file replacement",file:n,url:URL.createObjectURL(n)},i=await this.uploadPrintFileToStorage(n,r),a=await this.createPrintFileRecord(s,i,r);try{await zd.uploadFile(n,a),console.log(`Successfully uploaded replacement file to Pi: ${a}`)}catch(l){console.warn(`Pi upload failed for replacement file ${a}:`,l)}return a}catch(s){throw console.error("Failed to replace product print file:",s),new Error(`Failed to replace product file: ${s instanceof Error?s.message:"Unknown error"}`)}}async deleteExistingPrintFile(t){try{const{data:n,error:r}=await G.from("print_files").select("*").eq("id",t).single();if(r)throw r;try{await zd.deleteFile(t),console.log(`Successfully deleted file from Pi for print_file_id: ${t}`)}catch(i){console.warn(`Pi file deletion failed for print_file_id ${t}:`,i)}const{error:s}=await G.from("print_files").delete().eq("id",t);if(s)throw s}catch(n){throw console.error(`Failed to delete print file ${t}:`,n),new Error("Failed to delete print file")}}async cleanupUploadedFiles(t,n){const r=n==="image"?"inventory-photos":"print-files";for(const s of t.values())if(n==="image")await this.deleteFromStorage(s,r);else try{const{error:i}=await G.from("print_files").delete().eq("id",s);i&&console.warn("Failed to cleanup print file record:",i)}catch(i){console.warn("Failed to cleanup print file:",i)}}}const Lt=new zW,BW=({currentImageUrl:e,onImageChange:t,label:n="Image",value:r})=>{const[s,i]=h.useState(e||null),[a,l]=h.useState(null),c=h.useRef(null),{toast:d}=ke();h.useEffect(()=>{if(r!=null&&r.startsWith("temp_")){const p=Lt.getTempFile(r);p&&(i(p.url||null),l(r))}else i(e||null),l(null)},[e,r]),h.useEffect(()=>()=>{a&&Lt.removeTempFile(a)},[]);const u=p=>{if(!["image/jpeg","image/jpg","image/png"].includes(p.type))throw new Error("Only JPG, JPEG, and PNG files are allowed");if(p.size>10*1024*1024)throw new Error("File size must be less than 10MB")},f=async p=>{var g;const y=(g=p.target.files)==null?void 0:g[0];if(y)try{u(y),a&&Lt.removeTempFile(a);const v=Lt.addTempImage(y,e);i(v.url||null),l(v.id),t(v.id,v.url||null)}catch(v){console.error("File selection error:",v),d({title:"Invalid File",description:v instanceof Error?v.message:"Failed to select image",variant:"destructive"})}finally{c.current&&(c.current.value="")}},m=()=>{a&&(Lt.removeTempFile(a),l(null)),i(null),t(null,null)};return o.jsxs("div",{className:"space-y-4",children:[o.jsx(Q,{children:n}),s?o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:s,alt:"Preview",className:"w-full h-24 object-cover rounded-md border"}),o.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-md flex items-center justify-center gap-2",children:[o.jsxs(L,{size:"sm",variant:"secondary",onClick:()=>{var p;return(p=c.current)==null?void 0:p.click()},children:[o.jsx(Ip,{className:"h-4 w-4 mr-1"}),"Replace"]}),o.jsxs(L,{size:"sm",variant:"destructive",onClick:m,children:[o.jsx(no,{className:"h-4 w-4 mr-1"}),"Remove"]})]})]}):o.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-md p-4 text-center hover:border-muted-foreground/50 transition-colors cursor-pointer",onClick:()=>{var p;return(p=c.current)==null?void 0:p.click()},children:[o.jsx(oA,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Click to upload an image"}),o.jsx("p",{className:"text-xs text-muted-foreground/75",children:"JPG, JPEG, PNG up to 10MB"}),o.jsxs(L,{size:"sm",variant:"outline",className:"mt-2 h-7 text-xs",children:[o.jsx(Ip,{className:"h-3 w-3 mr-1"}),"Select Image"]})]}),o.jsx(le,{ref:c,type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:f,className:"hidden"})]})},WW=({currentPrintFileId:e,currentPrintFileName:t,onPrintFileChange:n,value:r,allowReplace:s=!1,allowDelete:i=!1,onFileReplaced:a,onFileDeleted:l})=>{var O;const[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,p]=h.useState(!1),[y,g]=h.useState(null),v=h.useRef(null),{toast:x}=ke(),{tenantId:w}=Vn(),b=r==null?void 0:r.startsWith("temp_"),j=b?(O=Lt.getTempPrintFile(r))==null?void 0:O.name:t,_=A=>{var U;const I=[".stl",".gcode",".3mf",".obj",".amf"],W="."+((U=A.name.split(".").pop())==null?void 0:U.toLowerCase());if(!I.includes(W))throw new Error("Only STL, GCODE, 3MF, OBJ, and AMF files are allowed");if(A.size>100*1024*1024)throw new Error("File size must be less than 100MB")},C=async A=>{var W;const I=(W=A.target.files)==null?void 0:W[0];if(I)try{d(!0),_(I),b&&r&&Lt.removeTempPrintFile(r);const U=I.name.replace(/\.[^/.]+$/,""),D=Lt.addTempPrintFile(I,U,"Uploaded file");g(D),n(D.id,D.name)}catch(U){console.error("File selection error:",U),x({title:"Invalid File",description:U instanceof Error?U.message:"Failed to select file",variant:"destructive"})}finally{d(!1),v.current&&(v.current.value="")}},N=()=>{b&&r&&Lt.removeTempPrintFile(r),g(null),n(null,null)},k=async A=>{var W;const I=(W=A.target.files)==null?void 0:W[0];if(!(!I||!e||!w))try{f(!0),_(I),await Lt.replaceExistingPrintFile(e,I,w),x({title:"File Replaced",description:"Print file has been successfully replaced",variant:"default"}),a&&a(e)}catch(U){console.error("File replacement error:",U),x({title:"Replacement Failed",description:U instanceof Error?U.message:"Failed to replace file",variant:"destructive"})}finally{f(!1),v.current&&(v.current.value="")}},E=async()=>{if(e)try{p(!0),await Lt.deleteExistingPrintFile(e),x({title:"File Deleted",description:"Print file has been successfully deleted",variant:"default"}),l&&l(e)}catch(A){console.error("File deletion error:",A),x({title:"Deletion Failed",description:A instanceof Error?A.message:"Failed to delete file",variant:"destructive"})}finally{p(!1)}},R=b||e,M=c||u||m;return o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"print_file",children:"Print File"}),o.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-md p-3 text-center",children:[o.jsx("input",{ref:v,type:"file",accept:".stl,.gcode,.3mf,.obj,.amf",onChange:C,className:"hidden",id:"print-file-upload",disabled:M}),o.jsx("input",{type:"file",accept:".stl,.gcode,.3mf,.obj,.amf",onChange:k,className:"hidden",id:"print-file-replace",disabled:M}),M?o.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 text-blue-600",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsxs("span",{className:"text-sm",children:[c&&"Processing...",u&&"Replacing file...",m&&"Deleting file..."]})]}):R?o.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 text-green-600",children:[o.jsx(Ff,{className:"h-6 w-6"}),o.jsx("span",{className:"text-sm font-medium",children:b?"File Ready for Upload":"File Attached"}),o.jsx("span",{className:"text-xs text-green-700",children:j||"File attached"}),o.jsx("div",{className:"flex gap-2 mt-1",children:b?o.jsxs(o.Fragment,{children:[o.jsx(L,{size:"sm",variant:"outline",onClick:()=>{var A;return(A=v.current)==null?void 0:A.click()},disabled:M,children:"Replace File"}),o.jsx(L,{size:"sm",variant:"destructive",onClick:N,disabled:M,children:o.jsx(no,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[s&&o.jsxs(L,{size:"sm",variant:"outline",onClick:()=>{var A;return(A=document.getElementById("print-file-replace"))==null?void 0:A.click()},disabled:M,children:[o.jsx(gA,{className:"h-4 w-4 mr-1"}),"Replace"]}),i&&o.jsxs(L,{size:"sm",variant:"destructive",onClick:E,disabled:M,children:[o.jsx(eo,{className:"h-4 w-4 mr-1"}),"Delete"]}),!s&&!i&&o.jsx(L,{size:"sm",variant:"outline",onClick:()=>{var A;return(A=v.current)==null?void 0:A.click()},disabled:M,children:"Replace File"})]})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ip,{className:"h-6 w-6 mx-auto text-muted-foreground mb-1"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"STL, GCODE, 3MF, OBJ, AMF files"}),o.jsx(L,{size:"sm",variant:"outline",onClick:()=>{var A;return(A=v.current)==null?void 0:A.click()},disabled:M,children:"Choose File"})]})]})]})},HW=({product:e,isOpen:t,onClose:n,onSave:r,onDelete:s,initialEditMode:i=!1})=>{var A,I;const{tenantId:a}=Vn(),{toast:l}=ke(),[c,d]=h.useState(!1),[u,f]=h.useState({name:"",description:"",requires_assembly:!1,image_url:"",print_file_id:null,file_name:null}),[m,p]=h.useState([]),[y,g]=h.useState([]),[v,x]=h.useState(null),[w,b]=h.useState(null),[j,_]=h.useState(!1),[C,N]=h.useState(!1);h.useEffect(()=>{t&&(e?(d(i),f({name:e.name,description:e.description||"",requires_assembly:e.requires_assembly,image_url:e.image_url||"",is_active:e.is_active,print_file_id:e.print_file_id||null,file_name:e.file_name||null}),p(e.components||[]),g(e.skus||[])):(d(!0),f({name:"",description:"",requires_assembly:!1,image_url:"",print_file_id:null,file_name:null}),p([]),g([])),x(null),b(null),_(!1),N(!1))},[e,t,i]),h.useEffect(()=>{t||Lt.clearAll()},[t]);const k=()=>{Lt.clearAll(),N(!1),n()},E=()=>{e&&s&&(s(e.id),k())},R=(W,U)=>{x(W),W&&f(D=>({...D,image_url:""}))},M=(W,U)=>{b(W),W&&f(D=>({...D,print_file_id:null,file_name:U}))},O=async()=>{if(!a){l({title:"Error",description:"Tenant information not available",variant:"destructive"});return}try{_(!0);let W=u.image_url,U=u.print_file_id,D=u.file_name;if(v)try{const z=(await Lt.processTempImages(a)).get(v);z&&(W=z)}catch(T){console.error("Failed to upload image:",T),l({title:"Upload Failed",description:"Failed to upload image. Please try again.",variant:"destructive"});return}if(w)try{const z=(await Lt.processTempPrintFiles(a)).get(w);z&&(U=z)}catch(T){console.error("Failed to upload print file:",T),l({title:"Upload Failed",description:"Failed to upload print file. Please try again.",variant:"destructive"});return}const S={...u,image_url:W,print_file_id:U||null,file_name:D||null,components:m,skus:y.length>0?y:void 0};await r(S),Lt.clearAll(),k()}catch(W){console.error("Error saving product:",W);const U=W instanceof Error?W.message:"Failed to save product";l({title:"Error",description:U,variant:"destructive"})}finally{_(!1)}};return o.jsxs(zt,{open:t,onOpenChange:k,children:[o.jsxs(Et,{className:"max-w-4xl max-h-[85vh]",children:[o.jsx(Pt,{className:"pr-12",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Tt,{children:e?c?"Edit Product":e.name:"Add New Product"}),o.jsx(Qo,{children:e&&!c?"View product details and manage components":"Complete product information including assembly components."})]}),e&&!c&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{onClick:()=>d(!0),variant:"outline",size:"sm",children:"Edit Product"}),s&&o.jsxs(L,{onClick:()=>N(!0),variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:[o.jsx(eo,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),o.jsx(bP,{className:"max-h-[calc(85vh-180px)]",children:o.jsxs("div",{className:"space-y-4 pr-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"name",children:"Product Name *"}),c?o.jsx(le,{id:"name",value:u.name,onChange:W=>f({...u,name:W.target.value}),placeholder:"Enter product name"}):o.jsx("p",{className:"font-medium",children:u.name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"description",children:"Description"}),c?o.jsx(Qc,{id:"description",value:u.description,onChange:W=>f({...u,description:W.target.value}),placeholder:"Enter product description",rows:2}):o.jsx("p",{className:"text-muted-foreground",children:u.description||"No description provided"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"space-y-2",children:c?o.jsx(WW,{currentPrintFileId:u.print_file_id,currentPrintFileName:(A=e==null?void 0:e.print_file)==null?void 0:A.name,onPrintFileChange:M,value:w||u.print_file_id}):o.jsxs(o.Fragment,{children:[o.jsx(Q,{htmlFor:"print_file",children:"Print File"}),o.jsxs("div",{className:`flex items-center gap-2 p-2 border rounded-md ${u.print_file_id?"border-green-200 bg-green-50":"border-gray-200"}`,children:[o.jsx(Ff,{className:`h-4 w-4 ${u.print_file_id?"text-green-600":"text-muted-foreground"}`}),o.jsx("span",{className:"text-sm",children:u.file_name||((I=e==null?void 0:e.print_file)==null?void 0:I.name)||(u.print_file_id?"File attached":"No file attached")})]})]})}),o.jsx("div",{})]}),o.jsxs("div",{className:"flex items-center gap-8",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Og,{id:"requires_assembly",checked:u.requires_assembly,onCheckedChange:W=>f({...u,requires_assembly:W}),disabled:!c}),o.jsx(Q,{htmlFor:"requires_assembly",children:"Assembly Required"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Og,{id:"is_active",checked:u.is_active,onCheckedChange:W=>f({...u,is_active:W}),disabled:!c}),o.jsx(Q,{htmlFor:"is_active",children:"Active"})]})]}),c&&o.jsx("div",{className:"space-y-2",children:o.jsx(BW,{currentImageUrl:u.image_url,onImageChange:R,label:"Product Image",value:v||u.image_url},(e==null?void 0:e.id)||"new-product")}),o.jsx(LW,{productId:e==null?void 0:e.id,skus:e?e.skus||[]:y,onSkusChange:g,readOnly:!c},(e==null?void 0:e.id)||"new-product"),o.jsx(DW,{productId:e==null?void 0:e.id,components:m,onComponentsChange:p,readOnly:!c})]})}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:k,children:e&&!c?"Close":"Cancel"}),(c||!e)&&o.jsxs(L,{onClick:O,disabled:!u.name.trim()||j,children:[j?"Saving...":e?"Update":"Create"," Product"]})]})]}),o.jsx(zt,{open:C,onOpenChange:N,children:o.jsxs(Et,{children:[o.jsxs(Pt,{children:[o.jsx(Tt,{children:"Delete Product"}),o.jsxs(Qo,{children:['Are you sure you want to delete "',e==null?void 0:e.name,'"? This action cannot be undone and will permanently delete the product and all associated SKUs. Components are separate and will not be affected.']})]}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),o.jsxs(L,{variant:"destructive",onClick:E,children:[o.jsx(eo,{className:"mr-2 h-4 w-4"}),"Delete Product"]})]})]})})]})},VW=({sku:e,productId:t,isOpen:n,onClose:r,onSave:s})=>{const{colorPresets:i,loading:a}=go(),[l,c]=h.useState({product_id:t,sku:"",color:"",filament_type:"",hex_code:"",quantity:1,stock_level:0,price:0});h.useEffect(()=>{c(e?{product_id:e.product_id,sku:e.sku,color:e.color,filament_type:e.filament_type||"",hex_code:e.hex_code||"",quantity:e.quantity,stock_level:e.stock_level,price:e.price||0,is_active:e.is_active}:{product_id:t,sku:"",color:"",filament_type:"",hex_code:"",quantity:1,stock_level:0,price:0})},[e,t,n]);const d=()=>{s(l),r()};return o.jsx(zt,{open:n,onOpenChange:r,children:o.jsxs(Et,{className:"max-w-md",children:[o.jsx(Pt,{children:o.jsx(Tt,{children:e?"Edit SKU":"Add New SKU"})}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"sku",children:"SKU"}),o.jsx(le,{id:"sku",value:l.sku,onChange:u=>c({...l,sku:u.target.value}),placeholder:"Enter SKU"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"filament",children:"Filament"}),o.jsxs(Ye,{value:l.color&&l.filament_type?`${l.color}|${l.filament_type}`:"",onValueChange:u=>{const[f,m]=u.split("|"),p=i.find(y=>y.color_name===f&&y.filament_type===m);c({...l,color:f,filament_type:m,hex_code:(p==null?void 0:p.hex_code)||""})},disabled:a,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select filament"})}),o.jsx(Ve,{children:i.map(u=>o.jsx(fe,{value:`${u.color_name}|${u.filament_type}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:u.hex_code,size:"sm"}),o.jsxs("span",{children:[u.color_name," (",u.filament_type,")"]})]})},`${u.color_name}-${u.filament_type}`))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"quantity",children:"Quantity per Print"}),o.jsx(le,{id:"quantity",type:"number",value:l.quantity,onChange:u=>c({...l,quantity:parseInt(u.target.value)||1}),min:"1"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"stock_level",children:"Stock Level"}),o.jsx(le,{id:"stock_level",type:"number",value:l.stock_level,onChange:u=>c({...l,stock_level:parseInt(u.target.value)||0}),min:"0"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"price",children:"Price ($)"}),o.jsx(le,{id:"price",type:"number",step:"0.01",value:l.price,onChange:u=>c({...l,price:parseFloat(u.target.value)||0}),min:"0"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(L,{variant:"outline",onClick:r,children:"Cancel"}),o.jsxs(L,{onClick:d,children:[e?"Update":"Create"," SKU"]})]})]})})},qW=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),{toast:s}=ke(),{tenant:i}=Vn(),a=async()=>{if(i!=null&&i.id)try{const m=await fetch("/api/products-sync/");if(!m.ok)throw new Error(`Failed to fetch products: ${m.statusText}`);const y=(await m.json()).filter(N=>N.is_active&&N.print_file_id),g=y.map(N=>N.print_file_id),v=new Map(y.map(N=>[N.print_file_id,{productName:N.name,originalFileName:N.file_name}])),x=await fetch("/api/print-files-sync/");if(!x.ok)throw new Error(`Failed to fetch print files: ${x.statusText}`);const b=(await x.json()).filter(N=>g.includes(N.id));b.sort((N,k)=>new Date(k.created_at).getTime()-new Date(N.created_at).getTime());const{data:j,error:_}=await G.from("print_file_versions").select("*").order("version_number",{ascending:!1});if(_)throw _;const C=(b||[]).map(N=>{const k=(j||[]).filter(O=>O.print_file_id===N.id),E=km(N),R=v.get(N.id),M=R?`${R.productName} (${R.originalFileName||N.name})`:N.name;return{...E,name:M,versions:k.map(O=>({id:O.id,printFileId:O.print_file_id,versionNumber:O.version_number,fileUrl:O.file_url,notes:O.notes,isCurrentVersion:O.is_current_version,createdAt:O.created_at}))}});t(C)}catch(m){console.error("Error fetching print files:",m),s({title:"Error",description:"Failed to load print files from database.",variant:"destructive"})}finally{r(!1)}},l=async m=>{try{const p=await fetch("/api/print-files-sync/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m.name,file_size_bytes:m.fileSizeBytes,number_of_units:m.numberOfUnits||1})});if(!p.ok)throw new Error(`Failed to create print file: ${p.statusText}`);const y=await p.json();if(!y.success)throw new Error(y.message||"Failed to create print file");const g=y.print_file,{data:v,error:x}=await G.from("print_file_versions").insert({print_file_id:g.id,version_number:1,notes:m.notes||"Initial upload",is_current_version:!0}).select().single();if(x)throw x;const b={...km(g),versions:[{id:v.id,printFileId:v.print_file_id,versionNumber:v.version_number,fileUrl:v.file_url,notes:v.notes,isCurrentVersion:v.is_current_version,createdAt:v.created_at}]};return t(j=>[b,...j]),s({title:"Success",description:`${m.name} has been added to your library.`}),b}catch(p){throw console.error("Error adding print file:",p),s({title:"Error",description:"Failed to add print file to database.",variant:"destructive"}),p}},c=async(m,p)=>{try{const y=H8(p),g=await fetch(`/api/print-files-sync/${m}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!g.ok)throw new Error(`Failed to update print file: ${g.statusText}`);const v=await g.json();if(!v.success)throw new Error(v.message||"Failed to update print file");const x=v.print_file,w=km(x);return t(b=>b.map(j=>j.id===m?{...j,...w}:j)),s({title:"Success",description:"Print file updated successfully."}),x}catch(y){throw console.error("Error updating print file:",y),s({title:"Error",description:"Failed to update print file.",variant:"destructive"}),y}},d=async(m,p,y)=>{try{const g={notes:y.notes,is_current_version:y.isCurrentVersion},{data:v,error:x}=await G.from("print_file_versions").update(g).eq("id",p).select().single();if(x)throw x;return await a(),s({title:"Success",description:"File version updated successfully."}),v}catch(g){throw console.error("Error updating file version:",g),s({title:"Error",description:"Failed to update file version.",variant:"destructive"}),g}},u=async m=>{try{const p=await fetch(`/api/print-files-sync/${m}`,{method:"DELETE"});if(!p.ok)throw new Error(`Failed to delete print file: ${p.statusText}`);const y=await p.json();if(!y.success)throw new Error(y.message||"Failed to delete print file");t(g=>g.filter(v=>v.id!==m)),s({title:"Success",description:"Print file deleted successfully."})}catch(p){throw console.error("Error deleting print file:",p),s({title:"Error",description:"Failed to delete print file.",variant:"destructive"}),p}};return h.useEffect(()=>{i!=null&&i.id&&a()},[i==null?void 0:i.id]),{printFiles:e,loading:n,addPrintFile:l,updatePrintFile:c,updateFileVersion:d,deletePrintFile:u,setFileVersionAsCurrent:async(m,p)=>{var y;try{const g=((y=e.find(v=>v.id===m))==null?void 0:y.versions)||[];await Promise.all(g.map(async v=>{const{error:x}=await G.from("print_file_versions").update({is_current_version:v.id===p}).eq("id",v.id);if(x)throw x})),await a(),s({title:"Success",description:"File version updated successfully."})}catch(g){throw console.error("Error setting file version as current:",g),s({title:"Error",description:"Failed to update file version.",variant:"destructive"}),g}},refetch:a}},KW=()=>{const{products:e,loading:t,addProduct:n,updateProduct:r,deleteProduct:s,addSku:i,updateSku:a,deleteSku:l}=nP();qW();const[c,d]=h.useState("grid"),[u,f]=h.useState(new Set),[m,p]=h.useState(!1),[y,g]=h.useState(!1),[v,x]=h.useState(null),[w,b]=h.useState(null),[j,_]=h.useState(""),[C,N]=h.useState(!1);ke();const k=S=>{const T=new Set(u);T.has(S)?T.delete(S):T.add(S),f(T)},E=S=>{x(S),N(!1),p(!0)},R=S=>{x(S),N(!0),p(!0)},M=()=>{x(null),N(!1),p(!0)},O=S=>{_(S),b(null),g(!0)},A=S=>{b(S),_(S.product_id),g(!0)},I=async S=>{try{v?await r(v.id,S):await n(S),x(null),N(!1)}catch(T){console.error("Error saving product:",T)}},W=async S=>{try{w?await a(w.id,S):await i(S),b(null)}catch(T){console.error("Error in handleSkuSave:",T)}},U=async S=>{try{await s(S)}catch(T){console.error("Error deleting product:",T)}},D=S=>S===0?o.jsx(re,{variant:"destructive",children:"Out of Stock"}):S<10?o.jsx(re,{className:"bg-yellow-500 text-black hover:bg-yellow-600",children:"Low Stock"}):o.jsx(re,{className:"bg-green-600 text-white hover:bg-green-700",children:"In Stock"});return t?o.jsx("div",{children:"Loading products..."}):o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Products"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your 3D print product catalog with print files, components, and SKUs."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(jc,{type:"single",value:c,onValueChange:S=>S&&d(S),children:[o.jsx(xn,{value:"grid","aria-label":"Grid view",children:o.jsx(CN,{className:"h-4 w-4"})}),o.jsx(xn,{value:"list","aria-label":"List view",children:o.jsx(Lf,{className:"h-4 w-4"})})]}),o.jsxs(L,{onClick:M,children:[o.jsx(nm,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})]}),e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx("div",{className:"mx-auto w-24 h-24 bg-muted rounded-full flex items-center justify-center mb-4",children:o.jsx(at,{className:"h-12 w-12 text-muted-foreground"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products found"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm",children:"You haven't added any products to your catalog yet. Add your first product to get started."}),o.jsxs(L,{onClick:M,children:[o.jsx(nm,{className:"mr-2 h-4 w-4"}),"Add Your First Product"]})]}):c==="grid"?o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(S=>{var T;return o.jsxs(se,{className:"cursor-pointer hover:shadow-lg transition-shadow flex flex-col",onClick:()=>E(S),children:[o.jsxs(ce,{className:"flex-row items-start justify-between space-y-0 pb-2",children:[o.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1 pr-2",children:[o.jsx("div",{className:"flex-shrink-0",children:S.image_url?o.jsx("img",{src:S.image_url,alt:S.name,className:"w-12 h-12 rounded object-cover"}):o.jsx("div",{className:"w-12 h-12 rounded bg-muted flex items-center justify-center",children:o.jsx(at,{className:"h-6 w-6 text-muted-foreground"})})}),o.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[o.jsx(de,{className:"text-lg truncate",children:S.name}),o.jsx(Da,{children:S.description})]})]}),o.jsxs(re,{variant:"outline",className:"shrink-0",children:[S.skus.length," SKU",S.skus.length!==1?"s":""]})]}),o.jsx(ie,{className:"flex-grow",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ff,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:S.file_name||((T=S.print_file)==null?void 0:T.name)||"No print file"})]}),S.requires_assembly&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(at,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[S.components.length," component",S.components.length!==1?"s":""]})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:"Total Stock: "}),S.skus.reduce((z,B)=>z+B.stock_level,0)," units"]})]})}),o.jsx($_,{children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[S.skus.length>0&&o.jsxs("span",{className:"text-sm text-muted-foreground",children:["$",Math.min(...S.skus.map(z=>z.price||0))," - $",Math.max(...S.skus.map(z=>z.price||0))]}),S.requires_assembly&&o.jsx(re,{variant:"secondary",className:"text-xs",children:"Assembly Required"})]})})]},S.id)})}):o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"grid grid-cols-12 gap-4 pb-4 border-b border-border",children:[o.jsx("div",{className:"col-span-4 text-left text-sm font-medium text-muted-foreground",children:"Product"}),o.jsx("div",{className:"col-span-2 text-left text-sm font-medium text-muted-foreground",children:"Print File"}),o.jsx("div",{className:"col-span-2 text-center text-sm font-medium text-muted-foreground",children:"SKUs"}),o.jsx("div",{className:"col-span-2 text-center text-sm font-medium text-muted-foreground",children:"Total Stock"}),o.jsx("div",{className:"col-span-1 text-center text-sm font-medium text-muted-foreground",children:"Assembly"}),o.jsx("div",{className:"col-span-1 text-right text-sm font-medium text-muted-foreground",children:"Actions"})]}),o.jsx("div",{className:"divide-y divide-border",children:e.map(S=>{var B;const T=u.has(S.id),z=S.skus.reduce((H,V)=>H+V.stock_level,0);return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-12 gap-4 py-4 hover:bg-muted/50",children:[o.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[o.jsx(L,{variant:"ghost",size:"sm",className:"p-0 h-6 w-6 flex-shrink-0",onClick:()=>k(S.id),children:T?o.jsx(Af,{className:"h-4 w-4"}):o.jsx(Of,{className:"h-4 w-4"})}),o.jsx("div",{className:"flex-shrink-0",children:S.image_url?o.jsx("img",{src:S.image_url,alt:S.name,className:"w-10 h-10 rounded object-cover"}):o.jsx("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center",children:o.jsx(at,{className:"h-5 w-5 text-muted-foreground"})})}),o.jsx("button",{onClick:()=>E(S),className:"text-left hover:underline font-medium",children:S.name})]}),o.jsx("div",{className:"col-span-2 flex items-center",children:o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium",children:S.file_name||((B=S.print_file)==null?void 0:B.name)||"No file"}),o.jsx("div",{className:"text-muted-foreground",children:S.file_name||S.print_file?"Active":"No file"})]})}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:S.skus.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"SKUs"})]}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:z}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"units"})]}),o.jsx("div",{className:"col-span-1 flex items-center justify-center",children:S.requires_assembly?o.jsx(re,{variant:"secondary",children:"Required"}):o.jsx(re,{variant:"outline",children:"None"})}),o.jsx("div",{className:"col-span-1 flex items-center justify-end",children:o.jsxs(ur,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{size:"icon",variant:"ghost",children:o.jsx(Vo,{className:"h-4 w-4"})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsxs(Ge,{onClick:()=>E(S),children:[o.jsx(SN,{className:"mr-2 h-4 w-4"}),"View Details"]}),o.jsxs(Ge,{onClick:()=>R(S),children:[o.jsx(Ou,{className:"mr-2 h-4 w-4"}),"Edit Product"]}),o.jsxs(Ge,{onClick:H=>{H.stopPropagation(),O(S.id)},children:[o.jsx(nm,{className:"mr-2 h-4 w-4"}),"Add SKU"]})]})]})})]}),T&&S.skus.map(H=>{var V;return o.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 bg-muted/20",children:[o.jsx("div",{className:"col-span-4 flex items-center gap-3 pl-12",children:o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsx("div",{className:"font-medium text-base",children:H.sku}),o.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(fn,{color:H.hex_code||H.color,filamentType:H.filament_type,size:"sm"}),o.jsx("span",{children:H.color})]}),H.filament_type&&o.jsxs("span",{children:["(",H.filament_type,")"]}),o.jsxs("span",{children:["Qty per SKU: ",H.quantity]})]})]})}),o.jsx("div",{className:"col-span-2 flex items-center",children:o.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",((V=H.price)==null?void 0:V.toFixed(2))||"0.00"]})}),o.jsx("div",{className:"col-span-2 flex items-center justify-center",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:"-"})}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:H.stock_level}),D(H.stock_level)]}),o.jsx("div",{className:"col-span-1 flex items-center justify-center",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:"-"})}),o.jsx("div",{className:"col-span-1 flex items-center justify-end",children:o.jsxs(ur,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{size:"icon",variant:"ghost",children:o.jsx(Vo,{className:"h-4 w-4"})})}),o.jsxs(Bn,{align:"end",children:[o.jsxs(Ge,{onClick:J=>{J.stopPropagation(),A(H)},children:[o.jsx(Ou,{className:"mr-2 h-4 w-4"}),"Edit SKU"]}),o.jsx(Ge,{onClick:()=>l(H.id),children:"Delete SKU"})]})]})})]},H.id)})]},S.id)})})]})})}),o.jsx(HW,{product:v,isOpen:m,onClose:()=>{p(!1),x(null),N(!1)},onSave:I,onDelete:U,initialEditMode:C}),o.jsx(VW,{sku:w,productId:j,isOpen:y,onClose:()=>{g(!1),b(null),_("")},onSave:W})]})},GW=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),{toast:s}=ke(),i=async()=>{try{const{data:d,error:u}=await G.from("orders").select("*").order("order_date",{ascending:!1});if(u)throw u;const{data:f,error:m}=await G.from("order_items").select("*");if(m)throw m;const p=(d||[]).map(y=>{const g=(f||[]).filter(w=>w.order_id===y.id),v={...y,total_revenue:typeof y.total_revenue=="string"?parseFloat(y.total_revenue)||0:y.total_revenue||0};return{...Em(v),items:g.map(w=>cb(w))}});t(p)}catch(d){console.error("Error fetching orders:",d),s({title:"Error",description:"Failed to load orders from database.",variant:"destructive"})}finally{r(!1)}},a=async d=>{try{const u={order_number:d.orderNumber,platform:d.platform,customer_name:d.customerName,customer_email:d.customerEmail,order_date:d.orderDate,status:d.status||"pending",total_revenue:d.totalRevenue.toString(),shipping_street:d.shippingStreet,shipping_city:d.shippingCity,shipping_state:d.shippingState,shipping_zip:d.shippingZip,shipping_country:d.shippingCountry||"USA",tenant_id:"550e8400-e29b-41d4-a716-446655440000"},{data:f,error:m}=await G.from("orders").insert(u).select().single();if(m)throw m;const{data:p,error:y}=await G.from("order_items").insert(d.items.map(w=>({order_id:f.id,sku:w.sku,product_name:w.productName,quantity:w.quantity,unit_price:w.unitPrice,total_price:w.totalPrice,finished_good_id:w.finishedGoodId,tenant_id:"550e8400-e29b-41d4-a716-446655440000"}))).select();if(y)throw y;const g={...f,total_revenue:typeof f.total_revenue=="string"?parseFloat(f.total_revenue)||0:f.total_revenue||0},x={...Em(g),items:(p||[]).map(w=>cb(w))};return t(w=>[x,...w]),s({title:"Success",description:`Order ${d.orderNumber} has been created.`}),x}catch(u){throw console.error("Error adding order:",u),s({title:"Error",description:"Failed to create order.",variant:"destructive"}),u}},l=async(d,u)=>{try{const f=q8(u);typeof f.total_revenue=="number"&&(f.total_revenue=f.total_revenue.toString());const{data:m,error:p}=await G.from("orders").update(f).eq("id",d).select().single();if(p)throw p;const y={...m,total_revenue:typeof m.total_revenue=="string"?parseFloat(m.total_revenue)||0:m.total_revenue||0},g=Em(y);return t(v=>v.map(x=>x.id===d?{...x,...g}:x)),s({title:"Success",description:"Order updated successfully."}),m}catch(f){throw console.error("Error updating order:",f),s({title:"Error",description:"Failed to update order.",variant:"destructive"}),f}},c=async d=>{try{const{error:u}=await G.from("orders").delete().eq("id",d);if(u)throw u;t(f=>f.filter(m=>m.id!==d)),s({title:"Success",description:"Order deleted successfully."})}catch(u){throw console.error("Error deleting order:",u),s({title:"Error",description:"Failed to delete order.",variant:"destructive"}),u}};return h.useEffect(()=>{i()},[]),{orders:e,loading:n,addOrder:a,updateOrder:l,deleteOrder:c,refetch:i}},YW=({order:e,isOpen:t,onClose:n})=>{var i,a;const{toast:r}=ke();if(!e)return null;const s=(l,c)=>{navigator.clipboard.writeText(l),r({title:"Copied to clipboard",description:`${c} copied successfully`})};return o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2 py-[7px] font-bold text-lg",children:[o.jsx(at,{className:"h-5 w-5"}),"Order Details: ",e.orderNumber]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Du,{className:"h-4 w-4 text-blue-600"}),o.jsx("span",{className:"font-medium",children:"Customer"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:e.customerName}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s(e.customerName,"Customer name"),children:o.jsx(hi,{className:"h-3 w-3"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ic,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"font-medium",children:"Order Date"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:new Date(e.orderDate).toLocaleDateString()}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s(e.orderDate,"Order date"),children:o.jsx(hi,{className:"h-3 w-3"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(at,{className:"h-4 w-4 text-purple-600"}),o.jsx("span",{className:"font-medium",children:"Source"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[e.platform==="Etsy"?o.jsx(re,{className:"!bg-[#F1641E] !text-white !border-0 hover:!bg-[#F1641E]/80",children:e.platform}):o.jsx(re,{variant:"outline",children:e.platform}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s(e.platform,"Source"),children:o.jsx(hi,{className:"h-3 w-3"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(If,{className:"h-4 w-4 text-emerald-600"}),o.jsx("span",{className:"font-medium",children:"Revenue"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold",children:["$",parseFloat(((i=e.totalRevenue)==null?void 0:i.toString())||"0").toFixed(2)]}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>{var l;return s(parseFloat(((l=e.totalRevenue)==null?void 0:l.toString())||"0").toFixed(2),"Revenue")},children:o.jsx(hi,{className:"h-3 w-3"})})]})]})]}),o.jsx(Dr,{}),(e.shippingStreet||e.shippingCity)&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(uA,{className:"h-4 w-4 text-red-600"}),o.jsx("span",{className:"font-medium",children:"Shipping Address"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:[e.shippingStreet,e.shippingCity,e.shippingState,e.shippingZip,e.shippingCountry].filter(Boolean).join(", ")}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s([e.shippingStreet,e.shippingCity,e.shippingState,e.shippingZip,e.shippingCountry].filter(Boolean).join(", "),"Shipping address"),children:o.jsx(hi,{className:"h-3 w-3"})})]})]}),o.jsx(Dr,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-medium",children:"Order Items"}),o.jsx("div",{className:"space-y-2",children:(a=e.items)==null?void 0:a.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:l.productName}),o.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:["SKU: ",l.sku,o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s(l.sku,"SKU"),children:o.jsx(hi,{className:"h-3 w-3"})})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"font-medium",children:["Qty: ",l.quantity]})})]},c))})]}),o.jsx(Dr,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:"Status:"}),o.jsx(re,{className:e.status.toLowerCase()==="completed"?"bg-green-500 text-white hover:bg-green-600":e.status.toLowerCase()==="paid"?"bg-blue-900 text-white hover:bg-blue-800":e.status.toLowerCase()==="pending"?"bg-yellow-500 text-white hover:bg-yellow-600":e.status.toLowerCase()==="cancelled"?"bg-red-500 text-white hover:bg-red-600":"bg-muted text-muted-foreground",children:e.status})]})]})]})})},QW=()=>{const{orders:e,loading:t}=GW(),[n,r]=h.useState(null),[s,i]=h.useState(!1),[a,l]=h.useState("all"),[c,d]=h.useState({from:void 0,to:void 0}),[u,f]=h.useState(!1),p=(()=>{const N=new Date;switch(a){case"7days":return e.filter(k=>{const E=Gi(k.orderDate);return Ki(E,{start:$o(N,7),end:N})});case"30days":return e.filter(k=>{const E=Gi(k.orderDate);return Ki(E,{start:$o(N,30),end:N})});default:return c.from&&c.to?e.filter(k=>{const E=Gi(k.orderDate);return Ki(E,{start:c.from,end:c.to})}):e}})(),g=p.filter(N=>N.status==="Open").length,v=N=>N==="All"?p:p.filter(k=>k.platform.toLowerCase()===N.toLowerCase()),x=N=>{const k=N.reduce((R,M)=>R+M.totalRevenue,0),E=N.reduce((R,M)=>R+M.items.reduce((O,A)=>O+A.quantity,0),0);return{totalRevenue:k,totalUnits:E}},w=N=>{r(N),i(!0)},b=N=>{l(N),N!=="all"&&d({from:void 0,to:void 0})},j=()=>{switch(a){case"7days":return"Last 7 Days";case"30days":return"Last 30 Days";default:return c.from&&c.to?`${Wn(c.from,"MMM dd")} - ${Wn(c.to,"MMM dd")}`:"All Time"}},_=N=>{const{totalRevenue:k,totalUnits:E}=x(N);return o.jsx(se,{children:o.jsxs(ie,{className:"pt-6",children:[o.jsxs("div",{className:"mb-4 grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",k.toFixed(2)]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]}),o.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:E}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Units"})]})]}),o.jsxs(Ka,{children:[o.jsx(Ga,{children:o.jsxs(gr,{children:[o.jsx(Re,{children:"Order ID"}),o.jsx(Re,{children:"Source"}),o.jsx(Re,{children:"Customer"}),o.jsx(Re,{children:"Date"}),o.jsx(Re,{children:"Status"}),o.jsx(Re,{children:"Revenue"}),o.jsx(Re,{children:"SKU"}),o.jsx(Re,{children:"Actions"})]})}),o.jsx(Ya,{children:N.map(R=>{var M,O;return o.jsxs(gr,{children:[o.jsx(Pe,{className:"font-medium",children:o.jsx("button",{onClick:()=>w(R),className:"text-foreground hover:underline cursor-pointer",children:R.orderNumber})}),o.jsx(Pe,{children:R.platform==="Etsy"?o.jsx(re,{className:"!bg-[#F1641E] !text-white !border-0 hover:!bg-[#F1641E]/80",children:R.platform}):o.jsx(re,{variant:"outline",children:R.platform})}),o.jsx(Pe,{children:R.customerName}),o.jsx(Pe,{children:new Date(R.orderDate).toLocaleDateString()}),o.jsx(Pe,{children:o.jsx(re,{className:R.status.toLowerCase()==="completed"?"bg-green-500 text-white hover:bg-green-600":R.status.toLowerCase()==="paid"?"bg-blue-900 text-white hover:bg-blue-800":R.status.toLowerCase()==="pending"?"bg-yellow-500 text-white hover:bg-yellow-600":R.status.toLowerCase()==="cancelled"?"bg-red-500 text-white hover:bg-red-600":"bg-muted text-muted-foreground",children:R.status})}),o.jsxs(Pe,{className:"font-medium",children:["$",parseFloat(((M=R.totalRevenue)==null?void 0:M.toString())||"0").toFixed(2)]}),o.jsx(Pe,{children:o.jsx("ul",{className:"text-sm",children:(O=R.items)==null?void 0:O.map(A=>o.jsxs("li",{children:[A.sku," (x",A.quantity,")"]},A.sku))})}),o.jsx(Pe,{children:o.jsxs(L,{variant:"outline",size:"sm",onClick:()=>w(R),children:[o.jsx(SN,{className:"h-4 w-4 mr-1"}),"View"]})})]},R.id)})})]})]})})},C=x(p);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Orders"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ly,{open:u,onOpenChange:f,children:[o.jsx(cy,{asChild:!0,children:o.jsx(L,{variant:"outline",size:"icon",children:o.jsx(Ic,{className:"h-4 w-4"})})}),o.jsx(yh,{className:"w-auto p-0",align:"end",children:o.jsx(xh,{mode:"range",selected:{from:c.from,to:c.to},onSelect:N=>{d({from:N==null?void 0:N.from,to:N==null?void 0:N.to}),N!=null&&N.from&&(N!=null&&N.to)&&(l("all"),f(!1))},numberOfMonths:2})})]}),o.jsxs(Ye,{value:a,onValueChange:b,children:[o.jsx(He,{className:"w-[180px]",children:o.jsx(Qe,{placeholder:"Select date range"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"all",children:"All Time"}),o.jsx(fe,{value:"7days",children:"Last 7 Days"}),o.jsx(fe,{value:"30days",children:"Last 30 Days"})]})]})]})})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing data for: ",j()]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Total Open Orders"}),o.jsx(Dv,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:g}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all sales channels"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Total Revenue"}),o.jsx(If,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",C.totalRevenue.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"For selected period"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Units Sold"}),o.jsx(at,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:C.totalUnits}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total items shipped"})]})]})]}),o.jsxs(Ja,{defaultValue:"All",children:[o.jsxs(ai,{children:[o.jsx(mt,{value:"All",children:"All"}),o.jsx(mt,{value:"Shopify",children:"Shopify"}),o.jsx(mt,{value:"Etsy",children:"Etsy"})]}),o.jsx($t,{value:"All",children:_(v("All"))}),o.jsx($t,{value:"Shopify",children:_(v("Shopify"))}),o.jsx($t,{value:"Etsy",children:_(v("Etsy"))})]}),o.jsx(YW,{order:n,isOpen:s,onClose:()=>i(!1)})]})},Bd=[{id:"1",customer:"Customer A",product:"Product 1",quantity:10,status:"completed",date:new Date().toISOString(),total:100},{id:"2",customer:"Customer B",product:"Product 2",quantity:5,status:"pending",date:new Date().toISOString(),total:50}],JW=({analyticsData:e})=>{const{totalRevenue:t,totalUnits:n}=e,r={profit:t*.35,activePrinters:4,completionRate:94.2,averageJobTime:4.2,utilization:78.5,timeSaved:156};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(se,{className:"border-2",children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Total Revenue"}),o.jsx(If,{className:"h-5 w-5 text-green-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-3xl font-bold",children:["$",t.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+12.5% from last period"})]})]}),o.jsxs(se,{className:"border-2",children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Profit"}),o.jsx(Iu,{className:"h-5 w-5 text-emerald-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-3xl font-bold",children:["$",r.profit.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"35% margin"})]})]}),o.jsxs(se,{className:"border-2",children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Print Completion"}),o.jsx(Ir,{className:"h-5 w-5 text-green-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-3xl font-bold",children:[r.completionRate,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Success rate"})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Active Printers"}),o.jsx(Ov,{className:"h-4 w-4 text-blue-600"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:r.activePrinters}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently printing"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Utilization"}),o.jsx(Op,{className:"h-4 w-4 text-purple-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[r.utilization,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Fleet average"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Avg Job Time"}),o.jsx(rr,{className:"h-4 w-4 text-orange-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[r.averageJobTime,"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Per print job"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Time Saved"}),o.jsx(rr,{className:"h-4 w-4 text-cyan-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[r.timeSaved,"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Automation benefits"})]})]})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Performance Summary"})}),o.jsx(ie,{children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Revenue per Unit"}),o.jsxs(re,{variant:"secondary",children:["$",n>0?(t/n).toFixed(2):"0.00"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Units Produced"}),o.jsx(re,{variant:"secondary",children:n})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"ROI on Automation"}),o.jsx(re,{variant:"secondary",children:"245%"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Throughput Improvement"}),o.jsx(re,{variant:"secondary",children:"+38%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Quality Score"}),o.jsx(re,{variant:"secondary",children:"94.2/100"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Auto Queue Efficiency"}),o.jsx(re,{variant:"secondary",children:"92%"})]})]})]})})]})]})},XW=({analyticsData:e})=>{const{totalRevenue:t}=e,n={totalRevenue:t,profit:t*.35,cogs:t*.65,currentInventoryValue:12450,materialCosts:t*.25,laborCosts:t*.15,overheadCosts:t*.25,grossMargin:.35,netMargin:.28};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Total Revenue"}),o.jsx(If,{className:"h-4 w-4 text-green-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",n.totalRevenue.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+12.5% from last period"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Net Profit"}),o.jsx(Iu,{className:"h-4 w-4 text-emerald-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",n.profit.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(n.grossMargin*100).toFixed(1),"% margin"]})]})]})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Cost Breakdown"})}),o.jsx(ie,{children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-lg font-semibold",children:["$",n.materialCosts.toFixed(2)]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Materials"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"25% of revenue"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-lg font-semibold",children:["$",n.laborCosts.toFixed(2)]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Labor"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"15% of revenue"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-lg font-semibold",children:["$",n.overheadCosts.toFixed(2)]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Overhead"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"25% of revenue"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-lg font-semibold",children:["$",n.profit.toFixed(2)]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Profit"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"35% of revenue"})]})]})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"COGS"}),o.jsx(yA,{className:"h-4 w-4 text-orange-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",n.cogs.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"65% of revenue"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Inventory Value"}),o.jsx(at,{className:"h-4 w-4 text-blue-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",n.currentInventoryValue.toLocaleString()]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Current stock value"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Gross Margin"}),o.jsx(Iu,{className:"h-4 w-4 text-purple-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[(n.grossMargin*100).toFixed(1),"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Before overhead"})]})]})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Financial Performance"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Revenue Growth (YoY)"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"+23.4%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Profit Growth (YoY)"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"+18.7%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Cost Reduction"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"-8.2%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Inventory Turnover"}),o.jsx("span",{className:"text-sm font-semibold",children:"6.2x"})]})]})})]})]})},ZW=({analyticsData:e})=>{const t={printTime:1248,materialUsage:34.5,energyConsumption:2156,utilization:78.5,averageJobTime:4.2,timeSavedBedSwapper:156,autoQueueEfficiency:92,throughput:127};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Total Print Time"}),o.jsx(Ov,{className:"h-4 w-4 text-indigo-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.printTime,"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Active printing"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Material Used"}),o.jsx(Op,{className:"h-4 w-4 text-cyan-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.materialUsage,"kg"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Filament consumed"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Energy Usage"}),o.jsx(Fv,{className:"h-4 w-4 text-amber-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.energyConsumption," kWh"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Power consumption"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Printer Utilization"}),o.jsx(Op,{className:"h-4 w-4 text-pink-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.utilization,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Average usage"})]})]})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Efficiency Metrics"})}),o.jsx(ie,{children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[t.timeSavedBedSwapper,"h"]}),o.jsx("div",{className:"text-sm font-medium",children:"Time Saved"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Bed swapper automation"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[t.autoQueueEfficiency,"%"]}),o.jsx("div",{className:"text-sm font-medium",children:"Queue Efficiency"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Automated scheduling"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.averageJobTime,"h"]}),o.jsx("div",{className:"text-sm font-medium",children:"Avg Job Time"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Per print job"})]})]})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Throughput Analysis"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Jobs Completed"}),o.jsxs("span",{className:"text-sm font-semibold",children:[t.throughput,"/week"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Peak Utilization"}),o.jsx("span",{className:"text-sm font-semibold",children:"94.2%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Idle Time Reduction"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"-23%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Setup Time"}),o.jsx("span",{className:"text-sm font-semibold",children:"12 min avg"})]})]})})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Resource Efficiency"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Material Efficiency"}),o.jsx("span",{className:"text-sm font-semibold",children:"96.8%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Energy per kg"}),o.jsxs("span",{className:"text-sm font-semibold",children:[(t.energyConsumption/t.materialUsage).toFixed(1)," kWh"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Cost per Hour"}),o.jsx("span",{className:"text-sm font-semibold",children:"$3.24"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Waste Reduction"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"-15%"})]})]})})]})]})]})},eH=({analyticsData:e})=>{const t={completionRate:94.2,failureRate:5.8,maintenanceHours:23,firstPassYield:89.3,defectRate:2.1,customerSatisfaction:4.7,returnRate:1.2,qualityScore:94.2};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Completion Rate"}),o.jsx(Ir,{className:"h-4 w-4 text-green-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.completionRate,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Successful prints"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Failure Rate"}),o.jsx(Dc,{className:"h-4 w-4 text-red-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.failureRate,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Failed prints"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"First Pass Yield"}),o.jsx(Ir,{className:"h-4 w-4 text-blue-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.firstPassYield,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Right first time"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(de,{className:"text-sm font-medium",children:"Maintenance Hours"}),o.jsx(Ov,{className:"h-4 w-4 text-gray-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.maintenanceHours,"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This period"})]})]})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Quality Performance"})}),o.jsx(ie,{children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Defect Rate"}),o.jsxs("span",{className:"text-sm font-semibold",children:[t.defectRate,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Quality Score"}),o.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[t.qualityScore,"/100"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Customer Satisfaction"}),o.jsxs("span",{className:"text-sm font-semibold",children:[t.customerSatisfaction,"/5.0"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Return Rate"}),o.jsxs("span",{className:"text-sm font-semibold",children:[t.returnRate,"%"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Print Quality Consistency"}),o.jsx("span",{className:"text-sm font-semibold",children:"97.3%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Material Waste"}),o.jsx("span",{className:"text-sm font-semibold",children:"3.2%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Dimensional Accuracy"}),o.jsx("span",{className:"text-sm font-semibold",children:"0.1mm"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Surface Finish Grade"}),o.jsx("span",{className:"text-sm font-semibold",children:"A"})]})]})]})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Failure Analysis"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Bed Adhesion"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"35%"}})}),o.jsx("span",{className:"text-xs",children:"35%"})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Filament Issues"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"25%"}})}),o.jsx("span",{className:"text-xs",children:"25%"})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Power Loss"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"20%"}})}),o.jsx("span",{className:"text-xs",children:"20%"})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Other"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"20%"}})}),o.jsx("span",{className:"text-xs",children:"20%"})]})]})]})})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(de,{children:"Maintenance Schedule"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Preventive Maintenance"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"On Schedule"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Nozzle Replacements"}),o.jsx("span",{className:"text-sm font-semibold",children:"Every 500h"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Belt Tensioning"}),o.jsx("span",{className:"text-sm font-semibold",children:"Weekly"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Calibration Check"}),o.jsx("span",{className:"text-sm font-semibold",children:"Daily"})]})]})})]})]})]})},tH=()=>{const[e,t]=h.useState("all"),[n,r]=h.useState({from:void 0,to:void 0}),[s,i]=h.useState(!1),a=()=>{const f=new Date;switch(e){case"7days":return Bd.filter(m=>{const p=Gi(m.orderDate);return Ki(p,{start:$o(f,7),end:f})});case"30days":return Bd.filter(m=>{const p=Gi(m.orderDate);return Ki(p,{start:$o(f,30),end:f})});default:return n.from&&n.to?Bd.filter(m=>{const p=Gi(m.orderDate);return Ki(p,{start:n.from,end:n.to})}):Bd}},l=f=>{t(f),f!=="all"&&r({from:void 0,to:void 0})},c=()=>{switch(e){case"7days":return"Last 7 Days";case"30days":return"Last 30 Days";default:return n.from&&n.to?`${Wn(n.from,"MMM dd")} - ${Wn(n.to,"MMM dd")}`:"All Time"}},d=a(),u={filteredOrders:d,totalRevenue:d.reduce((f,m)=>f+m.totalRevenue,0),totalUnits:d.reduce((f,m)=>f+m.items.reduce((p,y)=>p+y.quantity,0),0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Analytics"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ly,{open:s,onOpenChange:i,children:[o.jsx(cy,{asChild:!0,children:o.jsx(L,{variant:"outline",size:"icon",children:o.jsx(Ic,{className:"h-4 w-4"})})}),o.jsx(yh,{className:"w-auto p-0",align:"end",children:o.jsx(xh,{mode:"range",selected:{from:n.from,to:n.to},onSelect:f=>{r({from:f==null?void 0:f.from,to:f==null?void 0:f.to}),f!=null&&f.from&&(f!=null&&f.to)&&(t("all"),i(!1))},numberOfMonths:2})})]}),o.jsxs(Ye,{value:e,onValueChange:l,children:[o.jsx(He,{className:"w-[180px]",children:o.jsx(Qe,{placeholder:"Select date range"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"all",children:"All Time"}),o.jsx(fe,{value:"7days",children:"Last 7 Days"}),o.jsx(fe,{value:"30days",children:"Last 30 Days"})]})]})]})})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing data for: ",c()]}),o.jsxs(Ja,{defaultValue:"overview",className:"space-y-6",children:[o.jsxs(ai,{className:"grid w-full grid-cols-4",children:[o.jsx(mt,{value:"overview",children:"Overview"}),o.jsx(mt,{value:"financial",children:"Financial"}),o.jsx(mt,{value:"production",children:"Production"}),o.jsx(mt,{value:"quality",children:"Quality"})]}),o.jsx($t,{value:"overview",children:o.jsx(JW,{analyticsData:u})}),o.jsx($t,{value:"financial",children:o.jsx(XW,{analyticsData:u})}),o.jsx($t,{value:"production",children:o.jsx(ZW,{analyticsData:u})}),o.jsx($t,{value:"quality",children:o.jsx(eH,{analyticsData:u})})]})]})},nH=()=>{const{id:e}=gD(),[t]=qD(),n=Ia(),r=t.get("type"),i=(()=>{const a=parseInt(e||"0");return r==="filament"?[{id:1,name:"SUNLU PLA+ Filament",brand:"SUNLU",material:"PLA+",color:"Black",price:25.99,originalPrice:29.99,weight:"1kg",diameter:"1.75mm",inStock:!0,description:"High-quality PLA+ filament with excellent layer adhesion and minimal warping. Perfect for beginners and professionals alike.",features:["Easy to print","Low odor","Excellent surface finish","Wide temperature range"]}].find(c=>c.id===a):r==="accessory"?[{id:1,name:"Build Plate",brand:"Bambu Lab",type:"Print Surface",price:39.99,compatibility:"A1 Series",inStock:!0,description:"Premium build plate designed for optimal first layer adhesion and easy print removal.",features:["Easy print removal","Excellent adhesion","Durable coating","Easy to clean"]}].find(c=>c.id===a):r==="tool"?[{id:1,name:"Digital Calipers",brand:"Mitutoyo",type:"Measurement",price:89.99,accuracy:"0.02mm",inStock:!0,description:"Professional-grade digital calipers for precise measurements of 3D printed parts and filament dimensions.",features:["High precision","Digital display","Stainless steel construction","Battery included"]}].find(c=>c.id===a):null})();return i?o.jsx("div",{className:"min-h-screen bg-white",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[o.jsxs(L,{onClick:()=>n("/store"),variant:"ghost",className:"mb-8 text-gray-600 hover:text-gray-900",children:[o.jsx(O0,{className:"h-4 w-4 mr-2"}),"Back to Store"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"aspect-square bg-gray-50 rounded-lg flex items-center justify-center relative",children:[i.id===1&&o.jsx(re,{className:"absolute top-4 left-4 bg-red-500 hover:bg-red-500 text-white",children:"SALE"}),o.jsx("span",{className:"text-gray-400",children:"Product Image"})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:i.brand}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i.name}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[i.originalPrice&&o.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["$",i.originalPrice]}),o.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",i.price]})]}),o.jsx(re,{variant:i.inStock?"default":"secondary",children:i.inStock?"In Stock":"Out of Stock"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Description"}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Features"}),o.jsx("ul",{className:"space-y-2",children:i.features.map((a,l)=>o.jsxs("li",{className:"flex items-center text-gray-600",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-3"}),a]},l))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Specifications"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[r==="filament"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Material:"}),o.jsx("span",{className:"text-gray-900",children:i.material})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Color:"}),o.jsx("span",{className:"text-gray-900",children:i.color})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Weight:"}),o.jsx("span",{className:"text-gray-900",children:i.weight})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Diameter:"}),o.jsx("span",{className:"text-gray-900",children:i.diameter})]})]}),r==="accessory"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Type:"}),o.jsx("span",{className:"text-gray-900",children:i.type})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Compatibility:"}),o.jsx("span",{className:"text-gray-900",children:i.compatibility})]})]}),r==="tool"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Type:"}),o.jsx("span",{className:"text-gray-900",children:i.type})]}),i.accuracy&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Accuracy:"}),o.jsx("span",{className:"text-gray-900",children:i.accuracy})]})]})]})]}),o.jsxs("div",{className:"flex gap-4 pt-6",children:[o.jsxs(L,{className:"flex-1 h-12",disabled:!i.inStock,size:"lg",children:[o.jsx(Dv,{className:"h-5 w-5 mr-2"}),"Add to Cart"]}),o.jsx(L,{variant:"outline",size:"lg",className:"h-12 px-6",children:o.jsx(rA,{className:"h-5 w-5"})})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Product not found"}),o.jsxs(L,{onClick:()=>n("/store"),variant:"outline",children:[o.jsx(O0,{className:"h-4 w-4 mr-2"}),"Back to Store"]})]})})};class kb extends h.Component{constructor(){super(...arguments);xt(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return console.error("ErrorBoundary caught error:",n),{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary details:",n,r)}render(){var n;return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-100 p-4",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[o.jsx("h1",{className:"text-xl font-bold text-red-600 mb-4",children:"Something went wrong"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"The application encountered an error. Please try refreshing the page."}),o.jsxs("details",{className:"mb-4",children:[o.jsx("summary",{className:"cursor-pointer text-sm text-gray-600",children:"Error details (for debugging)"}),o.jsx("pre",{className:"text-xs bg-gray-100 p-2 mt-2 rounded overflow-auto",children:(n=this.state.error)==null?void 0:n.toString()})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Refresh Page"}),o.jsx("button",{onClick:()=>window.location.href="/auth",className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:"Go to Login"})]})]})}):this.props.children}}const rH=()=>{const{signIn:e,signUp:t}=si(),n=Ia(),[r,s]=h.useState(!1),[i,a]=h.useState(null),[l,c]=h.useState({email:"",password:""}),[d,u]=h.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",companyName:""}),f=async p=>{p.preventDefault(),s(!0),a(null);const{error:y}=await e(l.email,l.password);y?a(y.message):n("/"),s(!1)},m=async p=>{if(p.preventDefault(),d.password!==d.confirmPassword){a("Passwords do not match");return}if(d.password.length<6){a("Password must be at least 6 characters");return}s(!0),a(null);const{error:y}=await t(d.email,d.password,d.firstName,d.lastName,d.companyName);y?a(y.message):n("/"),s(!1)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:o.jsxs(se,{className:"w-full max-w-md",children:[o.jsxs(ce,{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(QM,{className:"h-6 w-6 text-primary"}),o.jsx("span",{className:"text-lg font-semibold",children:"PrintFlow"})]}),o.jsx(de,{children:"Welcome to PrintFlow"}),o.jsx(Da,{children:"3D Print Farm Management Software"})]}),o.jsxs(ie,{children:[o.jsxs(Ja,{defaultValue:"signin",className:"w-full",children:[o.jsxs(ai,{className:"grid w-full grid-cols-2",children:[o.jsx(mt,{value:"signin",children:"Sign In"}),o.jsx(mt,{value:"signup",children:"Sign Up"})]}),o.jsx($t,{value:"signin",children:o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signin-email",children:"Email"}),o.jsx(le,{id:"signin-email",type:"email",placeholder:"email@example.com",value:l.email,onChange:p=>c({...l,email:p.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signin-password",children:"Password"}),o.jsx(le,{id:"signin-password",type:"password",placeholder:"",value:l.password,onChange:p=>c({...l,password:p.target.value}),required:!0})]}),o.jsx(L,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(ga,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"})]})}),o.jsx($t,{value:"signup",children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-firstname",children:"First Name"}),o.jsx(le,{id:"signup-firstname",type:"text",placeholder:"John",value:d.firstName,onChange:p=>u({...d,firstName:p.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-lastname",children:"Last Name"}),o.jsx(le,{id:"signup-lastname",type:"text",placeholder:"Doe",value:d.lastName,onChange:p=>u({...d,lastName:p.target.value}),required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-company",children:"Company Name"}),o.jsx(le,{id:"signup-company",type:"text",placeholder:"My Print Farm",value:d.companyName,onChange:p=>u({...d,companyName:p.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-email",children:"Email"}),o.jsx(le,{id:"signup-email",type:"email",placeholder:"email@example.com",value:d.email,onChange:p=>u({...d,email:p.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-password",children:"Password"}),o.jsx(le,{id:"signup-password",type:"password",placeholder:"",value:d.password,onChange:p=>u({...d,password:p.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-confirm",children:"Confirm Password"}),o.jsx(le,{id:"signup-confirm",type:"password",placeholder:"",value:d.confirmPassword,onChange:p=>u({...d,confirmPassword:p.target.value}),required:!0})]}),o.jsx(L,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(ga,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})})]}),i&&o.jsx(uy,{variant:"destructive",className:"mt-4",children:o.jsx(fy,{children:i})})]})]})})},sH=({children:e})=>{const{user:t,loading:n}=si();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ga,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{children:"Loading..."})]})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(PD,{to:"/auth",replace:!0})},oH=new NI,iH=()=>(console.log("=== APP COMPONENT RENDERING ==="),o.jsx(kb,{children:o.jsx(gW,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:o.jsx(EI,{client:oH,children:o.jsxs(aI,{children:[o.jsx(rO,{}),o.jsx(IO,{}),o.jsx(zD,{children:o.jsx(h$,{children:o.jsxs(MD,{children:[o.jsxs(Ot,{path:"/",element:o.jsx(sH,{children:o.jsx(W8,{children:o.jsx(kb,{children:o.jsx(L5,{})})})}),children:[o.jsx(Ot,{index:!0,element:o.jsx(YD,{})}),o.jsx(Ot,{path:"printers",element:o.jsx(J8,{})}),o.jsx(Ot,{path:"worklist",element:o.jsx(g7,{})}),o.jsx(Ot,{path:"queue",element:o.jsx(k7,{})}),o.jsx(Ot,{path:"products",element:o.jsx(KW,{})}),o.jsx(Ot,{path:"material-inventory",element:o.jsx(H7,{})}),o.jsx(Ot,{path:"inventory",element:o.jsx(K7,{})}),o.jsx(Ot,{path:"orders",element:o.jsx(QW,{})}),o.jsx(Ot,{path:"analytics",element:o.jsx(tH,{})}),o.jsx(Ot,{path:"store",element:o.jsx(pW,{})}),o.jsx(Ot,{path:"store/product/:id",element:o.jsx(nH,{})}),o.jsx(Ot,{path:"settings",element:o.jsx(mW,{})})]}),o.jsx(Ot,{path:"/auth",element:o.jsx(rH,{})}),o.jsx(Ot,{path:"*",element:o.jsx(QD,{})})]})})})]})})})}));Z1(document.getElementById("root")).render(o.jsx(iH,{}));
