var _P=Object.defineProperty;var yy=e=>{throw TypeError(e)};var NP=(e,t,n)=>t in e?_P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xt=(e,t,n)=>NP(e,typeof t!="symbol"?t+"":t,n),Ch=(e,t,n)=>t.has(e)||yy("Cannot "+n);var P=(e,t,n)=>(Ch(e,t,"read from private field"),n?n.call(e):t.get(e)),de=(e,t,n)=>t.has(e)?yy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),te=(e,t,n,r)=>(Ch(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),be=(e,t,n)=>(Ch(e,t,"access private method"),n);var iu=(e,t,n,r)=>({set _(s){te(e,t,s,n)},get _(){return P(e,t,r)}});function SP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function CP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var $b={exports:{}},hf={},Ub={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc=Symbol.for("react.element"),kP=Symbol.for("react.portal"),EP=Symbol.for("react.fragment"),PP=Symbol.for("react.strict_mode"),TP=Symbol.for("react.profiler"),RP=Symbol.for("react.provider"),MP=Symbol.for("react.context"),AP=Symbol.for("react.forward_ref"),OP=Symbol.for("react.suspense"),IP=Symbol.for("react.memo"),DP=Symbol.for("react.lazy"),wy=Symbol.iterator;function FP(e){return e===null||typeof e!="object"?null:(e=wy&&e[wy]||e["@@iterator"],typeof e=="function"?e:null)}var zb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bb=Object.assign,Wb={};function Ca(e,t,n){this.props=e,this.context=t,this.refs=Wb,this.updater=n||zb}Ca.prototype.isReactComponent={};Ca.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ca.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hb(){}Hb.prototype=Ca.prototype;function Dg(e,t,n){this.props=e,this.context=t,this.refs=Wb,this.updater=n||zb}var Fg=Dg.prototype=new Hb;Fg.constructor=Dg;Bb(Fg,Ca.prototype);Fg.isPureReactComponent=!0;var by=Array.isArray,Vb=Object.prototype.hasOwnProperty,Lg={current:null},qb={key:!0,ref:!0,__self:!0,__source:!0};function Kb(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Vb.call(t,r)&&!qb.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Tc,type:e,key:i,ref:a,props:s,_owner:Lg.current}}function LP(e,t){return{$$typeof:Tc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $g(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tc}function $P(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jy=/\/+/g;function kh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$P(""+e.key):t.toString(36)}function Wu(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Tc:case kP:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+kh(a,0):r,by(s)?(n="",e!=null&&(n=e.replace(jy,"$&/")+"/"),Wu(s,t,n,"",function(u){return u})):s!=null&&($g(s)&&(s=LP(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(jy,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",by(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+kh(i,l);a+=Wu(i,t,n,c,s)}else if(c=FP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+kh(i,l++),a+=Wu(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function au(e,t,n){if(e==null)return e;var r=[],s=0;return Wu(e,r,"","",function(i){return t.call(n,i,s++)}),r}function UP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qt={current:null},Hu={transition:null},zP={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:Lg};function Gb(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:au,forEach:function(e,t,n){au(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return au(e,function(){t++}),t},toArray:function(e){return au(e,function(t){return t})||[]},only:function(e){if(!$g(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Ca;_e.Fragment=EP;_e.Profiler=TP;_e.PureComponent=Dg;_e.StrictMode=PP;_e.Suspense=OP;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zP;_e.act=Gb;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bb({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Lg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Vb.call(t,c)&&!qb.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Tc,type:e.type,key:s,ref:i,props:r,_owner:a}};_e.createContext=function(e){return e={$$typeof:MP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RP,_context:e},e.Consumer=e};_e.createElement=Kb;_e.createFactory=function(e){var t=Kb.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:AP,render:e}};_e.isValidElement=$g;_e.lazy=function(e){return{$$typeof:DP,_payload:{_status:-1,_result:e},_init:UP}};_e.memo=function(e,t){return{$$typeof:IP,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Hu.transition;Hu.transition={};try{e()}finally{Hu.transition=t}};_e.unstable_act=Gb;_e.useCallback=function(e,t){return Qt.current.useCallback(e,t)};_e.useContext=function(e){return Qt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Qt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Qt.current.useEffect(e,t)};_e.useId=function(){return Qt.current.useId()};_e.useImperativeHandle=function(e,t,n){return Qt.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return Qt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Qt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Qt.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return Qt.current.useReducer(e,t,n)};_e.useRef=function(e){return Qt.current.useRef(e)};_e.useState=function(e){return Qt.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return Qt.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return Qt.current.useTransition()};_e.version="18.3.1";Ub.exports=_e;var m=Ub.exports;const F=Lb(m),Yb=SP({__proto__:null,default:F},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=m,WP=Symbol.for("react.element"),HP=Symbol.for("react.fragment"),VP=Object.prototype.hasOwnProperty,qP=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function Qb(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)VP.call(t,r)&&!KP.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:WP,type:e,key:i,ref:a,props:s,_owner:qP.current}}hf.Fragment=HP;hf.jsx=Qb;hf.jsxs=Qb;$b.exports=hf;var o=$b.exports,Jb={exports:{}},Nn={},Xb={exports:{}},Zb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,T){var z=S.length;S.push(T);e:for(;0<z;){var B=z-1>>>1,H=S[B];if(0<s(H,T))S[B]=T,S[z]=H,z=B;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var T=S[0],z=S.pop();if(z!==T){S[0]=z;e:for(var B=0,H=S.length,V=H>>>1;B<V;){var J=2*(B+1)-1,ve=S[J],X=J+1,$=S[X];if(0>s(ve,z))X<H&&0>s($,ve)?(S[B]=$,S[X]=z,B=X):(S[B]=ve,S[J]=z,B=J);else if(X<H&&0>s($,z))S[B]=$,S[X]=z,B=X;else break e}}return T}function s(S,T){var z=S.sortIndex-T.sortIndex;return z!==0?z:S.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(S){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=S)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function j(S){if(g=!1,b(S),!y)if(n(c)!==null)y=!0,U(N);else{var T=n(u);T!==null&&D(j,T.startTime-S)}}function N(S,T){y=!1,g&&(g=!1,x(k),k=-1),p=!0;var z=h;try{for(b(T),f=n(c);f!==null&&(!(f.expirationTime>T)||S&&!M());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var H=B(f.expirationTime<=T);T=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(c)&&r(c),b(T)}else r(c);f=n(c)}if(f!==null)var V=!0;else{var J=n(u);J!==null&&D(j,J.startTime-T),V=!1}return V}finally{f=null,h=z,p=!1}}var C=!1,_=null,k=-1,E=5,R=-1;function M(){return!(e.unstable_now()-R<E)}function O(){if(_!==null){var S=e.unstable_now();R=S;var T=!0;try{T=_(!0,S)}finally{T?A():(C=!1,_=null)}}else C=!1}var A;if(typeof w=="function")A=function(){w(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,W=I.port2;I.port1.onmessage=O,A=function(){W.postMessage(null)}}else A=function(){v(O,0)};function U(S){_=S,C||(C=!0,A())}function D(S,T){k=v(function(){S(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,U(N))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var z=h;h=T;try{return S()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,T){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var z=h;h=S;try{return T()}finally{h=z}},e.unstable_scheduleCallback=function(S,T,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,S){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,S={id:d++,callback:T,priorityLevel:S,startTime:z,expirationTime:H,sortIndex:-1},z>B?(S.sortIndex=z,t(u,S),n(c)===null&&S===n(u)&&(g?(x(k),k=-1):g=!0,D(j,z-B))):(S.sortIndex=H,t(c,S),y||p||(y=!0,U(N))),S},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(S){var T=h;return function(){var z=h;h=T;try{return S.apply(this,arguments)}finally{h=z}}}})(Zb);Xb.exports=Zb;var GP=Xb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=m,_n=GP;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ej=new Set,Kl={};function Zo(e,t){ua(e,t),ua(e+"Capture",t)}function ua(e,t){for(Kl[e]=t,e=0;e<t.length;e++)ej.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fm=Object.prototype.hasOwnProperty,QP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_y={},Ny={};function JP(e){return Fm.call(Ny,e)?!0:Fm.call(_y,e)?!1:QP.test(e)?Ny[e]=!0:(_y[e]=!0,!1)}function XP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZP(e,t,n,r){if(t===null||typeof t>"u"||XP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ug=/[\-:]([a-z])/g;function zg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ug,zg);kt[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ug,zg);kt[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ug,zg);kt[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bg(e,t,n,r){var s=kt.hasOwnProperty(t)?kt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZP(t,n,s,r)&&(n=null),r||s===null?JP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var us=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),Si=Symbol.for("react.portal"),Ci=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),tj=Symbol.for("react.provider"),nj=Symbol.for("react.context"),Hg=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),Um=Symbol.for("react.suspense_list"),Vg=Symbol.for("react.memo"),Ns=Symbol.for("react.lazy"),rj=Symbol.for("react.offscreen"),Sy=Symbol.iterator;function il(e){return e===null||typeof e!="object"?null:(e=Sy&&e[Sy]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Eh;function bl(e){if(Eh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Eh=t&&t[1]||""}return`
`+Eh+e}var Ph=!1;function Th(e,t){if(!e||Ph)return"";Ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ph=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?bl(e):""}function eT(e){switch(e.tag){case 5:return bl(e.type);case 16:return bl("Lazy");case 13:return bl("Suspense");case 19:return bl("SuspenseList");case 0:case 2:case 15:return e=Th(e.type,!1),e;case 11:return e=Th(e.type.render,!1),e;case 1:return e=Th(e.type,!0),e;default:return""}}function zm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ci:return"Fragment";case Si:return"Portal";case Lm:return"Profiler";case Wg:return"StrictMode";case $m:return"Suspense";case Um:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nj:return(e.displayName||"Context")+".Consumer";case tj:return(e._context.displayName||"Context")+".Provider";case Hg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vg:return t=e.displayName||null,t!==null?t:zm(e.type)||"Memo";case Ns:t=e._payload,e=e._init;try{return zm(e(t))}catch{}}return null}function tT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zm(t);case 8:return t===Wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nT(e){var t=sj(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cu(e){e._valueTracker||(e._valueTracker=nT(e))}function oj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sj(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bm(e,t){var n=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ij(e,t){t=t.checked,t!=null&&Bg(e,"checked",t,!1)}function Wm(e,t){ij(e,t);var n=Xs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hm(e,t.type,Xs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ky(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hm(e,t,n){(t!=="number"||cd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jl=Array.isArray;function Fi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ey(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(jl(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xs(n)}}function aj(e,t){var n=Xs(t.value),r=Xs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Py(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uu,cj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rT=["Webkit","ms","Moz","O"];Object.keys(Pl).forEach(function(e){rT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pl[t]=Pl[e]})});function uj(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pl.hasOwnProperty(e)&&Pl[e]?(""+t).trim():t+"px"}function dj(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=uj(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var sT=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Km(e,t){if(t){if(sT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Gm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ym=null;function qg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qm=null,Li=null,$i=null;function Ty(e){if(e=Ac(e)){if(typeof Qm!="function")throw Error(q(280));var t=e.stateNode;t&&(t=xf(t),Qm(e.stateNode,e.type,t))}}function fj(e){Li?$i?$i.push(e):$i=[e]:Li=e}function hj(){if(Li){var e=Li,t=$i;if($i=Li=null,Ty(e),t)for(e=0;e<t.length;e++)Ty(t[e])}}function mj(e,t){return e(t)}function pj(){}var Rh=!1;function gj(e,t,n){if(Rh)return e(t,n);Rh=!0;try{return mj(e,t,n)}finally{Rh=!1,(Li!==null||$i!==null)&&(pj(),hj())}}function Yl(e,t){var n=e.stateNode;if(n===null)return null;var r=xf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Jm=!1;if(ns)try{var al={};Object.defineProperty(al,"passive",{get:function(){Jm=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Jm=!1}function oT(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Tl=!1,ud=null,dd=!1,Xm=null,iT={onError:function(e){Tl=!0,ud=e}};function aT(e,t,n,r,s,i,a,l,c){Tl=!1,ud=null,oT.apply(iT,arguments)}function lT(e,t,n,r,s,i,a,l,c){if(aT.apply(this,arguments),Tl){if(Tl){var u=ud;Tl=!1,ud=null}else throw Error(q(198));dd||(dd=!0,Xm=u)}}function ei(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ry(e){if(ei(e)!==e)throw Error(q(188))}function cT(e){var t=e.alternate;if(!t){if(t=ei(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ry(s),e;if(i===r)return Ry(s),t;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function xj(e){return e=cT(e),e!==null?yj(e):null}function yj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yj(e);if(t!==null)return t;e=e.sibling}return null}var wj=_n.unstable_scheduleCallback,My=_n.unstable_cancelCallback,uT=_n.unstable_shouldYield,dT=_n.unstable_requestPaint,it=_n.unstable_now,fT=_n.unstable_getCurrentPriorityLevel,Kg=_n.unstable_ImmediatePriority,bj=_n.unstable_UserBlockingPriority,fd=_n.unstable_NormalPriority,hT=_n.unstable_LowPriority,jj=_n.unstable_IdlePriority,mf=null,Ar=null;function mT(e){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(mf,e,void 0,(e.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:vT,pT=Math.log,gT=Math.LN2;function vT(e){return e>>>=0,e===0?32:31-(pT(e)/gT|0)|0}var du=64,fu=4194304;function _l(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=_l(l):(i&=a,i!==0&&(r=_l(i)))}else a=n&~s,a!==0?r=_l(a):i!==0&&(r=_l(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-sr(t),s=1<<n,r|=e[n],t&=~s;return r}function xT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-sr(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=xT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Zm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _j(){var e=du;return du<<=1,!(du&4194240)&&(du=64),e}function Mh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sr(t),e[t]=n}function wT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-sr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Gg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-sr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Oe=0;function Nj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sj,Yg,Cj,kj,Ej,ep=!1,hu=[],Ws=null,Hs=null,Vs=null,Ql=new Map,Jl=new Map,Es=[],bT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ay(e,t){switch(e){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(t.pointerId)}}function ll(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ac(t),t!==null&&Yg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jT(e,t,n,r,s){switch(t){case"focusin":return Ws=ll(Ws,e,t,n,r,s),!0;case"dragenter":return Hs=ll(Hs,e,t,n,r,s),!0;case"mouseover":return Vs=ll(Vs,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ql.set(i,ll(Ql.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Jl.set(i,ll(Jl.get(i)||null,e,t,n,r,s)),!0}return!1}function Pj(e){var t=ko(e.target);if(t!==null){var n=ei(t);if(n!==null){if(t=n.tag,t===13){if(t=vj(n),t!==null){e.blockedOn=t,Ej(e.priority,function(){Cj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ym=r,n.target.dispatchEvent(r),Ym=null}else return t=Ac(n),t!==null&&Yg(t),e.blockedOn=n,!1;t.shift()}return!0}function Oy(e,t,n){Vu(e)&&n.delete(t)}function _T(){ep=!1,Ws!==null&&Vu(Ws)&&(Ws=null),Hs!==null&&Vu(Hs)&&(Hs=null),Vs!==null&&Vu(Vs)&&(Vs=null),Ql.forEach(Oy),Jl.forEach(Oy)}function cl(e,t){e.blockedOn===t&&(e.blockedOn=null,ep||(ep=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,_T)))}function Xl(e){function t(s){return cl(s,e)}if(0<hu.length){cl(hu[0],e);for(var n=1;n<hu.length;n++){var r=hu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ws!==null&&cl(Ws,e),Hs!==null&&cl(Hs,e),Vs!==null&&cl(Vs,e),Ql.forEach(t),Jl.forEach(t),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)Pj(n),n.blockedOn===null&&Es.shift()}var Ui=us.ReactCurrentBatchConfig,md=!0;function NT(e,t,n,r){var s=Oe,i=Ui.transition;Ui.transition=null;try{Oe=1,Qg(e,t,n,r)}finally{Oe=s,Ui.transition=i}}function ST(e,t,n,r){var s=Oe,i=Ui.transition;Ui.transition=null;try{Oe=4,Qg(e,t,n,r)}finally{Oe=s,Ui.transition=i}}function Qg(e,t,n,r){if(md){var s=tp(e,t,n,r);if(s===null)Bh(e,t,r,pd,n),Ay(e,r);else if(jT(s,e,t,n,r))r.stopPropagation();else if(Ay(e,r),t&4&&-1<bT.indexOf(e)){for(;s!==null;){var i=Ac(s);if(i!==null&&Sj(i),i=tp(e,t,n,r),i===null&&Bh(e,t,r,pd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bh(e,t,r,null,n)}}var pd=null;function tp(e,t,n,r){if(pd=null,e=qg(r),e=ko(e),e!==null)if(t=ei(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vj(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pd=e,null}function Tj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fT()){case Kg:return 1;case bj:return 4;case fd:case hT:return 16;case jj:return 536870912;default:return 16}default:return 16}}var Us=null,Jg=null,qu=null;function Rj(){if(qu)return qu;var e,t=Jg,n=t.length,r,s="value"in Us?Us.value:Us.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return qu=s.slice(e,1<r?1-r:void 0)}function Ku(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mu(){return!0}function Iy(){return!1}function Sn(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mu:Iy,this.isPropagationStopped=Iy,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),t}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xg=Sn(ka),Mc=tt({},ka,{view:0,detail:0}),CT=Sn(Mc),Ah,Oh,ul,pf=tt({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ul&&(ul&&e.type==="mousemove"?(Ah=e.screenX-ul.screenX,Oh=e.screenY-ul.screenY):Oh=Ah=0,ul=e),Ah)},movementY:function(e){return"movementY"in e?e.movementY:Oh}}),Dy=Sn(pf),kT=tt({},pf,{dataTransfer:0}),ET=Sn(kT),PT=tt({},Mc,{relatedTarget:0}),Ih=Sn(PT),TT=tt({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),RT=Sn(TT),MT=tt({},ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AT=Sn(MT),OT=tt({},ka,{data:0}),Fy=Sn(OT),IT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FT[e])?!!t[e]:!1}function Zg(){return LT}var $T=tt({},Mc,{key:function(e){if(e.key){var t=IT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ku(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zg,charCode:function(e){return e.type==="keypress"?Ku(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ku(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UT=Sn($T),zT=tt({},pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ly=Sn(zT),BT=tt({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zg}),WT=Sn(BT),HT=tt({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),VT=Sn(HT),qT=tt({},pf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KT=Sn(qT),GT=[9,13,27,32],ev=ns&&"CompositionEvent"in window,Rl=null;ns&&"documentMode"in document&&(Rl=document.documentMode);var YT=ns&&"TextEvent"in window&&!Rl,Mj=ns&&(!ev||Rl&&8<Rl&&11>=Rl),$y=" ",Uy=!1;function Aj(e,t){switch(e){case"keyup":return GT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ki=!1;function QT(e,t){switch(e){case"compositionend":return Oj(t);case"keypress":return t.which!==32?null:(Uy=!0,$y);case"textInput":return e=t.data,e===$y&&Uy?null:e;default:return null}}function JT(e,t){if(ki)return e==="compositionend"||!ev&&Aj(e,t)?(e=Rj(),qu=Jg=Us=null,ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mj&&t.locale!=="ko"?null:t.data;default:return null}}var XT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XT[e.type]:t==="textarea"}function Ij(e,t,n,r){fj(r),t=gd(t,"onChange"),0<t.length&&(n=new Xg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ml=null,Zl=null;function ZT(e){qj(e,0)}function gf(e){var t=Ti(e);if(oj(t))return e}function eR(e,t){if(e==="change")return t}var Dj=!1;if(ns){var Dh;if(ns){var Fh="oninput"in document;if(!Fh){var By=document.createElement("div");By.setAttribute("oninput","return;"),Fh=typeof By.oninput=="function"}Dh=Fh}else Dh=!1;Dj=Dh&&(!document.documentMode||9<document.documentMode)}function Wy(){Ml&&(Ml.detachEvent("onpropertychange",Fj),Zl=Ml=null)}function Fj(e){if(e.propertyName==="value"&&gf(Zl)){var t=[];Ij(t,Zl,e,qg(e)),gj(ZT,t)}}function tR(e,t,n){e==="focusin"?(Wy(),Ml=t,Zl=n,Ml.attachEvent("onpropertychange",Fj)):e==="focusout"&&Wy()}function nR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gf(Zl)}function rR(e,t){if(e==="click")return gf(t)}function sR(e,t){if(e==="input"||e==="change")return gf(t)}function oR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:oR;function ec(e,t){if(ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fm.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function Hy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vy(e,t){var n=Hy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hy(n)}}function Lj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $j(){for(var e=window,t=cd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cd(e.document)}return t}function tv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iR(e){var t=$j(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lj(n.ownerDocument.documentElement,n)){if(r!==null&&tv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Vy(n,i);var a=Vy(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aR=ns&&"documentMode"in document&&11>=document.documentMode,Ei=null,np=null,Al=null,rp=!1;function qy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rp||Ei==null||Ei!==cd(r)||(r=Ei,"selectionStart"in r&&tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Al&&ec(Al,r)||(Al=r,r=gd(np,"onSelect"),0<r.length&&(t=new Xg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ei)))}function pu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pi={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},Lh={},Uj={};ns&&(Uj=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function vf(e){if(Lh[e])return Lh[e];if(!Pi[e])return e;var t=Pi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uj)return Lh[e]=t[n];return e}var zj=vf("animationend"),Bj=vf("animationiteration"),Wj=vf("animationstart"),Hj=vf("transitionend"),Vj=new Map,Ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(e,t){Vj.set(e,t),Zo(t,[e])}for(var $h=0;$h<Ky.length;$h++){var Uh=Ky[$h],lR=Uh.toLowerCase(),cR=Uh[0].toUpperCase()+Uh.slice(1);ao(lR,"on"+cR)}ao(zj,"onAnimationEnd");ao(Bj,"onAnimationIteration");ao(Wj,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(Hj,"onTransitionEnd");ua("onMouseEnter",["mouseout","mouseover"]);ua("onMouseLeave",["mouseout","mouseover"]);ua("onPointerEnter",["pointerout","pointerover"]);ua("onPointerLeave",["pointerout","pointerover"]);Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function Gy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lT(r,t,void 0,e),e.currentTarget=null}function qj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Gy(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Gy(s,l,u),i=c}}}if(dd)throw e=Xm,dd=!1,Xm=null,e}function Be(e,t){var n=t[lp];n===void 0&&(n=t[lp]=new Set);var r=e+"__bubble";n.has(r)||(Kj(t,e,2,!1),n.add(r))}function zh(e,t,n){var r=0;t&&(r|=4),Kj(n,e,r,t)}var gu="_reactListening"+Math.random().toString(36).slice(2);function tc(e){if(!e[gu]){e[gu]=!0,ej.forEach(function(n){n!=="selectionchange"&&(uR.has(n)||zh(n,!1,e),zh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gu]||(t[gu]=!0,zh("selectionchange",!1,t))}}function Kj(e,t,n,r){switch(Tj(t)){case 1:var s=NT;break;case 4:s=ST;break;default:s=Qg}n=s.bind(null,t,n,e),s=void 0,!Jm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Bh(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ko(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}gj(function(){var u=i,d=qg(n),f=[];e:{var h=Vj.get(e);if(h!==void 0){var p=Xg,y=e;switch(e){case"keypress":if(Ku(n)===0)break e;case"keydown":case"keyup":p=UT;break;case"focusin":y="focus",p=Ih;break;case"focusout":y="blur",p=Ih;break;case"beforeblur":case"afterblur":p=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ET;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=WT;break;case zj:case Bj:case Wj:p=RT;break;case Hj:p=VT;break;case"scroll":p=CT;break;case"wheel":p=KT;break;case"copy":case"cut":case"paste":p=AT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ly}var g=(t&4)!==0,v=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=Yl(w,x),j!=null&&g.push(nc(w,j,b)))),v)break;w=w.return}0<g.length&&(h=new p(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Ym&&(y=n.relatedTarget||n.fromElement)&&(ko(y)||y[rs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?ko(y):null,y!==null&&(v=ei(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(g=Dy,j="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ly,j="onPointerLeave",x="onPointerEnter",w="pointer"),v=p==null?h:Ti(p),b=y==null?h:Ti(y),h=new g(j,w+"leave",p,n,d),h.target=v,h.relatedTarget=b,j=null,ko(d)===u&&(g=new g(x,w+"enter",y,n,d),g.target=b,g.relatedTarget=v,j=g),v=j,p&&y)t:{for(g=p,x=y,w=0,b=g;b;b=fi(b))w++;for(b=0,j=x;j;j=fi(j))b++;for(;0<w-b;)g=fi(g),w--;for(;0<b-w;)x=fi(x),b--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=fi(g),x=fi(x)}g=null}else g=null;p!==null&&Yy(f,h,p,g,!1),y!==null&&v!==null&&Yy(f,v,y,g,!0)}}e:{if(h=u?Ti(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=eR;else if(zy(h))if(Dj)N=sR;else{N=nR;var C=tR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=rR);if(N&&(N=N(e,u))){Ij(f,N,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Hm(h,"number",h.value)}switch(C=u?Ti(u):window,e){case"focusin":(zy(C)||C.contentEditable==="true")&&(Ei=C,np=u,Al=null);break;case"focusout":Al=np=Ei=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,qy(f,n,d);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":qy(f,n,d)}var _;if(ev)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ki?Aj(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Mj&&n.locale!=="ko"&&(ki||k!=="onCompositionStart"?k==="onCompositionEnd"&&ki&&(_=Rj()):(Us=d,Jg="value"in Us?Us.value:Us.textContent,ki=!0)),C=gd(u,k),0<C.length&&(k=new Fy(k,e,null,n,d),f.push({event:k,listeners:C}),_?k.data=_:(_=Oj(n),_!==null&&(k.data=_)))),(_=YT?QT(e,n):JT(e,n))&&(u=gd(u,"onBeforeInput"),0<u.length&&(d=new Fy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}qj(f,t)})}function nc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yl(e,n),i!=null&&r.unshift(nc(e,i,s)),i=Yl(e,t),i!=null&&r.push(nc(e,i,s))),e=e.return}return r}function fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yy(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Yl(n,i),c!=null&&a.unshift(nc(n,c,l))):s||(c=Yl(n,i),c!=null&&a.push(nc(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var dR=/\r\n?/g,fR=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(dR,`
`).replace(fR,"")}function vu(e,t,n){if(t=Qy(t),Qy(e)!==t&&n)throw Error(q(425))}function vd(){}var sp=null,op=null;function ip(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ap=typeof setTimeout=="function"?setTimeout:void 0,hR=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,mR=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(pR)}:ap;function pR(e){setTimeout(function(){throw e})}function Wh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Xl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xl(t)}function qs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Ea,rc="__reactProps$"+Ea,rs="__reactContainer$"+Ea,lp="__reactEvents$"+Ea,gR="__reactListeners$"+Ea,vR="__reactHandles$"+Ea;function ko(e){var t=e[Tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rs]||n[Tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xy(e);e!==null;){if(n=e[Tr])return n;e=Xy(e)}return t}e=n,n=e.parentNode}return null}function Ac(e){return e=e[Tr]||e[rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ti(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function xf(e){return e[rc]||null}var cp=[],Ri=-1;function lo(e){return{current:e}}function We(e){0>Ri||(e.current=cp[Ri],cp[Ri]=null,Ri--)}function $e(e,t){Ri++,cp[Ri]=e.current,e.current=t}var Zs={},Ut=lo(Zs),ln=lo(!1),Uo=Zs;function da(e,t){var n=e.type.contextTypes;if(!n)return Zs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function cn(e){return e=e.childContextTypes,e!=null}function xd(){We(ln),We(Ut)}function Zy(e,t,n){if(Ut.current!==Zs)throw Error(q(168));$e(Ut,t),$e(ln,n)}function Gj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(q(108,tT(e)||"Unknown",s));return tt({},n,r)}function yd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zs,Uo=Ut.current,$e(Ut,e),$e(ln,ln.current),!0}function e0(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=Gj(e,t,Uo),r.__reactInternalMemoizedMergedChildContext=e,We(ln),We(Ut),$e(Ut,e)):We(ln),$e(ln,n)}var Qr=null,yf=!1,Hh=!1;function Yj(e){Qr===null?Qr=[e]:Qr.push(e)}function xR(e){yf=!0,Yj(e)}function co(){if(!Hh&&Qr!==null){Hh=!0;var e=0,t=Oe;try{var n=Qr;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qr=null,yf=!1}catch(s){throw Qr!==null&&(Qr=Qr.slice(e+1)),wj(Kg,co),s}finally{Oe=t,Hh=!1}}return null}var Mi=[],Ai=0,wd=null,bd=0,Mn=[],An=0,zo=null,Xr=1,Zr="";function bo(e,t){Mi[Ai++]=bd,Mi[Ai++]=wd,wd=e,bd=t}function Qj(e,t,n){Mn[An++]=Xr,Mn[An++]=Zr,Mn[An++]=zo,zo=e;var r=Xr;e=Zr;var s=32-sr(r)-1;r&=~(1<<s),n+=1;var i=32-sr(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Xr=1<<32-sr(t)+s|n<<s|r,Zr=i+e}else Xr=1<<i|n<<s|r,Zr=e}function nv(e){e.return!==null&&(bo(e,1),Qj(e,1,0))}function rv(e){for(;e===wd;)wd=Mi[--Ai],Mi[Ai]=null,bd=Mi[--Ai],Mi[Ai]=null;for(;e===zo;)zo=Mn[--An],Mn[An]=null,Zr=Mn[--An],Mn[An]=null,Xr=Mn[--An],Mn[An]=null}var bn=null,wn=null,qe=!1,tr=null;function Jj(e,t){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function t0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,wn=qs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,wn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zo!==null?{id:Xr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bn=e,wn=null,!0):!1;default:return!1}}function up(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dp(e){if(qe){var t=wn;if(t){var n=t;if(!t0(e,t)){if(up(e))throw Error(q(418));t=qs(n.nextSibling);var r=bn;t&&t0(e,t)?Jj(r,n):(e.flags=e.flags&-4097|2,qe=!1,bn=e)}}else{if(up(e))throw Error(q(418));e.flags=e.flags&-4097|2,qe=!1,bn=e}}}function n0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function xu(e){if(e!==bn)return!1;if(!qe)return n0(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ip(e.type,e.memoizedProps)),t&&(t=wn)){if(up(e))throw Xj(),Error(q(418));for(;t;)Jj(e,t),t=qs(t.nextSibling)}if(n0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wn=qs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wn=null}}else wn=bn?qs(e.stateNode.nextSibling):null;return!0}function Xj(){for(var e=wn;e;)e=qs(e.nextSibling)}function fa(){wn=bn=null,qe=!1}function sv(e){tr===null?tr=[e]:tr.push(e)}var yR=us.ReactCurrentBatchConfig;function dl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function yu(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function r0(e){var t=e._init;return t(e._payload)}function Zj(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Qs(x,w),x.index=0,x.sibling=null,x}function i(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,w,b,j){return w===null||w.tag!==6?(w=Jh(b,x.mode,j),w.return=x,w):(w=s(w,b),w.return=x,w)}function c(x,w,b,j){var N=b.type;return N===Ci?d(x,w,b.props.children,j,b.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ns&&r0(N)===w.type)?(j=s(w,b.props),j.ref=dl(x,w,b),j.return=x,j):(j=ed(b.type,b.key,b.props,null,x.mode,j),j.ref=dl(x,w,b),j.return=x,j)}function u(x,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Xh(b,x.mode,j),w.return=x,w):(w=s(w,b.children||[]),w.return=x,w)}function d(x,w,b,j,N){return w===null||w.tag!==7?(w=Lo(b,x.mode,j,N),w.return=x,w):(w=s(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Jh(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lu:return b=ed(w.type,w.key,w.props,null,x.mode,b),b.ref=dl(x,null,w),b.return=x,b;case Si:return w=Xh(w,x.mode,b),w.return=x,w;case Ns:var j=w._init;return f(x,j(w._payload),b)}if(jl(w)||il(w))return w=Lo(w,x.mode,b,null),w.return=x,w;yu(x,w)}return null}function h(x,w,b,j){var N=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(x,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lu:return b.key===N?c(x,w,b,j):null;case Si:return b.key===N?u(x,w,b,j):null;case Ns:return N=b._init,h(x,w,N(b._payload),j)}if(jl(b)||il(b))return N!==null?null:d(x,w,b,j,null);yu(x,b)}return null}function p(x,w,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,l(w,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case lu:return x=x.get(j.key===null?b:j.key)||null,c(w,x,j,N);case Si:return x=x.get(j.key===null?b:j.key)||null,u(w,x,j,N);case Ns:var C=j._init;return p(x,w,b,C(j._payload),N)}if(jl(j)||il(j))return x=x.get(b)||null,d(w,x,j,N,null);yu(w,j)}return null}function y(x,w,b,j){for(var N=null,C=null,_=w,k=w=0,E=null;_!==null&&k<b.length;k++){_.index>k?(E=_,_=null):E=_.sibling;var R=h(x,_,b[k],j);if(R===null){_===null&&(_=E);break}e&&_&&R.alternate===null&&t(x,_),w=i(R,w,k),C===null?N=R:C.sibling=R,C=R,_=E}if(k===b.length)return n(x,_),qe&&bo(x,k),N;if(_===null){for(;k<b.length;k++)_=f(x,b[k],j),_!==null&&(w=i(_,w,k),C===null?N=_:C.sibling=_,C=_);return qe&&bo(x,k),N}for(_=r(x,_);k<b.length;k++)E=p(_,x,k,b[k],j),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?k:E.key),w=i(E,w,k),C===null?N=E:C.sibling=E,C=E);return e&&_.forEach(function(M){return t(x,M)}),qe&&bo(x,k),N}function g(x,w,b,j){var N=il(b);if(typeof N!="function")throw Error(q(150));if(b=N.call(b),b==null)throw Error(q(151));for(var C=N=null,_=w,k=w=0,E=null,R=b.next();_!==null&&!R.done;k++,R=b.next()){_.index>k?(E=_,_=null):E=_.sibling;var M=h(x,_,R.value,j);if(M===null){_===null&&(_=E);break}e&&_&&M.alternate===null&&t(x,_),w=i(M,w,k),C===null?N=M:C.sibling=M,C=M,_=E}if(R.done)return n(x,_),qe&&bo(x,k),N;if(_===null){for(;!R.done;k++,R=b.next())R=f(x,R.value,j),R!==null&&(w=i(R,w,k),C===null?N=R:C.sibling=R,C=R);return qe&&bo(x,k),N}for(_=r(x,_);!R.done;k++,R=b.next())R=p(_,x,k,R.value,j),R!==null&&(e&&R.alternate!==null&&_.delete(R.key===null?k:R.key),w=i(R,w,k),C===null?N=R:C.sibling=R,C=R);return e&&_.forEach(function(O){return t(x,O)}),qe&&bo(x,k),N}function v(x,w,b,j){if(typeof b=="object"&&b!==null&&b.type===Ci&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case lu:e:{for(var N=b.key,C=w;C!==null;){if(C.key===N){if(N=b.type,N===Ci){if(C.tag===7){n(x,C.sibling),w=s(C,b.props.children),w.return=x,x=w;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ns&&r0(N)===C.type){n(x,C.sibling),w=s(C,b.props),w.ref=dl(x,C,b),w.return=x,x=w;break e}n(x,C);break}else t(x,C);C=C.sibling}b.type===Ci?(w=Lo(b.props.children,x.mode,j,b.key),w.return=x,x=w):(j=ed(b.type,b.key,b.props,null,x.mode,j),j.ref=dl(x,w,b),j.return=x,x=j)}return a(x);case Si:e:{for(C=b.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(x,w.sibling),w=s(w,b.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=Xh(b,x.mode,j),w.return=x,x=w}return a(x);case Ns:return C=b._init,v(x,w,C(b._payload),j)}if(jl(b))return y(x,w,b,j);if(il(b))return g(x,w,b,j);yu(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,b),w.return=x,x=w):(n(x,w),w=Jh(b,x.mode,j),w.return=x,x=w),a(x)):n(x,w)}return v}var ha=Zj(!0),e1=Zj(!1),jd=lo(null),_d=null,Oi=null,ov=null;function iv(){ov=Oi=_d=null}function av(e){var t=jd.current;We(jd),e._currentValue=t}function fp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zi(e,t){_d=e,ov=Oi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function $n(e){var t=e._currentValue;if(ov!==e)if(e={context:e,memoizedValue:t,next:null},Oi===null){if(_d===null)throw Error(q(308));Oi=e,_d.dependencies={lanes:0,firstContext:e}}else Oi=Oi.next=e;return t}var Eo=null;function lv(e){Eo===null?Eo=[e]:Eo.push(e)}function t1(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,lv(t)):(n.next=s.next,s.next=n),t.interleaved=n,ss(e,r)}function ss(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ss=!1;function cv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ss(e,n)}return s=r.interleaved,s===null?(t.next=t,lv(r)):(t.next=s.next,s.next=t),r.interleaved=t,ss(e,n)}function Gu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gg(e,n)}}function s0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nd(e,t,n,r){var s=e.updateQueue;Ss=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(h=t,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=tt({},f,h);break e;case 2:Ss=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Wo|=a,e.lanes=a,e.memoizedState=f}}function o0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var Oc={},Or=lo(Oc),sc=lo(Oc),oc=lo(Oc);function Po(e){if(e===Oc)throw Error(q(174));return e}function uv(e,t){switch($e(oc,t),$e(sc,e),$e(Or,Oc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qm(t,e)}We(Or),$e(Or,t)}function ma(){We(Or),We(sc),We(oc)}function r1(e){Po(oc.current);var t=Po(Or.current),n=qm(t,e.type);t!==n&&($e(sc,e),$e(Or,n))}function dv(e){sc.current===e&&(We(Or),We(sc))}var Xe=lo(0);function Sd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vh=[];function fv(){for(var e=0;e<Vh.length;e++)Vh[e]._workInProgressVersionPrimary=null;Vh.length=0}var Yu=us.ReactCurrentDispatcher,qh=us.ReactCurrentBatchConfig,Bo=0,Ze=null,ut=null,wt=null,Cd=!1,Ol=!1,ic=0,wR=0;function Mt(){throw Error(q(321))}function hv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mv(e,t,n,r,s,i){if(Bo=i,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yu.current=e===null||e.memoizedState===null?NR:SR,e=n(r,s),Ol){i=0;do{if(Ol=!1,ic=0,25<=i)throw Error(q(301));i+=1,wt=ut=null,t.updateQueue=null,Yu.current=CR,e=n(r,s)}while(Ol)}if(Yu.current=kd,t=ut!==null&&ut.next!==null,Bo=0,wt=ut=Ze=null,Cd=!1,t)throw Error(q(300));return e}function pv(){var e=ic!==0;return ic=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=e:wt=wt.next=e,wt}function Un(){if(ut===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=wt===null?Ze.memoizedState:wt.next;if(t!==null)wt=t,ut=e;else{if(e===null)throw Error(q(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},wt===null?Ze.memoizedState=wt=e:wt=wt.next=e}return wt}function ac(e,t){return typeof t=="function"?t(e):t}function Kh(e){var t=Un(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=ut,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Bo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Ze.lanes|=d,Wo|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,ar(r,t.memoizedState)||(on=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ze.lanes|=i,Wo|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gh(e){var t=Un(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);ar(i,t.memoizedState)||(on=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function s1(){}function o1(e,t){var n=Ze,r=Un(),s=t(),i=!ar(r.memoizedState,s);if(i&&(r.memoizedState=s,on=!0),r=r.queue,gv(l1.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,lc(9,a1.bind(null,n,r,s,t),void 0,null),jt===null)throw Error(q(349));Bo&30||i1(n,t,s)}return s}function i1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function a1(e,t,n,r){t.value=n,t.getSnapshot=r,c1(t)&&u1(e)}function l1(e,t,n){return n(function(){c1(t)&&u1(e)})}function c1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch{return!0}}function u1(e){var t=ss(e,1);t!==null&&or(t,e,1,-1)}function i0(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:e},t.queue=e,e=e.dispatch=_R.bind(null,Ze,e),[t.memoizedState,e]}function lc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function d1(){return Un().memoizedState}function Qu(e,t,n,r){var s=Sr();Ze.flags|=e,s.memoizedState=lc(1|t,n,void 0,r===void 0?null:r)}function wf(e,t,n,r){var s=Un();r=r===void 0?null:r;var i=void 0;if(ut!==null){var a=ut.memoizedState;if(i=a.destroy,r!==null&&hv(r,a.deps)){s.memoizedState=lc(t,n,i,r);return}}Ze.flags|=e,s.memoizedState=lc(1|t,n,i,r)}function a0(e,t){return Qu(8390656,8,e,t)}function gv(e,t){return wf(2048,8,e,t)}function f1(e,t){return wf(4,2,e,t)}function h1(e,t){return wf(4,4,e,t)}function m1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p1(e,t,n){return n=n!=null?n.concat([e]):null,wf(4,4,m1.bind(null,t,e),n)}function vv(){}function g1(e,t){var n=Un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function v1(e,t){var n=Un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function x1(e,t,n){return Bo&21?(ar(n,t)||(n=_j(),Ze.lanes|=n,Wo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=n)}function bR(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=qh.transition;qh.transition={};try{e(!1),t()}finally{Oe=n,qh.transition=r}}function y1(){return Un().memoizedState}function jR(e,t,n){var r=Ys(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w1(e))b1(t,n);else if(n=t1(e,t,n,r),n!==null){var s=Yt();or(n,e,r,s),j1(n,t,r)}}function _R(e,t,n){var r=Ys(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w1(e))b1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ar(l,a)){var c=t.interleaved;c===null?(s.next=s,lv(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=t1(e,t,s,r),n!==null&&(s=Yt(),or(n,e,r,s),j1(n,t,r))}}function w1(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function b1(e,t){Ol=Cd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function j1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gg(e,n)}}var kd={readContext:$n,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},NR={readContext:$n,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:$n,useEffect:a0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qu(4194308,4,m1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qu(4,2,e,t)},useMemo:function(e,t){var n=Sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jR.bind(null,Ze,e),[r.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:i0,useDebugValue:vv,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=i0(!1),t=e[0];return e=bR.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ze,s=Sr();if(qe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),jt===null)throw Error(q(349));Bo&30||i1(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,a0(l1.bind(null,r,i,e),[e]),r.flags|=2048,lc(9,a1.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Sr(),t=jt.identifierPrefix;if(qe){var n=Zr,r=Xr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ic++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SR={readContext:$n,useCallback:g1,useContext:$n,useEffect:gv,useImperativeHandle:p1,useInsertionEffect:f1,useLayoutEffect:h1,useMemo:v1,useReducer:Kh,useRef:d1,useState:function(){return Kh(ac)},useDebugValue:vv,useDeferredValue:function(e){var t=Un();return x1(t,ut.memoizedState,e)},useTransition:function(){var e=Kh(ac)[0],t=Un().memoizedState;return[e,t]},useMutableSource:s1,useSyncExternalStore:o1,useId:y1,unstable_isNewReconciler:!1},CR={readContext:$n,useCallback:g1,useContext:$n,useEffect:gv,useImperativeHandle:p1,useInsertionEffect:f1,useLayoutEffect:h1,useMemo:v1,useReducer:Gh,useRef:d1,useState:function(){return Gh(ac)},useDebugValue:vv,useDeferredValue:function(e){var t=Un();return ut===null?t.memoizedState=e:x1(t,ut.memoizedState,e)},useTransition:function(){var e=Gh(ac)[0],t=Un().memoizedState;return[e,t]},useMutableSource:s1,useSyncExternalStore:o1,useId:y1,unstable_isNewReconciler:!1};function Jn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bf={isMounted:function(e){return(e=e._reactInternals)?ei(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yt(),s=Ys(e),i=es(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ks(e,i,s),t!==null&&(or(t,e,s,r),Gu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yt(),s=Ys(e),i=es(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ks(e,i,s),t!==null&&(or(t,e,s,r),Gu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yt(),r=Ys(e),s=es(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ks(e,s,r),t!==null&&(or(t,e,r,n),Gu(t,e,r))}};function l0(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!ec(n,r)||!ec(s,i):!0}function _1(e,t,n){var r=!1,s=Zs,i=t.contextType;return typeof i=="object"&&i!==null?i=$n(i):(s=cn(t)?Uo:Ut.current,r=t.contextTypes,i=(r=r!=null)?da(e,s):Zs),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function c0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bf.enqueueReplaceState(t,t.state,null)}function mp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},cv(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=$n(i):(i=cn(t)?Uo:Ut.current,s.context=da(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hp(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bf.enqueueReplaceState(s,s.state,null),Nd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pa(e,t){try{var n="",r=t;do n+=eT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Yh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kR=typeof WeakMap=="function"?WeakMap:Map;function N1(e,t,n){n=es(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pd||(Pd=!0,Sp=r),pp(e,t)},n}function S1(e,t,n){n=es(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){pp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){pp(e,t),typeof r!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function u0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kR;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=zR.bind(null,e,t,n),t.then(e,e))}function d0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function f0(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=es(-1,1),t.tag=2,Ks(n,t,1))),n.lanes|=1),e)}var ER=us.ReactCurrentOwner,on=!1;function Kt(e,t,n,r){t.child=e===null?e1(t,null,n,r):ha(t,e.child,n,r)}function h0(e,t,n,r,s){n=n.render;var i=t.ref;return zi(t,s),r=mv(e,t,n,r,i,s),n=pv(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,os(e,t,s)):(qe&&n&&nv(t),t.flags|=1,Kt(e,t,r,s),t.child)}function m0(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Sv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,C1(e,t,i,r,s)):(e=ed(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ec,n(a,r)&&e.ref===t.ref)return os(e,t,s)}return t.flags|=1,e=Qs(i,r),e.ref=t.ref,e.return=t,t.child=e}function C1(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ec(i,r)&&e.ref===t.ref)if(on=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,os(e,t,s)}return gp(e,t,n,r,s)}function k1(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Di,vn),vn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Di,vn),vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(Di,vn),vn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,$e(Di,vn),vn|=r;return Kt(e,t,s,n),t.child}function E1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gp(e,t,n,r,s){var i=cn(n)?Uo:Ut.current;return i=da(t,i),zi(t,s),n=mv(e,t,n,r,i,s),r=pv(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,os(e,t,s)):(qe&&r&&nv(t),t.flags|=1,Kt(e,t,n,s),t.child)}function p0(e,t,n,r,s){if(cn(n)){var i=!0;yd(t)}else i=!1;if(zi(t,s),t.stateNode===null)Ju(e,t),_1(t,n,r),mp(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=$n(u):(u=cn(n)?Uo:Ut.current,u=da(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&c0(t,a,r,u),Ss=!1;var h=t.memoizedState;a.state=h,Nd(t,r,a,s),c=t.memoizedState,l!==r||h!==c||ln.current||Ss?(typeof d=="function"&&(hp(t,n,d,r),c=t.memoizedState),(l=Ss||l0(t,n,l,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,n1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Jn(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=$n(c):(c=cn(n)?Uo:Ut.current,c=da(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&c0(t,a,r,c),Ss=!1,h=t.memoizedState,a.state=h,Nd(t,r,a,s);var y=t.memoizedState;l!==f||h!==y||ln.current||Ss?(typeof p=="function"&&(hp(t,n,p,r),y=t.memoizedState),(u=Ss||l0(t,n,u,r,h,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return vp(e,t,n,r,i,s)}function vp(e,t,n,r,s,i){E1(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&e0(t,n,!1),os(e,t,i);r=t.stateNode,ER.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ha(t,e.child,null,i),t.child=ha(t,null,l,i)):Kt(e,t,l,i),t.memoizedState=r.state,s&&e0(t,n,!0),t.child}function P1(e){var t=e.stateNode;t.pendingContext?Zy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zy(e,t.context,!1),uv(e,t.containerInfo)}function g0(e,t,n,r,s){return fa(),sv(s),t.flags|=256,Kt(e,t,n,r),t.child}var xp={dehydrated:null,treeContext:null,retryLane:0};function yp(e){return{baseLanes:e,cachePool:null,transitions:null}}function T1(e,t,n){var r=t.pendingProps,s=Xe.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$e(Xe,s&1),e===null)return dp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Nf(a,r,0,null),e=Lo(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yp(n),t.memoizedState=xp,e):xv(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return PR(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Qs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qs(l,i):(i=Lo(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?yp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=xp,r}return i=e.child,e=i.sibling,r=Qs(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xv(e,t){return t=Nf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wu(e,t,n,r){return r!==null&&sv(r),ha(t,e.child,null,n),e=xv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PR(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Yh(Error(q(422))),wu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Nf({mode:"visible",children:r.children},s,0,null),i=Lo(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ha(t,e.child,null,a),t.child.memoizedState=yp(a),t.memoizedState=xp,i);if(!(t.mode&1))return wu(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(q(419)),r=Yh(i,r,void 0),wu(e,t,a,r)}if(l=(a&e.childLanes)!==0,on||l){if(r=jt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ss(e,s),or(r,e,s,-1))}return Nv(),r=Yh(Error(q(421))),wu(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=BR.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,wn=qs(s.nextSibling),bn=t,qe=!0,tr=null,e!==null&&(Mn[An++]=Xr,Mn[An++]=Zr,Mn[An++]=zo,Xr=e.id,Zr=e.overflow,zo=t),t=xv(t,r.children),t.flags|=4096,t)}function v0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fp(e.return,t,n)}function Qh(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function R1(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Kt(e,t,r.children,n),r=Xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&v0(e,n,t);else if(e.tag===19)v0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Xe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Sd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qh(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qh(t,!0,n,null,i);break;case"together":Qh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ju(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function os(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=Qs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function TR(e,t,n){switch(t.tag){case 3:P1(t),fa();break;case 5:r1(t);break;case 1:cn(t.type)&&yd(t);break;case 4:uv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;$e(jd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Xe,Xe.current&1),t.flags|=128,null):n&t.child.childLanes?T1(e,t,n):($e(Xe,Xe.current&1),e=os(e,t,n),e!==null?e.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return R1(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(Xe,Xe.current),r)break;return null;case 22:case 23:return t.lanes=0,k1(e,t,n)}return os(e,t,n)}var M1,wp,A1,O1;M1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wp=function(){};A1=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Po(Or.current);var i=null;switch(n){case"input":s=Bm(e,s),r=Bm(e,r),i=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":s=Vm(e,s),r=Vm(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vd)}Km(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};O1=function(e,t,n,r){n!==r&&(t.flags|=4)};function fl(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function RR(e,t,n){var r=t.pendingProps;switch(rv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return cn(t.type)&&xd(),At(t),null;case 3:return r=t.stateNode,ma(),We(ln),We(Ut),fv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tr!==null&&(Ep(tr),tr=null))),wp(e,t),At(t),null;case 5:dv(t);var s=Po(oc.current);if(n=t.type,e!==null&&t.stateNode!=null)A1(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return At(t),null}if(e=Po(Or.current),xu(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Tr]=t,r[rc]=i,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Nl.length;s++)Be(Nl[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Cy(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":Ey(r,i),Be("invalid",r)}Km(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&vu(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vu(r.textContent,l,e),s=["children",""+l]):Kl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",r)}switch(n){case"input":cu(r),ky(r,i,!0);break;case"textarea":cu(r),Py(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lj(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Tr]=t,e[rc]=r,M1(e,t,!1,!1),t.stateNode=e;e:{switch(a=Gm(n,r),n){case"dialog":Be("cancel",e),Be("close",e),s=r;break;case"iframe":case"object":case"embed":Be("load",e),s=r;break;case"video":case"audio":for(s=0;s<Nl.length;s++)Be(Nl[s],e);s=r;break;case"source":Be("error",e),s=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=r;break;case"details":Be("toggle",e),s=r;break;case"input":Cy(e,r),s=Bm(e,r),Be("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),Be("invalid",e);break;case"textarea":Ey(e,r),s=Vm(e,r),Be("invalid",e);break;default:s=r}Km(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?dj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cj(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gl(e,c):typeof c=="number"&&Gl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Be("scroll",e):c!=null&&Bg(e,i,c,a))}switch(n){case"input":cu(e),ky(e,r,!1);break;case"textarea":cu(e),Py(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Fi(e,!!r.multiple,i,!1):r.defaultValue!=null&&Fi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)O1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Po(oc.current),Po(Or.current),xu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tr]=t,(i=r.nodeValue!==n)&&(e=bn,e!==null))switch(e.tag){case 3:vu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=t,t.stateNode=r}return At(t),null;case 13:if(We(Xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&wn!==null&&t.mode&1&&!(t.flags&128))Xj(),fa(),t.flags|=98560,i=!1;else if(i=xu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Tr]=t}else fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;At(t),i=!1}else tr!==null&&(Ep(tr),tr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?ht===0&&(ht=3):Nv())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return ma(),wp(e,t),e===null&&tc(t.stateNode.containerInfo),At(t),null;case 10:return av(t.type._context),At(t),null;case 17:return cn(t.type)&&xd(),At(t),null;case 19:if(We(Xe),i=t.memoizedState,i===null)return At(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)fl(i,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Sd(e),a!==null){for(t.flags|=128,fl(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Xe,Xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&it()>ga&&(t.flags|=128,r=!0,fl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Sd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!qe)return At(t),null}else 2*it()-i.renderingStartTime>ga&&n!==1073741824&&(t.flags|=128,r=!0,fl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=it(),t.sibling=null,n=Xe.current,$e(Xe,r?n&1|2:n&1),t):(At(t),null);case 22:case 23:return _v(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vn&1073741824&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function MR(e,t){switch(rv(t),t.tag){case 1:return cn(t.type)&&xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(),We(ln),We(Ut),fv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dv(t),null;case 13:if(We(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Xe),null;case 4:return ma(),null;case 10:return av(t.type._context),null;case 22:case 23:return _v(),null;case 24:return null;default:return null}}var bu=!1,Ft=!1,AR=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ii(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(e,t,r)}else n.current=null}function bp(e,t,n){try{n()}catch(r){st(e,t,r)}}var x0=!1;function OR(e,t){if(sp=md,e=$j(),tv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=a),h===i&&++d===r&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(op={focusedElem:e,selectionRange:n},md=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Jn(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){st(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return y=x0,x0=!1,y}function Il(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&bp(t,n,i)}s=s.next}while(s!==r)}}function jf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function I1(e){var t=e.alternate;t!==null&&(e.alternate=null,I1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[rc],delete t[lp],delete t[gR],delete t[vR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D1(e){return e.tag===5||e.tag===3||e.tag===4}function y0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _p(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vd));else if(r!==4&&(e=e.child,e!==null))for(_p(e,t,n),e=e.sibling;e!==null;)_p(e,t,n),e=e.sibling}function Np(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Np(e,t,n),e=e.sibling;e!==null;)Np(e,t,n),e=e.sibling}var Nt=null,Zn=!1;function vs(e,t,n){for(n=n.child;n!==null;)F1(e,t,n),n=n.sibling}function F1(e,t,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(mf,n)}catch{}switch(n.tag){case 5:Ft||Ii(n,t);case 6:var r=Nt,s=Zn;Nt=null,vs(e,t,n),Nt=r,Zn=s,Nt!==null&&(Zn?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Zn?(e=Nt,n=n.stateNode,e.nodeType===8?Wh(e.parentNode,n):e.nodeType===1&&Wh(e,n),Xl(e)):Wh(Nt,n.stateNode));break;case 4:r=Nt,s=Zn,Nt=n.stateNode.containerInfo,Zn=!0,vs(e,t,n),Nt=r,Zn=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&bp(n,t,a),s=s.next}while(s!==r)}vs(e,t,n);break;case 1:if(!Ft&&(Ii(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){st(n,t,l)}vs(e,t,n);break;case 21:vs(e,t,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,vs(e,t,n),Ft=r):vs(e,t,n);break;default:vs(e,t,n)}}function w0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new AR),t.forEach(function(r){var s=WR.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Nt=l.stateNode,Zn=!1;break e;case 3:Nt=l.stateNode.containerInfo,Zn=!0;break e;case 4:Nt=l.stateNode.containerInfo,Zn=!0;break e}l=l.return}if(Nt===null)throw Error(q(160));F1(i,a,s),Nt=null,Zn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){st(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)L1(t,e),t=t.sibling}function L1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),Nr(e),r&4){try{Il(3,e,e.return),jf(3,e)}catch(g){st(e,e.return,g)}try{Il(5,e,e.return)}catch(g){st(e,e.return,g)}}break;case 1:Gn(t,e),Nr(e),r&512&&n!==null&&Ii(n,n.return);break;case 5:if(Gn(t,e),Nr(e),r&512&&n!==null&&Ii(n,n.return),e.flags&32){var s=e.stateNode;try{Gl(s,"")}catch(g){st(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ij(s,i),Gm(l,a);var u=Gm(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?dj(s,f):d==="dangerouslySetInnerHTML"?cj(s,f):d==="children"?Gl(s,f):Bg(s,d,f,u)}switch(l){case"input":Wm(s,i);break;case"textarea":aj(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Fi(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Fi(s,!!i.multiple,i.defaultValue,!0):Fi(s,!!i.multiple,i.multiple?[]:"",!1))}s[rc]=i}catch(g){st(e,e.return,g)}}break;case 6:if(Gn(t,e),Nr(e),r&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){st(e,e.return,g)}}break;case 3:if(Gn(t,e),Nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(g){st(e,e.return,g)}break;case 4:Gn(t,e),Nr(e);break;case 13:Gn(t,e),Nr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(bv=it())),r&4&&w0(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ft=(u=Ft)||d,Gn(t,e),Ft=u):Gn(t,e),Nr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ne=e,d=e.child;d!==null;){for(f=ne=d;ne!==null;){switch(h=ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:Il(4,h,h.return);break;case 1:Ii(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){st(r,n,g)}}break;case 5:Ii(h,h.return);break;case 22:if(h.memoizedState!==null){j0(f);continue}}p!==null?(p.return=h,ne=p):j0(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uj("display",a))}catch(g){st(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){st(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gn(t,e),Nr(e),r&4&&w0(e);break;case 21:break;default:Gn(t,e),Nr(e)}}function Nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(D1(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Gl(s,""),r.flags&=-33);var i=y0(e);Np(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=y0(e);_p(e,l,a);break;default:throw Error(q(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IR(e,t,n){ne=e,$1(e)}function $1(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||bu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ft;l=bu;var u=Ft;if(bu=a,(Ft=c)&&!u)for(ne=s;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?_0(s):c!==null?(c.return=a,ne=c):_0(s);for(;i!==null;)ne=i,$1(i),i=i.sibling;ne=s,bu=l,Ft=u}b0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):b0(e)}}function b0(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ft||jf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Jn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&o0(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}o0(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ft||t.flags&512&&jp(t)}catch(h){st(t,t.return,h)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function j0(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function _0(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jf(4,t)}catch(c){st(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){st(t,s,c)}}var i=t.return;try{jp(t)}catch(c){st(t,i,c)}break;case 5:var a=t.return;try{jp(t)}catch(c){st(t,a,c)}}}catch(c){st(t,t.return,c)}if(t===e){ne=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ne=l;break}ne=t.return}}var DR=Math.ceil,Ed=us.ReactCurrentDispatcher,yv=us.ReactCurrentOwner,Dn=us.ReactCurrentBatchConfig,Te=0,jt=null,lt=null,Ct=0,vn=0,Di=lo(0),ht=0,cc=null,Wo=0,_f=0,wv=0,Dl=null,rn=null,bv=0,ga=1/0,Gr=null,Pd=!1,Sp=null,Gs=null,ju=!1,zs=null,Td=0,Fl=0,Cp=null,Xu=-1,Zu=0;function Yt(){return Te&6?it():Xu!==-1?Xu:Xu=it()}function Ys(e){return e.mode&1?Te&2&&Ct!==0?Ct&-Ct:yR.transition!==null?(Zu===0&&(Zu=_j()),Zu):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Tj(e.type)),e):1}function or(e,t,n,r){if(50<Fl)throw Fl=0,Cp=null,Error(q(185));Rc(e,n,r),(!(Te&2)||e!==jt)&&(e===jt&&(!(Te&2)&&(_f|=n),ht===4&&Ps(e,Ct)),un(e,r),n===1&&Te===0&&!(t.mode&1)&&(ga=it()+500,yf&&co()))}function un(e,t){var n=e.callbackNode;yT(e,t);var r=hd(e,e===jt?Ct:0);if(r===0)n!==null&&My(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&My(n),t===1)e.tag===0?xR(N0.bind(null,e)):Yj(N0.bind(null,e)),mR(function(){!(Te&6)&&co()}),n=null;else{switch(Nj(r)){case 1:n=Kg;break;case 4:n=bj;break;case 16:n=fd;break;case 536870912:n=jj;break;default:n=fd}n=K1(n,U1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function U1(e,t){if(Xu=-1,Zu=0,Te&6)throw Error(q(327));var n=e.callbackNode;if(Bi()&&e.callbackNode!==n)return null;var r=hd(e,e===jt?Ct:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Rd(e,r);else{t=r;var s=Te;Te|=2;var i=B1();(jt!==e||Ct!==t)&&(Gr=null,ga=it()+500,Fo(e,t));do try{$R();break}catch(l){z1(e,l)}while(!0);iv(),Ed.current=i,Te=s,lt!==null?t=0:(jt=null,Ct=0,t=ht)}if(t!==0){if(t===2&&(s=Zm(e),s!==0&&(r=s,t=kp(e,s))),t===1)throw n=cc,Fo(e,0),Ps(e,r),un(e,it()),n;if(t===6)Ps(e,r);else{if(s=e.current.alternate,!(r&30)&&!FR(s)&&(t=Rd(e,r),t===2&&(i=Zm(e),i!==0&&(r=i,t=kp(e,i))),t===1))throw n=cc,Fo(e,0),Ps(e,r),un(e,it()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:jo(e,rn,Gr);break;case 3:if(Ps(e,r),(r&130023424)===r&&(t=bv+500-it(),10<t)){if(hd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Yt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ap(jo.bind(null,e,rn,Gr),t);break}jo(e,rn,Gr);break;case 4:if(Ps(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-sr(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DR(r/1960))-r,10<r){e.timeoutHandle=ap(jo.bind(null,e,rn,Gr),r);break}jo(e,rn,Gr);break;case 5:jo(e,rn,Gr);break;default:throw Error(q(329))}}}return un(e,it()),e.callbackNode===n?U1.bind(null,e):null}function kp(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(Fo(e,t).flags|=256),e=Rd(e,t),e!==2&&(t=rn,rn=n,t!==null&&Ep(t)),e}function Ep(e){rn===null?rn=e:rn.push.apply(rn,e)}function FR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ps(e,t){for(t&=~wv,t&=~_f,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sr(t),r=1<<n;e[n]=-1,t&=~r}}function N0(e){if(Te&6)throw Error(q(327));Bi();var t=hd(e,0);if(!(t&1))return un(e,it()),null;var n=Rd(e,t);if(e.tag!==0&&n===2){var r=Zm(e);r!==0&&(t=r,n=kp(e,r))}if(n===1)throw n=cc,Fo(e,0),Ps(e,t),un(e,it()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,rn,Gr),un(e,it()),null}function jv(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(ga=it()+500,yf&&co())}}function Ho(e){zs!==null&&zs.tag===0&&!(Te&6)&&Bi();var t=Te;Te|=1;var n=Dn.transition,r=Oe;try{if(Dn.transition=null,Oe=1,e)return e()}finally{Oe=r,Dn.transition=n,Te=t,!(Te&6)&&co()}}function _v(){vn=Di.current,We(Di)}function Fo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hR(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(rv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xd();break;case 3:ma(),We(ln),We(Ut),fv();break;case 5:dv(r);break;case 4:ma();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:av(r.type._context);break;case 22:case 23:_v()}n=n.return}if(jt=e,lt=e=Qs(e.current,null),Ct=vn=t,ht=0,cc=null,wv=_f=Wo=0,rn=Dl=null,Eo!==null){for(t=0;t<Eo.length;t++)if(n=Eo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Eo=null}return e}function z1(e,t){do{var n=lt;try{if(iv(),Yu.current=kd,Cd){for(var r=Ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Cd=!1}if(Bo=0,wt=ut=Ze=null,Ol=!1,ic=0,yv.current=null,n===null||n.return===null){ht=1,cc=t,lt=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=d0(a);if(p!==null){p.flags&=-257,f0(p,a,l,i,t),p.mode&1&&u0(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){u0(i,u,t),Nv();break e}c=Error(q(426))}}else if(qe&&l.mode&1){var v=d0(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),f0(v,a,l,i,t),sv(pa(c,l));break e}}i=c=pa(c,l),ht!==4&&(ht=2),Dl===null?Dl=[i]:Dl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=N1(i,c,t);s0(i,x);break e;case 1:l=c;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Gs===null||!Gs.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=S1(i,l,t);s0(i,j);break e}}i=i.return}while(i!==null)}H1(n)}catch(N){t=N,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function B1(){var e=Ed.current;return Ed.current=kd,e===null?kd:e}function Nv(){(ht===0||ht===3||ht===2)&&(ht=4),jt===null||!(Wo&268435455)&&!(_f&268435455)||Ps(jt,Ct)}function Rd(e,t){var n=Te;Te|=2;var r=B1();(jt!==e||Ct!==t)&&(Gr=null,Fo(e,t));do try{LR();break}catch(s){z1(e,s)}while(!0);if(iv(),Te=n,Ed.current=r,lt!==null)throw Error(q(261));return jt=null,Ct=0,ht}function LR(){for(;lt!==null;)W1(lt)}function $R(){for(;lt!==null&&!uT();)W1(lt)}function W1(e){var t=q1(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?H1(e):lt=t,yv.current=null}function H1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=MR(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,lt=null;return}}else if(n=RR(n,t,vn),n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ht===0&&(ht=5)}function jo(e,t,n){var r=Oe,s=Dn.transition;try{Dn.transition=null,Oe=1,UR(e,t,n,r)}finally{Dn.transition=s,Oe=r}return null}function UR(e,t,n,r){do Bi();while(zs!==null);if(Te&6)throw Error(q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(wT(e,i),e===jt&&(lt=jt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ju||(ju=!0,K1(fd,function(){return Bi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dn.transition,Dn.transition=null;var a=Oe;Oe=1;var l=Te;Te|=4,yv.current=null,OR(e,n),L1(n,e),iR(op),md=!!sp,op=sp=null,e.current=n,IR(n),dT(),Te=l,Oe=a,Dn.transition=i}else e.current=n;if(ju&&(ju=!1,zs=e,Td=s),i=e.pendingLanes,i===0&&(Gs=null),mT(n.stateNode),un(e,it()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Pd)throw Pd=!1,e=Sp,Sp=null,e;return Td&1&&e.tag!==0&&Bi(),i=e.pendingLanes,i&1?e===Cp?Fl++:(Fl=0,Cp=e):Fl=0,co(),null}function Bi(){if(zs!==null){var e=Nj(Td),t=Dn.transition,n=Oe;try{if(Dn.transition=null,Oe=16>e?16:e,zs===null)var r=!1;else{if(e=zs,zs=null,Td=0,Te&6)throw Error(q(331));var s=Te;for(Te|=4,ne=e.current;ne!==null;){var i=ne,a=i.child;if(ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Il(8,d,i)}var f=d.child;if(f!==null)f.return=d,ne=f;else for(;ne!==null;){d=ne;var h=d.sibling,p=d.return;if(I1(d),d===u){ne=null;break}if(h!==null){h.return=p,ne=h;break}ne=p}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ne=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ne=a;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Il(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ne=x;break e}ne=i.return}}var w=e.current;for(ne=w;ne!==null;){a=ne;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ne=b;else e:for(a=w;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jf(9,l)}}catch(N){st(l,l.return,N)}if(l===a){ne=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ne=j;break e}ne=l.return}}if(Te=s,co(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(mf,e)}catch{}r=!0}return r}finally{Oe=n,Dn.transition=t}}return!1}function S0(e,t,n){t=pa(n,t),t=N1(e,t,1),e=Ks(e,t,1),t=Yt(),e!==null&&(Rc(e,1,t),un(e,t))}function st(e,t,n){if(e.tag===3)S0(e,e,n);else for(;t!==null;){if(t.tag===3){S0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gs===null||!Gs.has(r))){e=pa(n,e),e=S1(t,e,1),t=Ks(t,e,1),e=Yt(),t!==null&&(Rc(t,1,e),un(t,e));break}}t=t.return}}function zR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Yt(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(Ct&n)===n&&(ht===4||ht===3&&(Ct&130023424)===Ct&&500>it()-bv?Fo(e,0):wv|=n),un(e,t)}function V1(e,t){t===0&&(e.mode&1?(t=fu,fu<<=1,!(fu&130023424)&&(fu=4194304)):t=1);var n=Yt();e=ss(e,t),e!==null&&(Rc(e,t,n),un(e,n))}function BR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),V1(e,n)}function WR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),V1(e,n)}var q1;q1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)on=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return on=!1,TR(e,t,n);on=!!(e.flags&131072)}else on=!1,qe&&t.flags&1048576&&Qj(t,bd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ju(e,t),e=t.pendingProps;var s=da(t,Ut.current);zi(t,n),s=mv(null,t,r,e,s,n);var i=pv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(r)?(i=!0,yd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cv(t),s.updater=bf,t.stateNode=s,s._reactInternals=t,mp(t,r,e,n),t=vp(null,t,r,!0,i,n)):(t.tag=0,qe&&i&&nv(t),Kt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ju(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=VR(r),e=Jn(r,e),s){case 0:t=gp(null,t,r,e,n);break e;case 1:t=p0(null,t,r,e,n);break e;case 11:t=h0(null,t,r,e,n);break e;case 14:t=m0(null,t,r,Jn(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),gp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),p0(e,t,r,s,n);case 3:e:{if(P1(t),e===null)throw Error(q(387));r=t.pendingProps,i=t.memoizedState,s=i.element,n1(e,t),Nd(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=pa(Error(q(423)),t),t=g0(e,t,r,n,s);break e}else if(r!==s){s=pa(Error(q(424)),t),t=g0(e,t,r,n,s);break e}else for(wn=qs(t.stateNode.containerInfo.firstChild),bn=t,qe=!0,tr=null,n=e1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),r===s){t=os(e,t,n);break e}Kt(e,t,r,n)}t=t.child}return t;case 5:return r1(t),e===null&&dp(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,ip(r,s)?a=null:i!==null&&ip(r,i)&&(t.flags|=32),E1(e,t),Kt(e,t,a,n),t.child;case 6:return e===null&&dp(t),null;case 13:return T1(e,t,n);case 4:return uv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ha(t,null,r,n):Kt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),h0(e,t,r,s,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,$e(jd,r._currentValue),r._currentValue=a,i!==null)if(ar(i.value,a)){if(i.children===s.children&&!ln.current){t=os(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=es(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),fp(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(q(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),fp(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Kt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,zi(t,n),s=$n(s),r=r(s),t.flags|=1,Kt(e,t,r,n),t.child;case 14:return r=t.type,s=Jn(r,t.pendingProps),s=Jn(r.type,s),m0(e,t,r,s,n);case 15:return C1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jn(r,s),Ju(e,t),t.tag=1,cn(r)?(e=!0,yd(t)):e=!1,zi(t,n),_1(t,r,s),mp(t,r,s,n),vp(null,t,r,!0,e,n);case 19:return R1(e,t,n);case 22:return k1(e,t,n)}throw Error(q(156,t.tag))};function K1(e,t){return wj(e,t)}function HR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,n,r){return new HR(e,t,n,r)}function Sv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VR(e){if(typeof e=="function")return Sv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hg)return 11;if(e===Vg)return 14}return 2}function Qs(e,t){var n=e.alternate;return n===null?(n=On(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ed(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Sv(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ci:return Lo(n.children,s,i,t);case Wg:a=8,s|=8;break;case Lm:return e=On(12,n,t,s|2),e.elementType=Lm,e.lanes=i,e;case $m:return e=On(13,n,t,s),e.elementType=$m,e.lanes=i,e;case Um:return e=On(19,n,t,s),e.elementType=Um,e.lanes=i,e;case rj:return Nf(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tj:a=10;break e;case nj:a=9;break e;case Hg:a=11;break e;case Vg:a=14;break e;case Ns:a=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=On(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Lo(e,t,n,r){return e=On(7,e,r,t),e.lanes=n,e}function Nf(e,t,n,r){return e=On(22,e,r,t),e.elementType=rj,e.lanes=n,e.stateNode={isHidden:!1},e}function Jh(e,t,n){return e=On(6,e,null,t),e.lanes=n,e}function Xh(e,t,n){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qR(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mh(0),this.expirationTimes=Mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cv(e,t,n,r,s,i,a,l,c){return e=new qR(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=On(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(i),e}function KR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Si,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function G1(e){if(!e)return Zs;e=e._reactInternals;e:{if(ei(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(cn(n))return Gj(e,n,t)}return t}function Y1(e,t,n,r,s,i,a,l,c){return e=Cv(n,r,!0,e,s,i,a,l,c),e.context=G1(null),n=e.current,r=Yt(),s=Ys(n),i=es(r,s),i.callback=t??null,Ks(n,i,s),e.current.lanes=s,Rc(e,s,r),un(e,r),e}function Sf(e,t,n,r){var s=t.current,i=Yt(),a=Ys(s);return n=G1(n),t.context===null?t.context=n:t.pendingContext=n,t=es(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ks(s,t,a),e!==null&&(or(e,s,a,i),Gu(e,s,a)),a}function Md(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function C0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kv(e,t){C0(e,t),(e=e.alternate)&&C0(e,t)}function GR(){return null}var Q1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ev(e){this._internalRoot=e}Cf.prototype.render=Ev.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Sf(e,t,null,null)};Cf.prototype.unmount=Ev.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ho(function(){Sf(null,e,null,null)}),t[rs]=null}};function Cf(e){this._internalRoot=e}Cf.prototype.unstable_scheduleHydration=function(e){if(e){var t=kj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Es.length&&t!==0&&t<Es[n].priority;n++);Es.splice(n,0,e),n===0&&Pj(e)}};function Pv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function k0(){}function YR(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Md(a);i.call(u)}}var a=Y1(t,r,e,0,null,!1,!1,"",k0);return e._reactRootContainer=a,e[rs]=a.current,tc(e.nodeType===8?e.parentNode:e),Ho(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Md(c);l.call(u)}}var c=Cv(e,0,!1,null,null,!1,!1,"",k0);return e._reactRootContainer=c,e[rs]=c.current,tc(e.nodeType===8?e.parentNode:e),Ho(function(){Sf(t,c,n,r)}),c}function Ef(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Md(a);l.call(c)}}Sf(t,a,e,s)}else a=YR(n,t,e,s,r);return Md(a)}Sj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_l(t.pendingLanes);n!==0&&(Gg(t,n|1),un(t,it()),!(Te&6)&&(ga=it()+500,co()))}break;case 13:Ho(function(){var r=ss(e,1);if(r!==null){var s=Yt();or(r,e,1,s)}}),kv(e,1)}};Yg=function(e){if(e.tag===13){var t=ss(e,134217728);if(t!==null){var n=Yt();or(t,e,134217728,n)}kv(e,134217728)}};Cj=function(e){if(e.tag===13){var t=Ys(e),n=ss(e,t);if(n!==null){var r=Yt();or(n,e,t,r)}kv(e,t)}};kj=function(){return Oe};Ej=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};Qm=function(e,t,n){switch(t){case"input":if(Wm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=xf(r);if(!s)throw Error(q(90));oj(r),Wm(r,s)}}}break;case"textarea":aj(e,n);break;case"select":t=n.value,t!=null&&Fi(e,!!n.multiple,t,!1)}};mj=jv;pj=Ho;var QR={usingClientEntryPoint:!1,Events:[Ac,Ti,xf,fj,hj,jv]},hl={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JR={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xj(e),e===null?null:e.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||GR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{mf=_u.inject(JR),Ar=_u}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QR;Nn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pv(t))throw Error(q(200));return KR(e,t,null,n)};Nn.createRoot=function(e,t){if(!Pv(e))throw Error(q(299));var n=!1,r="",s=Q1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cv(e,1,!1,null,null,n,!1,r,s),e[rs]=t.current,tc(e.nodeType===8?e.parentNode:e),new Ev(t)};Nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=xj(t),e=e===null?null:e.stateNode,e};Nn.flushSync=function(e){return Ho(e)};Nn.hydrate=function(e,t,n){if(!kf(t))throw Error(q(200));return Ef(null,e,t,!0,n)};Nn.hydrateRoot=function(e,t,n){if(!Pv(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Q1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Y1(t,null,e,1,n??null,s,!1,i,a),e[rs]=t.current,tc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Cf(t)};Nn.render=function(e,t,n){if(!kf(t))throw Error(q(200));return Ef(null,e,t,!1,n)};Nn.unmountComponentAtNode=function(e){if(!kf(e))throw Error(q(40));return e._reactRootContainer?(Ho(function(){Ef(null,null,e,!1,function(){e._reactRootContainer=null,e[rs]=null})}),!0):!1};Nn.unstable_batchedUpdates=jv;Nn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!kf(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Ef(e,t,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function J1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J1)}catch(e){console.error(e)}}J1(),Jb.exports=Nn;var In=Jb.exports;const X1=Lb(In);var Z1,E0=In;Z1=E0.createRoot,E0.hydrateRoot;const XR=1,ZR=1e6;let Zh=0;function eM(){return Zh=(Zh+1)%Number.MAX_SAFE_INTEGER,Zh.toString()}const em=new Map,P0=e=>{if(em.has(e))return;const t=setTimeout(()=>{em.delete(e),Ll({type:"REMOVE_TOAST",toastId:e})},ZR);em.set(e,t)},tM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,XR)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?P0(n):e.toasts.forEach(r=>{P0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},td=[];let nd={toasts:[]};function Ll(e){nd=tM(nd,e),td.forEach(t=>{t(nd)})}function nM({...e}){const t=eM(),n=s=>Ll({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Ll({type:"DISMISS_TOAST",toastId:t});return Ll({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function ke(){const[e,t]=m.useState(nd);return m.useEffect(()=>(td.push(t),()=>{const n=td.indexOf(t);n>-1&&td.splice(n,1)}),[e]),{...e,toast:nM,dismiss:n=>Ll({type:"DISMISS_TOAST",toastId:n})}}function K(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function rM(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Pf(...e){return t=>e.forEach(n=>rM(n,t))}function ye(...e){return m.useCallback(Pf(...e),e)}function sM(e,t=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][c])||l,v=m.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,y=m.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,oM(s,...t)]}function oM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var is=m.forwardRef((e,t)=>{const{children:n,...r}=e,s=m.Children.toArray(n),i=s.find(iM);if(i){const a=i.props.children,l=s.map(c=>c===i?m.Children.count(a)>1?m.Children.only(null):m.isValidElement(a)?a.props.children:null:c);return o.jsx(Pp,{...r,ref:t,children:m.isValidElement(a)?m.cloneElement(a,void 0,l):null})}return o.jsx(Pp,{...r,ref:t,children:n})});is.displayName="Slot";var Pp=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const s=lM(n);return m.cloneElement(n,{...aM(r,n.props),ref:t?Pf(t,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});Pp.displayName="SlotClone";var Tv=({children:e})=>o.jsx(o.Fragment,{children:e});function iM(e){return m.isValidElement(e)&&e.type===Tv}function aM(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function lM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Tf(e){const t=e+"CollectionProvider",[n,r]=sM(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:y,children:g}=p,v=F.useRef(null),x=F.useRef(new Map).current;return o.jsx(s,{scope:y,itemMap:x,collectionRef:v,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=F.forwardRef((p,y)=>{const{scope:g,children:v}=p,x=i(l,g),w=ye(y,x.collectionRef);return o.jsx(is,{ref:w,children:v})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=F.forwardRef((p,y)=>{const{scope:g,children:v,...x}=p,w=F.useRef(null),b=ye(y,w),j=i(u,g);return F.useEffect(()=>(j.itemMap.set(w,{ref:w,...x}),()=>void j.itemMap.delete(w))),o.jsx(is,{[d]:"",ref:b,children:v})});f.displayName=u;function h(p){const y=i(e+"CollectionConsumer",p);return F.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((j,N)=>x.indexOf(j.ref.current)-x.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},h,r]}function cM(e,t){const n=m.createContext(t),r=i=>{const{children:a,...l}=i,c=m.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=m.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Hn(e,t=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];const u=f=>{var x;const{scope:h,children:p,...y}=f,g=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=m.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,y=m.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,uM(s,...t)]}function uM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var dM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ae=dM.reduce((e,t)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...a}=r,l=i?is:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Rv(e,t){e&&In.flushSync(()=>e.dispatchEvent(t))}function Ke(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function fM(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var hM="DismissableLayer",Tp="dismissableLayer.update",mM="dismissableLayer.pointerDownOutside",pM="dismissableLayer.focusOutside",T0,e_=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ti=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=m.useContext(e_),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),y=ye(t,_=>f(_)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),w=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=w>=x,N=vM(_=>{const k=_.target,E=[...u.branches].some(R=>R.contains(k));!j||E||(s==null||s(_),a==null||a(_),_.defaultPrevented||l==null||l())},h),C=xM(_=>{const k=_.target;[...u.branches].some(R=>R.contains(k))||(i==null||i(_),a==null||a(_),_.defaultPrevented||l==null||l())},h);return fM(_=>{w===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(T0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),R0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=T0)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),R0())},[d,u]),m.useEffect(()=>{const _=()=>p({});return document.addEventListener(Tp,_),()=>document.removeEventListener(Tp,_)},[]),o.jsx(ae.div,{...c,ref:y,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:K(e.onFocusCapture,C.onFocusCapture),onBlurCapture:K(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:K(e.onPointerDownCapture,N.onPointerDownCapture)})});ti.displayName=hM;var gM="DismissableLayerBranch",t_=m.forwardRef((e,t)=>{const n=m.useContext(e_),r=m.useRef(null),s=ye(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(ae.div,{...e,ref:s})});t_.displayName=gM;function vM(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){n_(mM,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function xM(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&n_(pM,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function R0(){const e=new CustomEvent(Tp);document.dispatchEvent(e)}function n_(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Rv(s,i):s.dispatchEvent(i)}var yM=ti,wM=t_,pt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},bM="Portal",Pa=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=m.useState(!1);pt(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?X1.createPortal(o.jsx(ae.div,{...r,ref:t}),a):null});Pa.displayName=bM;function jM(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Rt=e=>{const{present:t,children:n}=e,r=_M(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ye(r.ref,NM(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Rt.displayName="Presence";function _M(e){const[t,n]=m.useState(),r=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),a=e?"mounted":"unmounted",[l,c]=jM(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Nu(r.current);i.current=l==="mounted"?u:"none"},[l]),pt(()=>{const u=r.current,d=s.current;if(d!==e){const h=i.current,p=Nu(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),pt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=Nu(r.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(i.current=Nu(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Nu(e){return(e==null?void 0:e.animationName)||"none"}function NM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function zn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=SM({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,l=Ke(n),c=m.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[i,e,s,l]);return[a,c]}function SM({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),i=Ke(t);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var CM="VisuallyHidden",Ic=m.forwardRef((e,t)=>o.jsx(ae.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ic.displayName=CM;var kM=Ic,Mv="ToastProvider",[Av,EM,PM]=Tf("Toast"),[r_,lH]=Hn("Toast",[PM]),[TM,Rf]=r_(Mv),s_=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mv}\`. Expected non-empty \`string\`.`),o.jsx(Av.Provider,{scope:t,children:o.jsx(TM,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};s_.displayName=Mv;var o_="ToastViewport",RM=["F8"],Rp="toast.viewportPause",Mp="toast.viewportResume",i_=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=RM,label:s="Notifications ({hotkey})",...i}=e,a=Rf(o_,n),l=EM(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=ye(t,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;m.useEffect(()=>{const v=x=>{var b;r.length!==0&&r.every(j=>x[j]||x.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),m.useEffect(()=>{const v=c.current,x=f.current;if(y&&v&&x){const w=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(Rp);x.dispatchEvent(C),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(Mp);x.dispatchEvent(C),a.isClosePausedRef.current=!1}},j=C=>{!v.contains(C.relatedTarget)&&b()},N=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",w),v.addEventListener("focusout",j),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",N),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[y,a.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:v})=>{const w=l().map(b=>{const j=b.ref.current,N=[j,...HM(j)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return m.useEffect(()=>{const v=f.current;if(v){const x=w=>{var N,C,_;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const k=document.activeElement,E=w.shiftKey;if(w.target===v&&E){(N=u.current)==null||N.focus();return}const O=g({tabbingDirection:E?"backwards":"forwards"}),A=O.findIndex(I=>I===k);tm(O.slice(A+1))?w.preventDefault():E?(C=u.current)==null||C.focus():(_=d.current)==null||_.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,g]),o.jsxs(wM,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(Ap,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});tm(v)}}),o.jsx(Av.Slot,{scope:n,children:o.jsx(ae.ol,{tabIndex:-1,...i,ref:h})}),y&&o.jsx(Ap,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});tm(v)}})]})});i_.displayName=o_;var a_="ToastFocusProxy",Ap=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Rf(a_,n);return o.jsx(Ic,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Ap.displayName=a_;var Mf="Toast",MM="toast.swipeStart",AM="toast.swipeMove",OM="toast.swipeCancel",IM="toast.swipeEnd",l_=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[l=!0,c]=zn({prop:r,defaultProp:s,onChange:i});return o.jsx(Rt,{present:n||l,children:o.jsx(LM,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Ke(e.onPause),onResume:Ke(e.onResume),onSwipeStart:K(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:K(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:K(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:K(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});l_.displayName=Mf;var[DM,FM]=r_(Mf,{onClose(){}}),LM=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,g=Rf(Mf,n),[v,x]=m.useState(null),w=ye(t,I=>x(I)),b=m.useRef(null),j=m.useRef(null),N=s||g.duration,C=m.useRef(0),_=m.useRef(N),k=m.useRef(0),{onToastAdd:E,onToastRemove:R}=g,M=Ke(()=>{var W;(v==null?void 0:v.contains(document.activeElement))&&((W=g.viewport)==null||W.focus()),a()}),O=m.useCallback(I=>{!I||I===1/0||(window.clearTimeout(k.current),C.current=new Date().getTime(),k.current=window.setTimeout(M,I))},[M]);m.useEffect(()=>{const I=g.viewport;if(I){const W=()=>{O(_.current),u==null||u()},U=()=>{const D=new Date().getTime()-C.current;_.current=_.current-D,window.clearTimeout(k.current),c==null||c()};return I.addEventListener(Rp,U),I.addEventListener(Mp,W),()=>{I.removeEventListener(Rp,U),I.removeEventListener(Mp,W)}}},[g.viewport,N,c,u,O]),m.useEffect(()=>{i&&!g.isClosePausedRef.current&&O(N)},[i,N,g.isClosePausedRef,O]),m.useEffect(()=>(E(),()=>R()),[E,R]);const A=m.useMemo(()=>v?p_(v):null,[v]);return g.viewport?o.jsxs(o.Fragment,{children:[A&&o.jsx($M,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),o.jsx(DM,{scope:n,onClose:M,children:In.createPortal(o.jsx(Av.ItemSlot,{scope:n,children:o.jsx(yM,{asChild:!0,onEscapeKeyDown:K(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:K(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:K(e.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:K(e.onPointerMove,I=>{if(!b.current)return;const W=I.clientX-b.current.x,U=I.clientY-b.current.y,D=!!j.current,S=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=S?T(0,W):0,B=S?0:T(0,U),H=I.pointerType==="touch"?10:2,V={x:z,y:B},J={originalEvent:I,delta:V};D?(j.current=V,Su(AM,f,J,{discrete:!1})):M0(V,g.swipeDirection,H)?(j.current=V,Su(MM,d,J,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(W)>H||Math.abs(U)>H)&&(b.current=null)}),onPointerUp:K(e.onPointerUp,I=>{const W=j.current,U=I.target;if(U.hasPointerCapture(I.pointerId)&&U.releasePointerCapture(I.pointerId),j.current=null,b.current=null,W){const D=I.currentTarget,S={originalEvent:I,delta:W};M0(W,g.swipeDirection,g.swipeThreshold)?Su(IM,p,S,{discrete:!0}):Su(OM,h,S,{discrete:!0}),D.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),$M=e=>{const{__scopeToast:t,children:n,...r}=e,s=Rf(Mf,t),[i,a]=m.useState(!1),[l,c]=m.useState(!1);return BM(()=>a(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Pa,{asChild:!0,children:o.jsx(Ic,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},UM="ToastTitle",c_=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ae.div,{...r,ref:t})});c_.displayName=UM;var zM="ToastDescription",u_=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ae.div,{...r,ref:t})});u_.displayName=zM;var d_="ToastAction",f_=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(m_,{altText:n,asChild:!0,children:o.jsx(Ov,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${d_}\`. Expected non-empty \`string\`.`),null)});f_.displayName=d_;var h_="ToastClose",Ov=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=FM(h_,n);return o.jsx(m_,{asChild:!0,children:o.jsx(ae.button,{type:"button",...r,ref:t,onClick:K(e.onClick,s.onClose)})})});Ov.displayName=h_;var m_=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function p_(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),WM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...p_(r))}}),t}function Su(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Rv(s,i):s.dispatchEvent(i)}var M0=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function BM(e=()=>{}){const t=Ke(e);pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function WM(e){return e.nodeType===e.ELEMENT_NODE}function HM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var VM=s_,g_=i_,v_=l_,x_=c_,y_=u_,w_=f_,b_=Ov;function j_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=j_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function __(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=j_(e))&&(r&&(r+=" "),r+=t);return r}const A0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,O0=__,ni=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return O0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=A0(d)||A0(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,f,h]:u},[]);return O0(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N_=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>m.createElement("svg",{ref:c,...KM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:N_("lucide",s),...l},[...a.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(GM,{ref:i,iconNode:t,className:N_(`lucide-${qM(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=ee("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ee("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ee("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=ee("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ee("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=ee("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ee("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=ee("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=ee("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=ee("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ee("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ee("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ee("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=ee("Replace",[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=ee("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=ee("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$v="-",jA=e=>{const t=NA(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split($v);return l[0]===""&&l.length!==1&&l.shift(),R_(l,t)||_A(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},R_=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?R_(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join($v);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},U0=/^\[(.+)\]$/,_A=e=>{if(U0.test(e)){const t=U0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},NA=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return CA(Object.entries(e.classGroups),n).forEach(([i,a])=>{Fp(a,r,i,t)}),r},Fp=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:z0(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(SA(s)){Fp(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Fp(a,z0(t,i),n,r)})})},z0=(e,t)=>{let n=e;return t.split($v).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SA=e=>e.isThemeGetter,CA=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,s]}):e,kA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},M_="!",EA=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===s&&(r||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(M_),y=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},PA=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},TA=e=>({cache:kA(e.cacheSize),parseClassName:EA(e),...jA(e)}),RA=/\s+/,MA=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(RA);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let y=!!p,g=r(y?h.substring(0,p):h);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=PA(d).join(":"),x=f?v+M_:v,w=x+g;if(i.includes(w))continue;i.push(w);const b=s(g,y);for(let j=0;j<b.length;++j){const N=b[j];i.push(x+N)}l=u+(l.length>0?" "+l:l)}return l};function AA(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=A_(t))&&(r&&(r+=" "),r+=n);return r}const A_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=A_(e[r]))&&(n&&(n+=" "),n+=t);return n};function OA(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return n=TA(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=MA(c,n);return s(c,d),d}return function(){return i(AA.apply(null,arguments))}}const ze=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},O_=/^\[(?:([a-z-]+):)?(.+)\]$/i,IA=/^\d+\/\d+$/,DA=new Set(["px","full","screen"]),FA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$A=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,UA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hr=e=>Wi(e)||DA.has(e)||IA.test(e),xs=e=>Ta(e,"length",YA),Wi=e=>!!e&&!Number.isNaN(Number(e)),rm=e=>Ta(e,"number",Wi),pl=e=>!!e&&Number.isInteger(Number(e)),BA=e=>e.endsWith("%")&&Wi(e.slice(0,-1)),we=e=>O_.test(e),ys=e=>FA.test(e),WA=new Set(["length","size","percentage"]),HA=e=>Ta(e,WA,I_),VA=e=>Ta(e,"position",I_),qA=new Set(["image","url"]),KA=e=>Ta(e,qA,JA),GA=e=>Ta(e,"",QA),gl=()=>!0,Ta=(e,t,n)=>{const r=O_.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},YA=e=>LA.test(e)&&!$A.test(e),I_=()=>!1,QA=e=>UA.test(e),JA=e=>zA.test(e),XA=()=>{const e=ze("colors"),t=ze("spacing"),n=ze("blur"),r=ze("brightness"),s=ze("borderColor"),i=ze("borderRadius"),a=ze("borderSpacing"),l=ze("borderWidth"),c=ze("contrast"),u=ze("grayscale"),d=ze("hueRotate"),f=ze("invert"),h=ze("gap"),p=ze("gradientColorStops"),y=ze("gradientColorStopPositions"),g=ze("inset"),v=ze("margin"),x=ze("opacity"),w=ze("padding"),b=ze("saturate"),j=ze("scale"),N=ze("sepia"),C=ze("skew"),_=ze("space"),k=ze("translate"),E=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",we,t],O=()=>[we,t],A=()=>["",Hr,xs],I=()=>["auto",Wi,we],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",we],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Wi,we];return{cacheSize:500,separator:":",theme:{colors:[gl],spacing:[Hr,xs],blur:["none","",ys,we],brightness:B(),borderColor:[e],borderRadius:["none","","full",ys,we],borderSpacing:O(),borderWidth:A(),contrast:B(),grayscale:T(),hueRotate:B(),invert:T(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[BA,xs],inset:M(),margin:M(),opacity:B(),padding:O(),saturate:B(),scale:B(),sepia:T(),skew:B(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[ys]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),we]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pl,we]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",pl,we]}],"grid-cols":[{"grid-cols":[gl]}],"col-start-end":[{col:["auto",{span:["full",pl,we]},we]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[gl]}],"row-start-end":[{row:["auto",{span:[pl,we]},we]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,t]}],"min-w":[{"min-w":[we,t,"min","max","fit"]}],"max-w":[{"max-w":[we,t,"none","full","min","max","fit","prose",{screen:[ys]},ys]}],h:[{h:[we,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ys,xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rm]}],"font-family":[{font:[gl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",Wi,rm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hr,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hr,xs]}],"underline-offset":[{"underline-offset":["auto",Hr,we]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),VA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Hr,we]}],"outline-w":[{outline:[Hr,xs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Hr,xs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ys,GA]}],"shadow-color":[{shadow:[gl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ys,we]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[pl,we]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Hr,xs,rm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZA=OA(XA);function Y(...e){return ZA(__(e))}const eO=VM,D_=m.forwardRef(({className:e,...t},n)=>o.jsx(g_,{ref:n,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));D_.displayName=g_.displayName;const tO=ni("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),F_=m.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(v_,{ref:r,className:Y(tO({variant:t}),e),...n}));F_.displayName=v_.displayName;const nO=m.forwardRef(({className:e,...t},n)=>o.jsx(w_,{ref:n,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));nO.displayName=w_.displayName;const L_=m.forwardRef(({className:e,...t},n)=>o.jsx(b_,{ref:n,className:Y("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(no,{className:"h-4 w-4"})}));L_.displayName=b_.displayName;const $_=m.forwardRef(({className:e,...t},n)=>o.jsx(x_,{ref:n,className:Y("text-sm font-semibold",e),...t}));$_.displayName=x_.displayName;const U_=m.forwardRef(({className:e,...t},n)=>o.jsx(y_,{ref:n,className:Y("text-sm opacity-90",e),...t}));U_.displayName=y_.displayName;function rO(){const{toasts:e}=ke();return o.jsxs(eO,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return o.jsxs(F_,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx($_,{children:n}),r&&o.jsx(U_,{children:r})]}),s,o.jsx(L_,{})]},t)}),o.jsx(D_,{})]})}var Fd=["light","dark"],Uv="(prefers-color-scheme: dark)",sO=typeof window>"u",zv=m.createContext(void 0),oO={setTheme:e=>{},themes:[]},Bv=()=>{var e;return(e=m.useContext(zv))!=null?e:oO},iO=e=>m.useContext(zv)?e.children:m.createElement(lO,{...e}),aO=["light","dark"],lO=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=aO,defaultTheme:a=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=m.useState(()=>B0(s,a)),[p,y]=m.useState(()=>B0(s)),g=c?Object.values(c):i,v=m.useCallback(j=>{let N=j;if(!N)return;j==="system"&&n&&(N=W0());let C=c?c[N]:N,_=t?uO():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...g),C&&k.classList.add(C)):C?k.setAttribute(l,C):k.removeAttribute(l),r){let E=Fd.includes(a)?a:null,R=Fd.includes(N)?N:E;k.style.colorScheme=R}_==null||_()},[]),x=m.useCallback(j=>{let N=typeof j=="function"?j(j):j;h(N);try{localStorage.setItem(s,N)}catch{}},[e]),w=m.useCallback(j=>{let N=W0(j);y(N),f==="system"&&n&&!e&&v("system")},[f,e]);m.useEffect(()=>{let j=window.matchMedia(Uv);return j.addListener(w),w(j),()=>j.removeListener(w)},[w]),m.useEffect(()=>{let j=N=>{if(N.key!==s)return;let C=N.newValue||a;x(C)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[x]),m.useEffect(()=>{v(e??f)},[e,f]);let b=m.useMemo(()=>({theme:f,setTheme:x,forcedTheme:e,resolvedTheme:f==="system"?p:f,themes:n?[...i,"system"]:i,systemTheme:n?p:void 0}),[f,x,e,p,n,i]);return m.createElement(zv.Provider,{value:b},m.createElement(cO,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:a,attribute:l,value:c,children:u,attrs:g,nonce:d}),u)},cO=m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Fd.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,v=!0)=>{let x=a?a[y]:y,w=g?y+"|| ''":`'${x}'`,b="";return s&&v&&!g&&Fd.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),n==="class"?g||x?b+=`c.add(${w})`:b+="null":x&&(b+=`d[s](n,${w})`),b},p=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Uv}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),B0=(e,t)=>{if(sO)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},uO=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},W0=e=>(e||(e=window.matchMedia(Uv)),e.matches?"dark":"light"),dO=e=>{switch(e){case"success":return mO;case"info":return gO;case"warning":return pO;case"error":return vO;default:return null}},fO=Array(12).fill(0),hO=({visible:e})=>F.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},F.createElement("div",{className:"sonner-spinner"},fO.map((t,n)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),mO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xO=()=>{let[e,t]=F.useState(document.hidden);return F.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Lp=1,yO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Lp++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async i=>{if(bO(i)&&!i.ok){s=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:n,type:"error",message:a,description:l})}else if(t.success!==void 0){s=!1;let a=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"success",message:a,description:l})}}).catch(async i=>{if(t.error!==void 0){s=!1;let a=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"error",message:a,description:l})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=t.finally)==null||i.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Lp++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},gn=new yO,wO=(e,t)=>{let n=(t==null?void 0:t.id)||Lp++;return gn.addToast({title:e,...t,id:n}),n},bO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",jO=wO,_O=()=>gn.toasts;Object.assign(jO,{success:gn.success,info:gn.info,warning:gn.warning,error:gn.error,custom:gn.custom,message:gn.message,promise:gn.promise,dismiss:gn.dismiss,loading:gn.loading},{getHistory:_O});function NO(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}NO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Cu(e){return e.label!==void 0}var SO=3,CO="32px",kO=4e3,EO=356,PO=14,TO=20,RO=200;function MO(...e){return e.filter(Boolean).join(" ")}var AO=e=>{var t,n,r,s,i,a,l,c,u,d;let{invert:f,toast:h,unstyled:p,interacting:y,setHeights:g,visibleToasts:v,heights:x,index:w,toasts:b,expanded:j,removeToast:N,defaultRichColors:C,closeButton:_,style:k,cancelButtonStyle:E,actionButtonStyle:R,className:M="",descriptionClassName:O="",duration:A,position:I,gap:W,loadingIcon:U,expandByDefault:D,classNames:S,icons:T,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:B,cn:H}=e,[V,J]=F.useState(!1),[ve,X]=F.useState(!1),[$,Z]=F.useState(!1),[me,oe]=F.useState(!1),[Ne,ge]=F.useState(0),[nt,Je]=F.useState(0),Bt=F.useRef(null),ct=F.useRef(null),wr=w===0,li=w+1<=v,ot=h.type,Wt=h.dismissible!==!1,ci=h.className||"",ui=h.descriptionClassName||"",xo=F.useMemo(()=>x.findIndex(pe=>pe.toastId===h.id)||0,[x,h.id]),ru=F.useMemo(()=>{var pe;return(pe=h.closeButton)!=null?pe:_},[h.closeButton,_]),su=F.useMemo(()=>h.duration||A||kO,[h.duration,A]),el=F.useRef(0),hn=F.useRef(0),Br=F.useRef(0),Cn=F.useRef(null),[tl,br]=I.split("-"),nl=F.useMemo(()=>x.reduce((pe,De,Ie)=>Ie>=xo?pe:pe+De.height,0),[x,xo]),ou=xO(),_h=h.invert||f,yo=ot==="loading";hn.current=F.useMemo(()=>xo*W+nl,[xo,nl]),F.useEffect(()=>{J(!0)},[]),F.useLayoutEffect(()=>{if(!V)return;let pe=ct.current,De=pe.style.height;pe.style.height="auto";let Ie=pe.getBoundingClientRect().height;pe.style.height=De,Je(Ie),g(kn=>kn.find(Fe=>Fe.toastId===h.id)?kn.map(Fe=>Fe.toastId===h.id?{...Fe,height:Ie}:Fe):[{toastId:h.id,height:Ie,position:h.position},...kn])},[V,h.title,h.description,g,h.id]);let Kn=F.useCallback(()=>{X(!0),ge(hn.current),g(pe=>pe.filter(De=>De.toastId!==h.id)),setTimeout(()=>{N(h)},RO)},[h,N,g,hn]);F.useEffect(()=>{if(h.promise&&ot==="loading"||h.duration===1/0||h.type==="loading")return;let pe,De=su;return j||y||B&&ou?(()=>{if(Br.current<el.current){let Ie=new Date().getTime()-el.current;De=De-Ie}Br.current=new Date().getTime()})():De!==1/0&&(el.current=new Date().getTime(),pe=setTimeout(()=>{var Ie;(Ie=h.onAutoClose)==null||Ie.call(h,h),Kn()},De)),()=>clearTimeout(pe)},[j,y,D,h,su,Kn,h.promise,ot,B,ou]),F.useEffect(()=>{let pe=ct.current;if(pe){let De=pe.getBoundingClientRect().height;return Je(De),g(Ie=>[{toastId:h.id,height:De,position:h.position},...Ie]),()=>g(Ie=>Ie.filter(kn=>kn.toastId!==h.id))}},[g,h.id]),F.useEffect(()=>{h.delete&&Kn()},[Kn,h.delete]);function Nh(){return T!=null&&T.loading?F.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},T.loading):U?F.createElement("div",{className:"sonner-loader","data-visible":ot==="loading"},U):F.createElement(hO,{visible:ot==="loading"})}return F.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ct,className:H(M,ci,S==null?void 0:S.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,S==null?void 0:S.default,S==null?void 0:S[ot],(n=h==null?void 0:h.classNames)==null?void 0:n[ot]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:C,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":V,"data-promise":!!h.promise,"data-removed":ve,"data-visible":li,"data-y-position":tl,"data-x-position":br,"data-index":w,"data-front":wr,"data-swiping":$,"data-dismissible":Wt,"data-type":ot,"data-invert":_h,"data-swipe-out":me,"data-expanded":!!(j||D&&V),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${ve?Ne:hn.current}px`,"--initial-height":D?"auto":`${nt}px`,...k,...h.style},onPointerDown:pe=>{yo||!Wt||(Bt.current=new Date,ge(hn.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(Z(!0),Cn.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,De,Ie,kn;if(me||!Wt)return;Cn.current=null;let Fe=Number(((pe=ct.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),vt=new Date().getTime()-((De=Bt.current)==null?void 0:De.getTime()),Ht=Math.abs(Fe)/vt;if(Math.abs(Fe)>=TO||Ht>.11){ge(hn.current),(Ie=h.onDismiss)==null||Ie.call(h,h),Kn(),oe(!0);return}(kn=ct.current)==null||kn.style.setProperty("--swipe-amount","0px"),Z(!1)},onPointerMove:pe=>{var De;if(!Cn.current||!Wt)return;let Ie=pe.clientY-Cn.current.y,kn=pe.clientX-Cn.current.x,Fe=(tl==="top"?Math.min:Math.max)(0,Ie),vt=pe.pointerType==="touch"?10:2;Math.abs(Fe)>vt?(De=ct.current)==null||De.style.setProperty("--swipe-amount",`${Ie}px`):Math.abs(kn)>vt&&(Cn.current=null)}},ru&&!h.jsx?F.createElement("button",{"aria-label":z,"data-disabled":yo,"data-close-button":!0,onClick:yo||!Wt?()=>{}:()=>{var pe;Kn(),(pe=h.onDismiss)==null||pe.call(h,h)},className:H(S==null?void 0:S.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||F.isValidElement(h.title)?h.jsx||h.title:F.createElement(F.Fragment,null,ot||h.icon||h.promise?F.createElement("div",{"data-icon":"",className:H(S==null?void 0:S.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Nh():null,h.type!=="loading"?h.icon||(T==null?void 0:T[ot])||dO(ot):null):null,F.createElement("div",{"data-content":"",className:H(S==null?void 0:S.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},F.createElement("div",{"data-title":"",className:H(S==null?void 0:S.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?F.createElement("div",{"data-description":"",className:H(O,ui,S==null?void 0:S.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),F.isValidElement(h.cancel)?h.cancel:h.cancel&&Cu(h.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:pe=>{var De,Ie;Cu(h.cancel)&&Wt&&((Ie=(De=h.cancel).onClick)==null||Ie.call(De,pe),Kn())},className:H(S==null?void 0:S.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,F.isValidElement(h.action)?h.action:h.action&&Cu(h.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:pe=>{var De,Ie;Cu(h.action)&&(pe.defaultPrevented||((Ie=(De=h.action).onClick)==null||Ie.call(De,pe),Kn()))},className:H(S==null?void 0:S.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function H0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var OO=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=SO,toastOptions:p,dir:y=H0(),gap:g=PO,loadingIcon:v,icons:x,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:j=MO}=e,[N,C]=F.useState([]),_=F.useMemo(()=>Array.from(new Set([n].concat(N.filter(B=>B.position).map(B=>B.position)))),[N,n]),[k,E]=F.useState([]),[R,M]=F.useState(!1),[O,A]=F.useState(!1),[I,W]=F.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=F.useRef(null),D=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=F.useRef(null),T=F.useRef(!1),z=F.useCallback(B=>{var H;(H=N.find(V=>V.id===B.id))!=null&&H.delete||gn.dismiss(B.id),C(V=>V.filter(({id:J})=>J!==B.id))},[N]);return F.useEffect(()=>gn.subscribe(B=>{if(B.dismiss){C(H=>H.map(V=>V.id===B.id?{...V,delete:!0}:V));return}setTimeout(()=>{X1.flushSync(()=>{C(H=>{let V=H.findIndex(J=>J.id===B.id);return V!==-1?[...H.slice(0,V),{...H[V],...B},...H.slice(V+1)]:[B,...H]})})})}),[]),F.useEffect(()=>{if(c!=="system"){W(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:B})=>{W(B?"dark":"light")})},[c]),F.useEffect(()=>{N.length<=1&&M(!1)},[N]),F.useEffect(()=>{let B=H=>{var V,J;r.every(ve=>H[ve]||H.code===ve)&&(M(!0),(V=U.current)==null||V.focus()),H.code==="Escape"&&(document.activeElement===U.current||(J=U.current)!=null&&J.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[r]),F.useEffect(()=>{if(U.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,T.current=!1)}},[U.current]),N.length?F.createElement("section",{"aria-label":`${w} ${D}`,tabIndex:-1},_.map((B,H)=>{var V;let[J,ve]=B.split("-");return F.createElement("ol",{key:B,dir:y==="auto"?H0():y,tabIndex:-1,ref:U,className:a,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":J,"data-x-position":ve,style:{"--front-toast-height":`${((V=k[0])==null?void 0:V.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||CO,"--width":`${EO}px`,"--gap":`${g}px`,...f},onBlur:X=>{T.current&&!X.currentTarget.contains(X.relatedTarget)&&(T.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||T.current||(T.current=!0,S.current=X.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{O||M(!1)},onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},N.filter(X=>!X.position&&H===0||X.position===B).map((X,$)=>{var Z,me;return F.createElement(AO,{key:X.id,icons:x,index:$,toast:X,defaultRichColors:u,duration:(Z=p==null?void 0:p.duration)!=null?Z:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(me=p==null?void 0:p.closeButton)!=null?me:i,interacting:O,position:B,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:z,toasts:N.filter(oe=>oe.position==X.position),heights:k.filter(oe=>oe.position==X.position),setHeights:E,expandByDefault:s,gap:g,loadingIcon:v,expanded:R,pauseWhenPageIsHidden:b,cn:j})}))})):null};const IO=({...e})=>{const{theme:t="system"}=Bv();return o.jsx(OO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var DO=Yb.useId||(()=>{}),FO=0;function ir(e){const[t,n]=m.useState(DO());return pt(()=>{n(r=>r??String(FO++))},[e]),t?`radix-${t}`:""}const LO=["top","right","bottom","left"],ro=Math.min,yn=Math.max,Ld=Math.round,ku=Math.floor,so=e=>({x:e,y:e}),$O={left:"right",right:"left",bottom:"top",top:"bottom"},UO={start:"end",end:"start"};function $p(e,t,n){return yn(e,ro(t,n))}function as(e,t){return typeof e=="function"?e(t):e}function ls(e){return e.split("-")[0]}function Ra(e){return e.split("-")[1]}function Wv(e){return e==="x"?"y":"x"}function Hv(e){return e==="y"?"height":"width"}function oo(e){return["top","bottom"].includes(ls(e))?"y":"x"}function Vv(e){return Wv(oo(e))}function zO(e,t,n){n===void 0&&(n=!1);const r=Ra(e),s=Vv(e),i=Hv(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=$d(a)),[a,$d(a)]}function BO(e){const t=$d(e);return[Up(e),t,Up(t)]}function Up(e){return e.replace(/start|end/g,t=>UO[t])}function WO(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:a;default:return[]}}function HO(e,t,n,r){const s=Ra(e);let i=WO(ls(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(Up)))),i}function $d(e){return e.replace(/left|right|bottom|top/g,t=>$O[t])}function VO(e){return{top:0,right:0,bottom:0,left:0,...e}}function z_(e){return typeof e!="number"?VO(e):{top:e,right:e,bottom:e,left:e}}function Ud(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function V0(e,t,n){let{reference:r,floating:s}=e;const i=oo(t),a=Vv(t),l=Hv(a),c=ls(t),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ra(t)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const qO=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=V0(u,r,c),h=r,p={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:x}=l[g],{x:w,y:b,data:j,reset:N}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=w??d,f=b??f,p={...p,[v]:{...p[v],...j}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=V0(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function dc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=as(t,e),y=z_(p),v=l[h?f==="floating"?"reference":"floating":f],x=Ud(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Ud(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(x.top-N.top+y.top)/j.y,bottom:(N.bottom-x.bottom+y.bottom)/j.y,left:(x.left-N.left+y.left)/j.x,right:(N.right-x.right+y.right)/j.x}}const KO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=as(e,t)||{};if(u==null)return{};const f=z_(d),h={x:n,y:r},p=Vv(s),y=Hv(p),g=await a.getDimensions(u),v=p==="y",x=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",j=i.reference[y]+i.reference[p]-h[p]-i.floating[y],N=h[p]-i.reference[p],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let _=C?C[b]:0;(!_||!await(a.isElement==null?void 0:a.isElement(C)))&&(_=l.floating[b]||i.floating[y]);const k=j/2-N/2,E=_/2-g[y]/2-1,R=ro(f[x],E),M=ro(f[w],E),O=R,A=_-g[y]-M,I=_/2-g[y]/2+k,W=$p(O,I,A),U=!c.arrow&&Ra(s)!=null&&I!==W&&i.reference[y]/2-(I<O?R:M)-g[y]/2<0,D=U?I<O?I-O:I-A:0;return{[p]:h[p]+D,data:{[p]:W,centerOffset:I-W-D,...U&&{alignmentOffset:D}},reset:U}}}),GO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=as(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=ls(s),w=oo(l),b=ls(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(b||!g?[$d(l)]:BO(l)),C=y!=="none";!h&&C&&N.push(...HO(l,g,y,j));const _=[l,...N],k=await dc(t,v),E=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(k[x]),f){const I=zO(s,a,j);E.push(k[I[0]],k[I[1]])}if(R=[...R,{placement:s,overflows:E}],!E.every(I=>I<=0)){var M,O;const I=(((M=i.flip)==null?void 0:M.index)||0)+1,W=_[I];if(W)return{data:{index:I,overflows:R},reset:{placement:W}};let U=(O=R.filter(D=>D.overflows[0]<=0).sort((D,S)=>D.overflows[1]-S.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(p){case"bestFit":{var A;const D=(A=R.filter(S=>{if(C){const T=oo(S.placement);return T===w||T==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(T=>T>0).reduce((T,z)=>T+z,0)]).sort((S,T)=>S[1]-T[1])[0])==null?void 0:A[0];D&&(U=D);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function q0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function K0(e){return LO.some(t=>e[t]>=0)}const YO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=as(e,t);switch(r){case"referenceHidden":{const i=await dc(t,{...s,elementContext:"reference"}),a=q0(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:K0(a)}}}case"escaped":{const i=await dc(t,{...s,altBoundary:!0}),a=q0(i,n.floating);return{data:{escapedOffsets:a,escaped:K0(a)}}}default:return{}}}}};async function QO(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ls(n),l=Ra(n),c=oo(n)==="y",u=["left","top"].includes(a)?-1:1,d=i&&c?-1:1,f=as(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const JO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await QO(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},XO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...c}=as(e,t),u={x:n,y:r},d=await dc(t,c),f=oo(ls(s)),h=Wv(f);let p=u[h],y=u[f];if(i){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=p+d[v],b=p-d[x];p=$p(w,p,b)}if(a){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=y+d[v],b=y-d[x];y=$p(w,y,b)}const g=l.fn({...t,[h]:p,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[f]:a}}}}}},ZO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=as(e,t),d={x:n,y:r},f=oo(s),h=Wv(f);let p=d[h],y=d[f];const g=as(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",j=i.reference[h]-i.floating[b]+v.mainAxis,N=i.reference[h]+i.reference[b]-v.mainAxis;p<j?p=j:p>N&&(p=N)}if(u){var x,w;const b=h==="y"?"width":"height",j=["top","left"].includes(ls(s)),N=i.reference[f]-i.floating[b]+(j&&((x=a.offset)==null?void 0:x[f])||0)+(j?0:v.crossAxis),C=i.reference[f]+i.reference[b]+(j?0:((w=a.offset)==null?void 0:w[f])||0)-(j?v.crossAxis:0);y<N?y=N:y>C&&(y=C)}return{[h]:p,[f]:y}}}},e4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=as(e,t),d=await dc(t,u),f=ls(s),h=Ra(s),p=oo(s)==="y",{width:y,height:g}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,b=y-d.left-d.right,j=ro(g-d[v],w),N=ro(y-d[x],b),C=!t.middlewareData.shift;let _=j,k=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=w),C&&!h){const R=yn(d.left,0),M=yn(d.right,0),O=yn(d.top,0),A=yn(d.bottom,0);p?k=y-2*(R!==0||M!==0?R+M:yn(d.left,d.right)):_=g-2*(O!==0||A!==0?O+A:yn(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:_});const E=await a.getDimensions(l.floating);return y!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function $f(){return typeof window<"u"}function Ma(e){return B_(e)?(e.nodeName||"").toLowerCase():"#document"}function jn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $r(e){var t;return(t=(B_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function B_(e){return $f()?e instanceof Node||e instanceof jn(e).Node:!1}function cr(e){return $f()?e instanceof Element||e instanceof jn(e).Element:!1}function Fr(e){return $f()?e instanceof HTMLElement||e instanceof jn(e).HTMLElement:!1}function G0(e){return!$f()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof jn(e).ShadowRoot}function Lc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ur(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function t4(e){return["table","td","th"].includes(Ma(e))}function Uf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function qv(e){const t=Kv(),n=cr(e)?ur(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function n4(e){let t=io(e);for(;Fr(t)&&!ya(t);){if(qv(t))return t;if(Uf(t))return null;t=io(t)}return null}function Kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ya(e){return["html","body","#document"].includes(Ma(e))}function ur(e){return jn(e).getComputedStyle(e)}function zf(e){return cr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function io(e){if(Ma(e)==="html")return e;const t=e.assignedSlot||e.parentNode||G0(e)&&e.host||$r(e);return G0(t)?t.host:t}function W_(e){const t=io(e);return ya(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fr(t)&&Lc(t)?t:W_(t)}function fc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=W_(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=jn(s);if(i){const l=zp(a);return t.concat(a,a.visualViewport||[],Lc(s)?s:[],l&&n?fc(l):[])}return t.concat(s,fc(s,[],n))}function zp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function H_(e){const t=ur(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Fr(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=Ld(n)!==i||Ld(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Gv(e){return cr(e)?e:e.contextElement}function Hi(e){const t=Gv(e);if(!Fr(t))return so(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=H_(t);let a=(i?Ld(n.width):n.width)/r,l=(i?Ld(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const r4=so(0);function V_(e){const t=jn(e);return!Kv()||!t.visualViewport?r4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function s4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==jn(e)?!1:t}function qo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Gv(e);let a=so(1);t&&(r?cr(r)&&(a=Hi(r)):a=Hi(e));const l=s4(i,n,r)?V_(i):so(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const h=jn(i),p=r&&cr(r)?jn(r):r;let y=h,g=zp(y);for(;g&&r&&p!==y;){const v=Hi(g),x=g.getBoundingClientRect(),w=ur(g),b=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,j=x.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=j,y=jn(g),g=zp(y)}}return Ud({width:d,height:f,x:c,y:u})}function o4(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=$r(r),l=t?Uf(t.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=so(1);const d=so(0),f=Fr(r);if((f||!f&&!i)&&((Ma(r)!=="body"||Lc(a))&&(c=zf(r)),Fr(r))){const h=qo(r);u=Hi(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function i4(e){return Array.from(e.getClientRects())}function Bp(e,t){const n=zf(e).scrollLeft;return t?t.left+n:qo($r(e)).left+n}function a4(e){const t=$r(e),n=zf(e),r=e.ownerDocument.body,s=yn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=yn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Bp(e);const l=-n.scrollTop;return ur(r).direction==="rtl"&&(a+=yn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function l4(e,t){const n=jn(e),r=$r(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Kv();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function c4(e,t){const n=qo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Fr(e)?Hi(e):so(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function Y0(e,t,n){let r;if(t==="viewport")r=l4(e,n);else if(t==="document")r=a4($r(e));else if(cr(t))r=c4(t,n);else{const s=V_(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Ud(r)}function q_(e,t){const n=io(e);return n===t||!cr(n)||ya(n)?!1:ur(n).position==="fixed"||q_(n,t)}function u4(e,t){const n=t.get(e);if(n)return n;let r=fc(e,[],!1).filter(l=>cr(l)&&Ma(l)!=="body"),s=null;const i=ur(e).position==="fixed";let a=i?io(e):e;for(;cr(a)&&!ya(a);){const l=ur(a),c=qv(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Lc(a)&&!c&&q_(e,a))?r=r.filter(d=>d!==a):s=l,a=io(a)}return t.set(e,r),r}function d4(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Uf(t)?[]:u4(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=Y0(t,d,s);return u.top=yn(f.top,u.top),u.right=ro(f.right,u.right),u.bottom=ro(f.bottom,u.bottom),u.left=yn(f.left,u.left),u},Y0(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function f4(e){const{width:t,height:n}=H_(e);return{width:t,height:n}}function h4(e,t,n){const r=Fr(t),s=$r(t),i=n==="fixed",a=qo(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=so(0);if(r||!r&&!i)if((Ma(t)!=="body"||Lc(s))&&(l=zf(t)),r){const p=qo(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=Bp(s));let u=0,d=0;if(s&&!r&&!i){const p=s.getBoundingClientRect();d=p.top+l.scrollTop,u=p.left+l.scrollLeft-Bp(s,p)}const f=a.left+l.scrollLeft-c.x-u,h=a.top+l.scrollTop-c.y-d;return{x:f,y:h,width:a.width,height:a.height}}function sm(e){return ur(e).position==="static"}function Q0(e,t){if(!Fr(e)||ur(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $r(e)===n&&(n=n.ownerDocument.body),n}function K_(e,t){const n=jn(e);if(Uf(e))return n;if(!Fr(e)){let s=io(e);for(;s&&!ya(s);){if(cr(s)&&!sm(s))return s;s=io(s)}return n}let r=Q0(e,t);for(;r&&t4(r)&&sm(r);)r=Q0(r,t);return r&&ya(r)&&sm(r)&&!qv(r)?n:r||n4(e)||n}const m4=async function(e){const t=this.getOffsetParent||K_,n=this.getDimensions,r=await n(e.floating);return{reference:h4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function p4(e){return ur(e).direction==="rtl"}const g4={convertOffsetParentRelativeRectToViewportRelativeRect:o4,getDocumentElement:$r,getClippingRect:d4,getOffsetParent:K_,getElementRects:m4,getClientRects:i4,getDimensions:f4,getScale:Hi,isElement:cr,isRTL:p4};function v4(e,t){let n=null,r;const s=$r(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const p=ku(d),y=ku(s.clientWidth-(u+f)),g=ku(s.clientHeight-(d+h)),v=ku(u),w={rootMargin:-p+"px "+-y+"px "+-g+"px "+-v+"px",threshold:yn(0,ro(1,c))||1};let b=!0;function j(N){const C=N[0].intersectionRatio;if(C!==c){if(!b)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,w)}n.observe(e)}return a(!0),i}function x4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Gv(e),d=s||i?[...u?fc(u):[],...fc(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&l?v4(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let y,g=c?qo(e):null;c&&v();function v(){const x=qo(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,y=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const y4=JO,w4=XO,b4=GO,j4=e4,_4=YO,J0=KO,N4=ZO,S4=(e,t,n)=>{const r=new Map,s={platform:g4,...n},i={...s.platform,_c:r};return qO(e,t,{...s,platform:i})};var rd=typeof document<"u"?m.useLayoutEffect:m.useEffect;function zd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!zd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function G_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function X0(e,t){const n=G_(e);return Math.round(t*n)/n}function om(e){const t=m.useRef(e);return rd(()=>{t.current=e}),t}function C4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);zd(h,r)||p(r);const[y,g]=m.useState(null),[v,x]=m.useState(null),w=m.useCallback(S=>{S!==C.current&&(C.current=S,g(S))},[]),b=m.useCallback(S=>{S!==_.current&&(_.current=S,x(S))},[]),j=i||y,N=a||v,C=m.useRef(null),_=m.useRef(null),k=m.useRef(d),E=c!=null,R=om(c),M=om(s),O=om(u),A=m.useCallback(()=>{if(!C.current||!_.current)return;const S={placement:t,strategy:n,middleware:h};M.current&&(S.platform=M.current),S4(C.current,_.current,S).then(T=>{const z={...T,isPositioned:O.current!==!1};I.current&&!zd(k.current,z)&&(k.current=z,In.flushSync(()=>{f(z)}))})},[h,t,n,M,O]);rd(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[u]);const I=m.useRef(!1);rd(()=>(I.current=!0,()=>{I.current=!1}),[]),rd(()=>{if(j&&(C.current=j),N&&(_.current=N),j&&N){if(R.current)return R.current(j,N,A);A()}},[j,N,A,R,E]);const W=m.useMemo(()=>({reference:C,floating:_,setReference:w,setFloating:b}),[w,b]),U=m.useMemo(()=>({reference:j,floating:N}),[j,N]),D=m.useMemo(()=>{const S={position:n,left:0,top:0};if(!U.floating)return S;const T=X0(U.floating,d.x),z=X0(U.floating,d.y);return l?{...S,transform:"translate("+T+"px, "+z+"px)",...G_(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:z}},[n,l,U.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:A,refs:W,elements:U,floatingStyles:D}),[d,A,W,U,D])}const k4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?J0({element:r.current,padding:s}).fn(n):{}:r?J0({element:r,padding:s}).fn(n):{}}}},E4=(e,t)=>({...y4(e),options:[e,t]}),P4=(e,t)=>({...w4(e),options:[e,t]}),T4=(e,t)=>({...N4(e),options:[e,t]}),R4=(e,t)=>({...b4(e),options:[e,t]}),M4=(e,t)=>({...j4(e),options:[e,t]}),A4=(e,t)=>({..._4(e),options:[e,t]}),O4=(e,t)=>({...k4(e),options:[e,t]});var I4="Arrow",Y_=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return o.jsx(ae.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Y_.displayName=I4;var D4=Y_;function F4(e,t=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][c])||l,v=m.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,y=m.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,L4(s,...t)]}function L4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Q_(e){const[t,n]=m.useState(void 0);return pt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Yv="Popper",[J_,uo]=F4(Yv),[$4,X_]=J_(Yv),Z_=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return o.jsx($4,{scope:t,anchor:r,onAnchorChange:s,children:n})};Z_.displayName=Yv;var eN="PopperAnchor",tN=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=X_(eN,n),a=m.useRef(null),l=ye(t,a);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(ae.div,{...s,ref:l})});tN.displayName=eN;var Qv="PopperContent",[U4,z4]=J_(Qv),nN=m.forwardRef((e,t)=>{var $,Z,me,oe,Ne,ge;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=e,v=X_(Qv,n),[x,w]=m.useState(null),b=ye(t,nt=>w(nt)),[j,N]=m.useState(null),C=Q_(j),_=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,E=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],O=M.length>0,A={padding:R,boundary:M.filter(W4),altBoundary:O},{refs:I,floatingStyles:W,placement:U,isPositioned:D,middlewareData:S}=C4({strategy:"fixed",placement:E,whileElementsMounted:(...nt)=>x4(...nt,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[E4({mainAxis:s+k,alignmentAxis:a}),c&&P4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?T4():void 0,...A}),c&&R4({...A}),M4({...A,apply:({elements:nt,rects:Je,availableWidth:Bt,availableHeight:ct})=>{const{width:wr,height:li}=Je.reference,ot=nt.floating.style;ot.setProperty("--radix-popper-available-width",`${Bt}px`),ot.setProperty("--radix-popper-available-height",`${ct}px`),ot.setProperty("--radix-popper-anchor-width",`${wr}px`),ot.setProperty("--radix-popper-anchor-height",`${li}px`)}}),j&&O4({element:j,padding:l}),H4({arrowWidth:_,arrowHeight:k}),h&&A4({strategy:"referenceHidden",...A})]}),[T,z]=oN(U),B=Ke(y);pt(()=>{D&&(B==null||B())},[D,B]);const H=($=S.arrow)==null?void 0:$.x,V=(Z=S.arrow)==null?void 0:Z.y,J=((me=S.arrow)==null?void 0:me.centerOffset)!==0,[ve,X]=m.useState();return pt(()=>{x&&X(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:D?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(oe=S.transformOrigin)==null?void 0:oe.x,(Ne=S.transformOrigin)==null?void 0:Ne.y].join(" "),...((ge=S.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(U4,{scope:n,placedSide:T,onArrowChange:N,arrowX:H,arrowY:V,shouldHideArrow:J,children:o.jsx(ae.div,{"data-side":T,"data-align":z,...g,ref:b,style:{...g.style,animation:D?void 0:"none"}})})})});nN.displayName=Qv;var rN="PopperArrow",B4={top:"bottom",right:"left",bottom:"top",left:"right"},sN=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=z4(rN,r),a=B4[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(D4,{...s,ref:n,style:{...s.style,display:"block"}})})});sN.displayName=rN;function W4(e){return e!==null}var H4=e=>({name:"transformOrigin",options:e,fn(t){var v,x,w;const{placement:n,rects:r,middlewareData:s}=t,a=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=oN(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=a?f:`${h}px`,g=`${-c}px`):u==="top"?(y=a?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=a?f:`${p}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=a?f:`${p}px`),{data:{x:y,y:g}}}});function oN(e){const[t,n="center"]=e.split("-");return[t,n]}var Jv=Z_,$c=tN,Bf=nN,Wf=sN,[Hf,cH]=Hn("Tooltip",[uo]),Xv=uo(),iN="TooltipProvider",V4=700,Z0="tooltip.open",[q4,aN]=Hf(iN),lN=e=>{const{__scopeTooltip:t,delayDuration:n=V4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,[a,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(q4,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:i})};lN.displayName=iN;var cN="Tooltip",[uH,Vf]=Hf(cN),Wp="TooltipTrigger",K4=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Vf(Wp,n),i=aN(Wp,n),a=Xv(n),l=m.useRef(null),c=ye(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx($c,{asChild:!0,...a,children:o.jsx(ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:K(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:K(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:K(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:K(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:K(e.onBlur,s.onClose),onClick:K(e.onClick,s.onClose)})})});K4.displayName=Wp;var G4="TooltipPortal",[dH,Y4]=Hf(G4,{forceMount:void 0}),wa="TooltipContent",uN=m.forwardRef((e,t)=>{const n=Y4(wa,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=Vf(wa,e.__scopeTooltip);return o.jsx(Rt,{present:r||a.open,children:a.disableHoverableContent?o.jsx(dN,{side:s,...i,ref:t}):o.jsx(Q4,{side:s,...i,ref:t})})}),Q4=m.forwardRef((e,t)=>{const n=Vf(wa,e.__scopeTooltip),r=aN(wa,e.__scopeTooltip),s=m.useRef(null),i=ye(t,s),[a,l]=m.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=m.useCallback(()=>{l(null),f(!1)},[f]),p=m.useCallback((y,g)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},w=eI(x,v.getBoundingClientRect()),b=tI(x,w),j=nI(g.getBoundingClientRect()),N=sI([...b,...j]);l(N),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const y=v=>p(v,d),g=v=>p(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),m.useEffect(()=>{if(a){const y=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),b=!rI(x,a);w?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,a,u,h]),o.jsx(dN,{...e,ref:i})}),[J4,X4]=Hf(cN,{isInside:!1}),dN=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Vf(wa,n),u=Xv(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Z0,d),()=>document.removeEventListener(Z0,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(ti,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Bf,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Tv,{children:r}),o.jsx(J4,{scope:n,isInside:!0,children:o.jsx(kM,{id:c.contentId,role:"tooltip",children:s||r})})]})})});uN.displayName=wa;var fN="TooltipArrow",Z4=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Xv(n);return X4(fN,n).isInside?null:o.jsx(Wf,{...s,...r,ref:t})});Z4.displayName=fN;function eI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function nI(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function rI(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function sI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),oI(t)}function oI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var iI=lN,hN=uN;const aI=iI,lI=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(hN,{ref:r,sideOffset:t,className:Y("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));lI.displayName=hN.displayName;var Aa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ko=typeof window>"u"||"Deno"in globalThis;function Tn(){}function cI(e,t){return typeof e=="function"?e(t):e}function Hp(e){return typeof e=="number"&&e>=0&&e!==1/0}function mN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vi(e,t){return typeof e=="function"?e(t):e}function nr(e,t){return typeof e=="function"?e(t):e}function ew(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==Zv(a,t.options))return!1}else if(!hc(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function tw(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Go(t.options.mutationKey)!==Go(i))return!1}else if(!hc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Zv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Go)(e)}function Go(e){return JSON.stringify(e,(t,n)=>Vp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function hc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!hc(e[n],t[n])):!1}function pN(e,t){if(e===t)return e;const n=nw(e)&&nw(t);if(n||Vp(e)&&Vp(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,l=n?[]:{};let c=0;for(let u=0;u<a;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=pN(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function Bd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function nw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vp(e){if(!rw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!rw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rw(e){return Object.prototype.toString.call(e)==="[object Object]"}function uI(e){return new Promise(t=>{setTimeout(t,e)})}function qp(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?pN(e,t):t}function dI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function fI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ex=Symbol();function gN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ex?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var To,Rs,Ji,Eb,hI=(Eb=class extends Aa{constructor(){super();de(this,To);de(this,Rs);de(this,Ji);te(this,Ji,t=>{if(!Ko&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,Rs)||this.setEventListener(P(this,Ji))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Rs))==null||t.call(this),te(this,Rs,void 0))}setEventListener(t){var n;te(this,Ji,t),(n=P(this,Rs))==null||n.call(this),te(this,Rs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){P(this,To)!==t&&(te(this,To,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof P(this,To)=="boolean"?P(this,To):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},To=new WeakMap,Rs=new WeakMap,Ji=new WeakMap,Eb),tx=new hI,Xi,Ms,Zi,Pb,mI=(Pb=class extends Aa{constructor(){super();de(this,Xi,!0);de(this,Ms);de(this,Zi);te(this,Zi,t=>{if(!Ko&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,Ms)||this.setEventListener(P(this,Zi))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Ms))==null||t.call(this),te(this,Ms,void 0))}setEventListener(t){var n;te(this,Zi,t),(n=P(this,Ms))==null||n.call(this),te(this,Ms,t(this.setOnline.bind(this)))}setOnline(t){P(this,Xi)!==t&&(te(this,Xi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return P(this,Xi)}},Xi=new WeakMap,Ms=new WeakMap,Zi=new WeakMap,Pb),Wd=new mI;function Kp(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function pI(e){return Math.min(1e3*2**e,3e4)}function vN(e){return(e??"online")==="online"?Wd.isOnline():!0}var xN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function im(e){return e instanceof xN}function yN(e){let t=!1,n=0,r=!1,s;const i=Kp(),a=g=>{var v;r||(h(new xN(g)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>tx.isFocused()&&(e.networkMode==="always"||Wd.isOnline())&&e.canRun(),d=()=>vN(e.networkMode)&&e.canRun(),f=g=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,g),s==null||s(),i.resolve(g))},h=g=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var v;s=x=>{(r||u())&&g(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(r)return;let g;const v=n===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var C;if(r)return;const w=e.retry??(Ko?0:3),b=e.retryDelay??pI,j=typeof b=="function"?b(n,x):b,N=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(t||!N){h(x);return}n++,(C=e.onFail)==null||C.call(e,n,x),uI(j).then(()=>u()?void 0:p()).then(()=>{t?h(x):y()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}function gI(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var ft=gI(),Ro,Tb,wN=(Tb=class{constructor(){de(this,Ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hp(this.gcTime)&&te(this,Ro,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ko?1/0:5*60*1e3))}clearGcTimeout(){P(this,Ro)&&(clearTimeout(P(this,Ro)),te(this,Ro,void 0))}},Ro=new WeakMap,Tb),ea,ta,Pn,Dt,Cc,Mo,Xn,qr,Rb,vI=(Rb=class extends wN{constructor(t){super();de(this,Xn);de(this,ea);de(this,ta);de(this,Pn);de(this,Dt);de(this,Cc);de(this,Mo);te(this,Mo,!1),te(this,Cc,t.defaultOptions),this.setOptions(t.options),this.observers=[],te(this,Pn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,te(this,ea,xI(this.options)),this.state=t.state??P(this,ea),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,Dt))==null?void 0:t.promise}setOptions(t){this.options={...P(this,Cc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Pn).remove(this)}setData(t,n){const r=qp(this.state.data,t,this.options);return be(this,Xn,qr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){be(this,Xn,qr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=P(this,Dt))==null?void 0:r.promise;return(s=P(this,Dt))==null||s.cancel(t),n?n.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,ea))}isActive(){return this.observers.some(t=>nr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ex||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!mN(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,Dt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,Dt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,Pn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(P(this,Dt)&&(P(this,Mo)?P(this,Dt).cancel({revert:!0}):P(this,Dt).cancelRetry()),this.scheduleGc()),P(this,Pn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,Xn,qr).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,Dt))return P(this,Dt).continueRetry(),P(this,Dt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(te(this,Mo,!0),r.signal)})},i=()=>{const f=gN(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),te(this,Mo,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),te(this,ta,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&be(this,Xn,qr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,p,y,g;im(f)&&f.silent||be(this,Xn,qr).call(this,{type:"error",error:f}),im(f)||((p=(h=P(this,Pn).config).onError)==null||p.call(h,f,this),(g=(y=P(this,Pn).config).onSettled)==null||g.call(y,this.state.data,f,this)),this.scheduleGc()};return te(this,Dt,yN({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,y,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(p=(h=P(this,Pn).config).onSuccess)==null||p.call(h,f,this),(g=(y=P(this,Pn).config).onSettled)==null||g.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{be(this,Xn,qr).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{be(this,Xn,qr).call(this,{type:"pause"})},onContinue:()=>{be(this,Xn,qr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),P(this,Dt).start()}},ea=new WeakMap,ta=new WeakMap,Pn=new WeakMap,Dt=new WeakMap,Cc=new WeakMap,Mo=new WeakMap,Xn=new WeakSet,qr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bN(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return im(s)&&s.revert&&P(this,ta)?{...P(this,ta),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ft.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,Pn).notify({query:this,type:"updated",action:t})})},Rb);function bN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Cr,Mb,yI=(Mb=class extends Aa{constructor(t={}){super();de(this,Cr);this.config=t,te(this,Cr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Zv(s,n);let a=this.get(i);return a||(a=new vI({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){P(this,Cr).has(t.queryHash)||(P(this,Cr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=P(this,Cr).get(t.queryHash);n&&(t.destroy(),n===t&&P(this,Cr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ft.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,Cr).get(t)}getAll(){return[...P(this,Cr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ew(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ew(t,r)):n}notify(t){ft.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ft.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ft.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Cr=new WeakMap,Mb),kr,Vt,Ao,Er,bs,Ab,wI=(Ab=class extends wN{constructor(t){super();de(this,Er);de(this,kr);de(this,Vt);de(this,Ao);this.mutationId=t.mutationId,te(this,Vt,t.mutationCache),te(this,kr,[]),this.state=t.state||jN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,kr).includes(t)||(P(this,kr).push(t),this.clearGcTimeout(),P(this,Vt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){te(this,kr,P(this,kr).filter(n=>n!==t)),this.scheduleGc(),P(this,Vt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,kr).length||(this.state.status==="pending"?this.scheduleGc():P(this,Vt).remove(this))}continue(){var t;return((t=P(this,Ao))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,l,c,u,d,f,h,p,y,g,v,x,w,b,j,N,C,_;te(this,Ao,yN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{be(this,Er,bs).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{be(this,Er,bs).call(this,{type:"pause"})},onContinue:()=>{be(this,Er,bs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Vt).canRun(this)}));const n=this.state.status==="pending",r=!P(this,Ao).canStart();try{if(!n){be(this,Er,bs).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(s=P(this,Vt).config).onMutate)==null?void 0:i.call(s,t,this));const E=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));E!==this.state.context&&be(this,Er,bs).call(this,{type:"pending",context:E,variables:t,isPaused:r})}const k=await P(this,Ao).start();return await((u=(c=P(this,Vt).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context)),await((p=(h=P(this,Vt).config).onSettled)==null?void 0:p.call(h,k,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,k,null,t,this.state.context)),be(this,Er,bs).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(v=P(this,Vt).config).onError)==null?void 0:x.call(v,k,t,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,k,t,this.state.context)),await((N=(j=P(this,Vt).config).onSettled)==null?void 0:N.call(j,void 0,k,this.state.variables,this.state.context,this)),await((_=(C=this.options).onSettled)==null?void 0:_.call(C,void 0,k,t,this.state.context)),k}finally{be(this,Er,bs).call(this,{type:"error",error:k})}}finally{P(this,Vt).runNext(this)}}},kr=new WeakMap,Vt=new WeakMap,Ao=new WeakMap,Er=new WeakSet,bs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ft.batch(()=>{P(this,kr).forEach(r=>{r.onMutationUpdate(t)}),P(this,Vt).notify({mutation:this,type:"updated",action:t})})},Ab);function jN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pn,kc,Ob,bI=(Ob=class extends Aa{constructor(t={}){super();de(this,pn);de(this,kc);this.config=t,te(this,pn,new Map),te(this,kc,Date.now())}build(t,n,r){const s=new wI({mutationCache:this,mutationId:++iu(this,kc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Eu(t),r=P(this,pn).get(n)??[];r.push(t),P(this,pn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Eu(t);if(P(this,pn).has(n)){const s=(r=P(this,pn).get(n))==null?void 0:r.filter(i=>i!==t);s&&(s.length===0?P(this,pn).delete(n):P(this,pn).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=P(this,pn).get(Eu(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=P(this,pn).get(Eu(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ft.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...P(this,pn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>tw(n,r))}findAll(t={}){return this.getAll().filter(n=>tw(t,n))}notify(t){ft.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ft.batch(()=>Promise.all(t.map(n=>n.continue().catch(Tn))))}},pn=new WeakMap,kc=new WeakMap,Ob);function Eu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function sw(e){return{onFetch:(t,n)=>{var d,f,h,p,y;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],a=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=gN(t.options,t.fetchOptions),w=async(b,j,N)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const C={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};v(C);const _=await x(C),{maxPages:k}=t.options,E=N?fI:dI;return{pages:E(b.pages,_,k),pageParams:E(b.pageParams,j,k)}};if(s&&i.length){const b=s==="backward",j=b?jI:ow,N={pages:i,pageParams:a},C=j(r,N);l=await w(N,C,b)}else{const b=e??i.length;do{const j=c===0?a[0]??r.initialPageParam:ow(r,l);if(c>0&&j==null)break;l=await w(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function ow(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function jI(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var rt,As,Os,na,ra,Is,sa,oa,Ib,_I=(Ib=class{constructor(e={}){de(this,rt);de(this,As);de(this,Os);de(this,na);de(this,ra);de(this,Is);de(this,sa);de(this,oa);te(this,rt,e.queryCache||new yI),te(this,As,e.mutationCache||new bI),te(this,Os,e.defaultOptions||{}),te(this,na,new Map),te(this,ra,new Map),te(this,Is,0)}mount(){iu(this,Is)._++,P(this,Is)===1&&(te(this,sa,tx.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,rt).onFocus())})),te(this,oa,Wd.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,rt).onOnline())})))}unmount(){var e,t;iu(this,Is)._--,P(this,Is)===0&&((e=P(this,sa))==null||e.call(this),te(this,sa,void 0),(t=P(this,oa))==null||t.call(this),te(this,oa,void 0))}isFetching(e){return P(this,rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,As).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,rt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=P(this,rt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Vi(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return P(this,rt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=P(this,rt).get(r.queryHash),i=s==null?void 0:s.state.data,a=cI(t,i);if(a!==void 0)return P(this,rt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return ft.batch(()=>P(this,rt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,rt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=P(this,rt);ft.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=P(this,rt),r={type:"active",...e};return ft.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=ft.batch(()=>P(this,rt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(e={},t={}){return ft.batch(()=>{if(P(this,rt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=ft.batch(()=>P(this,rt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Tn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=P(this,rt).build(this,t);return n.isStaleByTime(Vi(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tn).catch(Tn)}fetchInfiniteQuery(e){return e.behavior=sw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tn).catch(Tn)}ensureInfiniteQueryData(e){return e.behavior=sw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wd.isOnline()?P(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,rt)}getMutationCache(){return P(this,As)}getDefaultOptions(){return P(this,Os)}setDefaultOptions(e){te(this,Os,e)}setQueryDefaults(e,t){P(this,na).set(Go(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,na).values()];let n={};return t.forEach(r=>{hc(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){P(this,ra).set(Go(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,ra).values()];let n={};return t.forEach(r=>{hc(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,Os).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ex&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,Os).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,rt).clear(),P(this,As).clear()}},rt=new WeakMap,As=new WeakMap,Os=new WeakMap,na=new WeakMap,ra=new WeakMap,Is=new WeakMap,sa=new WeakMap,oa=new WeakMap,Ib),tn,Se,Ec,qt,Oo,ia,Ds,Pr,Pc,aa,la,Io,Do,Fs,ca,Me,Sl,Gp,Yp,Qp,Jp,Xp,Zp,eg,_N,Db,NI=(Db=class extends Aa{constructor(t,n){super();de(this,Me);de(this,tn);de(this,Se);de(this,Ec);de(this,qt);de(this,Oo);de(this,ia);de(this,Ds);de(this,Pr);de(this,Pc);de(this,aa);de(this,la);de(this,Io);de(this,Do);de(this,Fs);de(this,ca,new Set);this.options=n,te(this,tn,t),te(this,Pr,null),te(this,Ds,Kp()),this.options.experimental_prefetchInRender||P(this,Ds).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,Se).addObserver(this),iw(P(this,Se),this.options)?be(this,Me,Sl).call(this):this.updateResult(),be(this,Me,Jp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tg(P(this,Se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tg(P(this,Se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,Me,Xp).call(this),be(this,Me,Zp).call(this),P(this,Se).removeObserver(this)}setOptions(t,n){const r=this.options,s=P(this,Se);if(this.options=P(this,tn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nr(this.options.enabled,P(this,Se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,Me,eg).call(this),P(this,Se).setOptions(this.options),r._defaulted&&!Bd(this.options,r)&&P(this,tn).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,Se),observer:this});const i=this.hasListeners();i&&aw(P(this,Se),s,this.options,r)&&be(this,Me,Sl).call(this),this.updateResult(n),i&&(P(this,Se)!==s||nr(this.options.enabled,P(this,Se))!==nr(r.enabled,P(this,Se))||Vi(this.options.staleTime,P(this,Se))!==Vi(r.staleTime,P(this,Se)))&&be(this,Me,Gp).call(this);const a=be(this,Me,Yp).call(this);i&&(P(this,Se)!==s||nr(this.options.enabled,P(this,Se))!==nr(r.enabled,P(this,Se))||a!==P(this,Fs))&&be(this,Me,Qp).call(this,a)}getOptimisticResult(t){const n=P(this,tn).getQueryCache().build(P(this,tn),t),r=this.createResult(n,t);return CI(this,r)&&(te(this,qt,r),te(this,ia,this.options),te(this,Oo,P(this,Se).state)),r}getCurrentResult(){return P(this,qt)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){P(this,ca).add(t)}getCurrentQuery(){return P(this,Se)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=P(this,tn).defaultQueryOptions(t),r=P(this,tn).getQueryCache().build(P(this,tn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return be(this,Me,Sl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,qt)))}createResult(t,n){var k;const r=P(this,Se),s=this.options,i=P(this,qt),a=P(this,Oo),l=P(this,ia),u=t!==r?t.state:P(this,Ec),{state:d}=t;let f={...d},h=!1,p;if(n._optimisticResults){const E=this.hasListeners(),R=!E&&iw(t,n),M=E&&aw(t,r,n,s);(R||M)&&(f={...f,...bN(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:v}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(a==null?void 0:a.data)&&n.select===P(this,Pc))p=P(this,aa);else try{te(this,Pc,n.select),p=n.select(f.data),p=qp(i==null?void 0:i.data,p,n),te(this,aa,p),te(this,Pr,null)}catch(E){te(this,Pr,E)}else p=f.data;if(n.placeholderData!==void 0&&p===void 0&&v==="pending"){let E;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((k=P(this,la))==null?void 0:k.state.data,P(this,la)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),te(this,Pr,null)}catch(R){te(this,Pr,R)}E!==void 0&&(v="success",p=qp(i==null?void 0:i.data,E,n),h=!0)}P(this,Pr)&&(y=P(this,Pr),p=P(this,aa),g=Date.now(),v="error");const x=f.fetchStatus==="fetching",w=v==="pending",b=v==="error",j=w&&x,N=p!==void 0,_={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:b,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:b&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&N,isStale:nx(t,n),refetch:this.refetch,promise:P(this,Ds)};if(this.options.experimental_prefetchInRender){const E=O=>{_.status==="error"?O.reject(_.error):_.data!==void 0&&O.resolve(_.data)},R=()=>{const O=te(this,Ds,_.promise=Kp());E(O)},M=P(this,Ds);switch(M.status){case"pending":t.queryHash===r.queryHash&&E(M);break;case"fulfilled":(_.status==="error"||_.data!==M.value)&&R();break;case"rejected":(_.status!=="error"||_.error!==M.reason)&&R();break}}return _}updateResult(t){const n=P(this,qt),r=this.createResult(P(this,Se),this.options);if(te(this,Oo,P(this,Se).state),te(this,ia,this.options),P(this,Oo).data!==void 0&&te(this,la,P(this,Se)),Bd(r,n))return;te(this,qt,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!P(this,ca).size)return!0;const c=new Set(l??P(this,ca));return this.options.throwOnError&&c.add("error"),Object.keys(P(this,qt)).some(u=>{const d=u;return P(this,qt)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),be(this,Me,_N).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,Me,Jp).call(this)}},tn=new WeakMap,Se=new WeakMap,Ec=new WeakMap,qt=new WeakMap,Oo=new WeakMap,ia=new WeakMap,Ds=new WeakMap,Pr=new WeakMap,Pc=new WeakMap,aa=new WeakMap,la=new WeakMap,Io=new WeakMap,Do=new WeakMap,Fs=new WeakMap,ca=new WeakMap,Me=new WeakSet,Sl=function(t){be(this,Me,eg).call(this);let n=P(this,Se).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Tn)),n},Gp=function(){be(this,Me,Xp).call(this);const t=Vi(this.options.staleTime,P(this,Se));if(Ko||P(this,qt).isStale||!Hp(t))return;const r=mN(P(this,qt).dataUpdatedAt,t)+1;te(this,Io,setTimeout(()=>{P(this,qt).isStale||this.updateResult()},r))},Yp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,Se)):this.options.refetchInterval)??!1},Qp=function(t){be(this,Me,Zp).call(this),te(this,Fs,t),!(Ko||nr(this.options.enabled,P(this,Se))===!1||!Hp(P(this,Fs))||P(this,Fs)===0)&&te(this,Do,setInterval(()=>{(this.options.refetchIntervalInBackground||tx.isFocused())&&be(this,Me,Sl).call(this)},P(this,Fs)))},Jp=function(){be(this,Me,Gp).call(this),be(this,Me,Qp).call(this,be(this,Me,Yp).call(this))},Xp=function(){P(this,Io)&&(clearTimeout(P(this,Io)),te(this,Io,void 0))},Zp=function(){P(this,Do)&&(clearInterval(P(this,Do)),te(this,Do,void 0))},eg=function(){const t=P(this,tn).getQueryCache().build(P(this,tn),this.options);if(t===P(this,Se))return;const n=P(this,Se);te(this,Se,t),te(this,Ec,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},_N=function(t){ft.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(P(this,qt))}),P(this,tn).getQueryCache().notify({query:P(this,Se),type:"observerResultsUpdated"})})},Db);function SI(e,t){return nr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function iw(e,t){return SI(e,t)||e.state.data!==void 0&&tg(e,t,t.refetchOnMount)}function tg(e,t,n){if(nr(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&nx(e,t)}return!1}function aw(e,t,n,r){return(e!==t||nr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&nx(e,n)}function nx(e,t){return nr(t.enabled,e)!==!1&&e.isStaleByTime(Vi(t.staleTime,e))}function CI(e,t){return!Bd(e.getCurrentResult(),t)}var Ls,$s,nn,Jr,ts,sd,ng,Fb,kI=(Fb=class extends Aa{constructor(n,r){super();de(this,ts);de(this,Ls);de(this,$s);de(this,nn);de(this,Jr);te(this,Ls,n),this.setOptions(r),this.bindMethods(),be(this,ts,sd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=P(this,Ls).defaultMutationOptions(n),Bd(this.options,r)||P(this,Ls).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,nn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Go(r.mutationKey)!==Go(this.options.mutationKey)?this.reset():((s=P(this,nn))==null?void 0:s.state.status)==="pending"&&P(this,nn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=P(this,nn))==null||n.removeObserver(this)}onMutationUpdate(n){be(this,ts,sd).call(this),be(this,ts,ng).call(this,n)}getCurrentResult(){return P(this,$s)}reset(){var n;(n=P(this,nn))==null||n.removeObserver(this),te(this,nn,void 0),be(this,ts,sd).call(this),be(this,ts,ng).call(this)}mutate(n,r){var s;return te(this,Jr,r),(s=P(this,nn))==null||s.removeObserver(this),te(this,nn,P(this,Ls).getMutationCache().build(P(this,Ls),this.options)),P(this,nn).addObserver(this),P(this,nn).execute(n)}},Ls=new WeakMap,$s=new WeakMap,nn=new WeakMap,Jr=new WeakMap,ts=new WeakSet,sd=function(){var r;const n=((r=P(this,nn))==null?void 0:r.state)??jN();te(this,$s,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ng=function(n){ft.batch(()=>{var r,s,i,a,l,c,u,d;if(P(this,Jr)&&this.hasListeners()){const f=P(this,$s).variables,h=P(this,$s).context;(n==null?void 0:n.type)==="success"?((s=(r=P(this,Jr)).onSuccess)==null||s.call(r,n.data,f,h),(a=(i=P(this,Jr)).onSettled)==null||a.call(i,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((c=(l=P(this,Jr)).onError)==null||c.call(l,n.error,f,h),(d=(u=P(this,Jr)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(P(this,$s))})})},Fb),NN=m.createContext(void 0),rx=e=>{const t=m.useContext(NN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},EI=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(NN.Provider,{value:e,children:t})),SN=m.createContext(!1),PI=()=>m.useContext(SN);SN.Provider;function TI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var RI=m.createContext(TI()),MI=()=>m.useContext(RI);function CN(e,t){return typeof e=="function"?e(...t):!!e}function kN(){}var AI=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},OI=e=>{m.useEffect(()=>{e.clearReset()},[e])},II=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&CN(n,[e.error,r]),DI=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},FI=(e,t)=>e.isLoading&&e.isFetching&&!t,LI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,lw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function $I(e,t,n){var d,f,h,p,y;const r=rx(),s=PI(),i=MI(),a=r.defaultQueryOptions(e);(f=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,a),a._optimisticResults=s?"isRestoring":"optimistic",DI(a),AI(a,i),OI(i);const l=!r.getQueryCache().get(a.queryHash),[c]=m.useState(()=>new t(r,a)),u=c.getOptimisticResult(a);if(m.useSyncExternalStore(m.useCallback(g=>{const v=s?()=>{}:c.subscribe(ft.batchCalls(g));return c.updateResult(),v},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),LI(a,u))throw lw(a,c,i);if(II({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw u.error;if((p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,a,u),a.experimental_prefetchInRender&&!Ko&&FI(u,s)){const g=l?lw(a,c,i):(y=r.getQueryCache().get(a.queryHash))==null?void 0:y.promise;g==null||g.catch(kN).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function UI(e,t){return $I(e,NI)}function am(e,t){const n=rx(),[r]=m.useState(()=>new kI(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const s=m.useSyncExternalStore(m.useCallback(a=>r.subscribe(ft.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((a,l)=>{r.mutate(a,l).catch(kN)},[r]);if(s.error&&CN(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mc.apply(this,arguments)}var Bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bs||(Bs={}));const cw="popstate";function zI(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return rg("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Hd(s)}return WI(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function EN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BI(){return Math.random().toString(36).substr(2,8)}function uw(e,t){return{usr:e.state,key:e.key,idx:t}}function rg(e,t,n,r){return n===void 0&&(n=null),mc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Oa(t):t,{state:n,key:t&&t.key||r||BI()})}function Hd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Oa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function WI(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Bs.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(mc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Bs.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:x})}function h(v,x){l=Bs.Push;let w=rg(g.location,v,x);u=d()+1;let b=uw(w,u),j=g.createHref(w);try{a.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}i&&c&&c({action:l,location:g.location,delta:1})}function p(v,x){l=Bs.Replace;let w=rg(g.location,v,x);u=d();let b=uw(w,u),j=g.createHref(w);a.replaceState(b,"",j),i&&c&&c({action:l,location:g.location,delta:0})}function y(v){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof v=="string"?v:Hd(v);return w=w.replace(/ $/,"%20"),et(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let g={get action(){return l},get location(){return e(s,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cw,f),c=v,()=>{s.removeEventListener(cw,f),c=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return a.go(v)}};return g}var dw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dw||(dw={}));function HI(e,t,n){return n===void 0&&(n="/"),VI(e,t,n,!1)}function VI(e,t,n,r){let s=typeof t=="string"?Oa(t):t,i=ba(s.pathname||"/",n);if(i==null)return null;let a=PN(e);qI(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=rD(i);l=tD(a[c],u,r)}return l}function PN(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Js([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),PN(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ZI(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of TN(i.path))s(i,a,c)}),t}function TN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=TN(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:eD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KI=/^:[\w-]+$/,GI=3,YI=2,QI=1,JI=10,XI=-2,fw=e=>e==="*";function ZI(e,t){let n=e.split("/"),r=n.length;return n.some(fw)&&(r+=XI),t&&(r+=YI),n.filter(s=>!fw(s)).reduce((s,i)=>s+(KI.test(i)?GI:i===""?QI:JI),r)}function eD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function tD(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Vd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Vd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Js([i,f.pathname]),pathnameBase:aD(Js([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Js([i,f.pathnameBase]))}return a}function Vd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=nD(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function nD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),EN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function rD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return EN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ba(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Oa(e):e;return{pathname:n?n.startsWith("/")?n:oD(n,t):t,search:lD(r),hash:cD(s)}}function oD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sx(e,t){let n=iD(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ox(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Oa(e):(s=mc({},e),et(!s.pathname||!s.pathname.includes("?"),lm("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),lm("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),lm("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=sD(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Js=e=>e.join("/").replace(/\/\/+/g,"/"),aD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const RN=["post","put","patch","delete"];new Set(RN);const dD=["get",...RN];new Set(dD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pc.apply(this,arguments)}const qf=m.createContext(null),MN=m.createContext(null),ds=m.createContext(null),Kf=m.createContext(null),Ur=m.createContext({outlet:null,matches:[],isDataRoute:!1}),AN=m.createContext(null);function fD(e,t){let{relative:n}=t===void 0?{}:t;Ia()||et(!1);let{basename:r,navigator:s}=m.useContext(ds),{hash:i,pathname:a,search:l}=Gf(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Js([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Ia(){return m.useContext(Kf)!=null}function fo(){return Ia()||et(!1),m.useContext(Kf).location}function ON(e){m.useContext(ds).static||m.useLayoutEffect(e)}function Da(){let{isDataRoute:e}=m.useContext(Ur);return e?ED():hD()}function hD(){Ia()||et(!1);let e=m.useContext(qf),{basename:t,future:n,navigator:r}=m.useContext(ds),{matches:s}=m.useContext(Ur),{pathname:i}=fo(),a=JSON.stringify(sx(s,n.v7_relativeSplatPath)),l=m.useRef(!1);return ON(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=ox(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Js([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,i,e])}const mD=m.createContext(null);function pD(e){let t=m.useContext(Ur).outlet;return t&&m.createElement(mD.Provider,{value:e},t)}function gD(){let{matches:e}=m.useContext(Ur),t=e[e.length-1];return t?t.params:{}}function Gf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(ds),{matches:s}=m.useContext(Ur),{pathname:i}=fo(),a=JSON.stringify(sx(s,r.v7_relativeSplatPath));return m.useMemo(()=>ox(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function vD(e,t){return xD(e,t)}function xD(e,t,n,r){Ia()||et(!1);let{navigator:s}=m.useContext(ds),{matches:i}=m.useContext(Ur),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=fo(),d;if(t){var f;let v=typeof t=="string"?Oa(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||et(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=HI(e,{pathname:p}),g=_D(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Js([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Js([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return t&&g?m.createElement(Kf.Provider,{value:{location:pc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bs.Pop}},g):g}function yD(){let e=kD(),t=uD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,null)}const wD=m.createElement(yD,null);class bD extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Ur.Provider,{value:this.props.routeContext},m.createElement(AN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jD(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(qf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ur.Provider,{value:t},r)}function _D(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||et(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,y=!1,g=null,v=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||wD,c&&(u<0&&h===0?(y=!0,v=null):u===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),w=()=>{let b;return p?b=g:y?b=v:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,m.createElement(jD,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(bD,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var IN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(IN||{}),qd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qd||{});function ND(e){let t=m.useContext(qf);return t||et(!1),t}function SD(e){let t=m.useContext(MN);return t||et(!1),t}function CD(e){let t=m.useContext(Ur);return t||et(!1),t}function DN(e){let t=CD(),n=t.matches[t.matches.length-1];return n.route.id||et(!1),n.route.id}function kD(){var e;let t=m.useContext(AN),n=SD(qd.UseRouteError),r=DN(qd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ED(){let{router:e}=ND(IN.UseNavigateStable),t=DN(qd.UseNavigateStable),n=m.useRef(!1);return ON(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,pc({fromRouteId:t},i)))},[e,t])}function PD(e){let{to:t,replace:n,state:r,relative:s}=e;Ia()||et(!1);let{future:i,static:a}=m.useContext(ds),{matches:l}=m.useContext(Ur),{pathname:c}=fo(),u=Da(),d=ox(t,sx(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function TD(e){return pD(e.context)}function Ot(e){et(!1)}function RD(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Bs.Pop,navigator:i,static:a=!1,future:l}=e;Ia()&&et(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:a,future:pc({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Oa(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=r,g=m.useMemo(()=>{let v=ba(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:y},navigationType:s}},[c,d,f,h,p,y,s]);return g==null?null:m.createElement(ds.Provider,{value:u},m.createElement(Kf.Provider,{children:n,value:g}))}function MD(e){let{children:t,location:n}=e;return vD(sg(t),n)}new Promise(()=>{});function sg(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let i=[...t,s];if(r.type===m.Fragment){n.push.apply(n,sg(r.props.children,i));return}r.type!==Ot&&et(!1),!r.props.index||!r.props.children||et(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=sg(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(this,arguments)}function FN(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function AD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OD(e,t){return e.button===0&&(!t||t==="_self")&&!AD(e)}function og(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function ID(e,t){let n=og(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const DD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],LD="6";try{window.__reactRouterVersion=LD}catch{}const $D=m.createContext({isTransitioning:!1}),UD="startTransition",hw=Yb[UD];function zD(e){let{basename:t,children:n,future:r,window:s}=e,i=m.useRef();i.current==null&&(i.current=zI({window:s,v5Compat:!0}));let a=i.current,[l,c]=m.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&hw?hw(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>a.listen(d),[a,d]),m.createElement(RD,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const BD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LN=m.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=FN(t,DD),{basename:p}=m.useContext(ds),y,g=!1;if(typeof u=="string"&&WD.test(u)&&(y=u,BD))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),N=ba(j.pathname,p);j.origin===b.origin&&N!=null?u=N+j.search+j.hash:g=!0}catch{}let v=fD(u,{relative:s}),x=VD(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function w(b){r&&r(b),b.defaultPrevented||x(b)}return m.createElement("a",Kd({},h,{href:y||v,onClick:g||i?r:w,ref:n,target:c}))}),mw=m.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=t,f=FN(t,FD),h=Gf(c,{relative:f.relative}),p=fo(),y=m.useContext(MN),{navigator:g,basename:v}=m.useContext(ds),x=y!=null&&KD(h)&&u===!0,w=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=p.pathname,j=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(b=b.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&v&&(j=ba(j,v)||j);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let C=b===w||!a&&b.startsWith(w)&&b.charAt(N)==="/",_=j!=null&&(j===w||!a&&j.startsWith(w)&&j.charAt(w.length)==="/"),k={isActive:C,isPending:_,isTransitioning:x},E=C?r:void 0,R;typeof i=="function"?R=i(k):R=[i,C?"active":null,_?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(k):l;return m.createElement(LN,Kd({},f,{"aria-current":E,className:R,ref:n,style:M,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var ig;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ig||(ig={}));var pw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pw||(pw={}));function HD(e){let t=m.useContext(qf);return t||et(!1),t}function VD(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Da(),u=fo(),d=Gf(e,{relative:a});return m.useCallback(f=>{if(OD(f,n)){f.preventDefault();let h=r!==void 0?r:Hd(u)===Hd(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}function qD(e){let t=m.useRef(og(e)),n=m.useRef(!1),r=fo(),s=m.useMemo(()=>ID(r.search,n.current?null:t.current),[r.search]),i=Da(),a=m.useCallback((l,c)=>{const u=og(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}function KD(e,t){t===void 0&&(t={});let n=m.useContext($D);n==null&&et(!1);let{basename:r}=HD(ig.useViewTransitionState),s=Gf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=ba(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ba(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vd(s.pathname,a)!=null||Vd(s.pathname,i)!=null}const se=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Y("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));se.displayName="Card";const ce=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Y("flex flex-col space-y-1.5 p-6",e),...t}));ce.displayName="CardHeader";const ue=m.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:Y("text-2xl font-semibold leading-none tracking-tight",e),...t}));ue.displayName="CardTitle";const Fa=m.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));Fa.displayName="CardDescription";const ie=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Y("p-6 pt-0",e),...t}));ie.displayName="CardContent";const $N=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Y("flex items-center p-6 pt-0",e),...t}));$N.displayName="CardFooter";const GD=ni("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-500 text-white hover:bg-emerald-500/80",warning:"border-transparent bg-amber-500 text-white hover:bg-amber-500/80",processing:"border-transparent bg-blue-500 text-white hover:bg-blue-500/80"}},defaultVariants:{variant:"default"}});function re({className:e,variant:t,...n}){return o.jsx("div",{className:Y(GD({variant:t}),e),...n})}const YD=()=>{console.log("Index page component rendering");const e=[{id:1,title:"Load PLA+ Black filament on Printer A1-001",description:"Current spool is running low (< 50g remaining)",type:"filament_change",priority:"high",assignedTo:"John Doe",printer:"A1-001",estimatedTime:10},{id:2,title:"Replace nozzle on Printer X1C-002",description:"Nozzle shows signs of wear",type:"maintenance",priority:"high",assignedTo:"Alex Wilson",printer:"X1C-002",estimatedTime:30},{id:3,title:"Assemble custom phone case order #ORD-789",description:"Attach phone case to packaging insert",type:"assembly",priority:"medium",assignedTo:"Mike Johnson",estimatedTime:15}],t=r=>{switch(r){case"filament_change":return o.jsx(xa,{className:"h-4 w-4"});case"assembly":return o.jsx(to,{className:"h-4 w-4"});case"maintenance":return o.jsx(to,{className:"h-4 w-4"});default:return o.jsx(rr,{className:"h-4 w-4"})}},n=r=>{switch(r){case"high":return"text-red-600 border-red-200";case"medium":return"text-orange-600 border-orange-200";case"low":return"text-gray-600 border-gray-200";default:return"text-gray-600 border-gray-200"}};return o.jsxs("div",{className:"flex flex-col gap-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Active Printers"}),o.jsx(xa,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"3/5"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"60% utilization rate"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Jobs in Queue"}),o.jsx(Df,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:"8"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"~12 hours remaining"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Low Stock Items"}),o.jsx(at,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"4"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Need reordering"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Today's Revenue"}),o.jsx(Id,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$324"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from yesterday"})]})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{children:[o.jsx(ue,{children:"Worklist To do"}),o.jsx(Fa,{children:"Top pending tasks requiring attention"})]}),o.jsx(ie,{children:o.jsx("div",{className:"space-y-4",children:e.map(r=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[t(r.type),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:r.title}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.assignedTo,"  ",r.printer&&`${r.printer}  `,r.description]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(re,{variant:"outline",className:n(r.priority),children:r.priority.toUpperCase()}),o.jsxs(re,{variant:"outline",className:"text-muted-foreground border-gray-200",children:[o.jsx(rr,{className:"w-3 h-3 mr-1"}),r.estimatedTime," min"]})]})]},r.id))})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Low Stock Finished Goods"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Custom Phone Stand"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU: PHS-001-BLK"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"0 units"}),o.jsx(re,{variant:"destructive",children:"Out of Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Desktop Organizer"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU: ORG-002-WHT"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"0 units"}),o.jsx(re,{variant:"destructive",children:"Out of Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cable Holder"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU: CHD-003-GRY"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"2 units"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Wall Mount Bracket"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU: WMB-004-BLK"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"3 units"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Desk Lamp Base"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU: DLB-005-WHT"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"4 units"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]})]})})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Low Stock Materials"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"PLA+ Filament"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Black  1.75mm"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"45g"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"PETG Filament"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Clear  1.75mm"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"78g"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cardboard Boxes"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Small  4x4x2 in"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"8 units"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Nozzles 0.4mm"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Hardened Steel"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"1 unit"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Build Plates"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"PEI Sheet  A1 Mini"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"2 units"}),o.jsx(re,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Low Stock"})]})]})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Fleet Status"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Ir,{className:"w-4 h-4 text-green-500"}),"Printer Alpha (Idle)"]}),o.jsx(re,{variant:"secondary",children:"Ready"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),"Printer Beta (Printing)"]}),o.jsx(re,{className:"bg-blue-100 text-blue-800",children:"Active"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Ir,{className:"w-4 h-4 text-green-500"}),"Printer Gamma (Idle)"]}),o.jsx(re,{variant:"secondary",children:"Ready"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),"Production Unit 1 (Printing)"]}),o.jsx(re,{className:"bg-green-100 text-green-800",children:"Active"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Fc,{className:"w-4 h-4 text-yellow-500"}),"Production Unit 2 (Maintenance)"]}),o.jsx(re,{variant:"outline",className:"text-yellow-600 border-yellow-200",children:"Maintenance"})]})]})})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Recent Orders"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"ORD-2024-001"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Sarah Johnson  Etsy"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"$24.98"}),o.jsx(re,{className:"bg-blue-100 text-blue-800",children:"Processing"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"ORD-2024-002"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Mike Chen  Shopify"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"$15.99"}),o.jsx(re,{className:"bg-green-100 text-green-800",children:"Fulfilled"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"B2B-2024-001"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"TechCorp Industries  Manual"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:"$124.95"}),o.jsx(re,{className:"bg-blue-100 text-blue-800",children:"Processing"})]})]})]})})]})]})]})},gc=ni("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?is:"button";return o.jsx(a,{className:Y(gc({variant:t,size:n,className:e})),ref:i,...s})});L.displayName="Button";const QD=()=>{const e=fo();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center p-4",children:[o.jsx("h1",{className:"text-8xl md:text-9xl font-bold text-primary",children:"404"}),o.jsx("p",{className:"text-2xl md:text-3xl font-semibold mt-4",children:"Oops! Page not found"}),o.jsx("p",{className:"text-muted-foreground mt-2 max-w-md mx-auto",children:"The page you are looking for does not exist, has been moved, or is under construction."}),o.jsx(L,{asChild:!0,className:"mt-6",children:o.jsx(LN,{to:"/",children:"Return to Dashboard"})})]})})},JD="modulepreload",XD=function(e){return"/"+e},gw={},La=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=XD(c),c in gw)return;gw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":JD,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},ZD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>La(async()=>{const{default:r}=await Promise.resolve().then(()=>$a);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ix extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class eF extends ix{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vw extends ix{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xw extends ix{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ag;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ag||(ag={}));var tF=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class nF{constructor(t,{headers:n={},customFetch:r,region:s=ag.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=ZD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return tF(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(g=>{throw new eF(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new vw(f);if(!f.ok)throw new xw(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield f.json():p==="application/octet-stream"?y=yield f.blob():p==="text/event-stream"?y=f:p==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof xw||s instanceof vw?s.context:void 0}}})}}var sn={},ax={},Yf={},Uc={},Qf={},Jf={},rF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ja=rF();const sF=ja.fetch,UN=ja.fetch.bind(ja),zN=ja.Headers,oF=ja.Request,iF=ja.Response,$a=Object.freeze(Object.defineProperty({__proto__:null,Headers:zN,Request:oF,Response:iF,default:UN,fetch:sF},Symbol.toStringTag,{value:"Module"})),aF=CP($a);var Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});let lF=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Xf.default=lF;var BN=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jf,"__esModule",{value:!0});const cF=BN(aF),uF=BN(Xf);let dF=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=cF.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new uF.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Jf.default=dF;var fF=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qf,"__esModule",{value:!0});const hF=fF(Jf);let mF=class extends hF.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qf.default=mF;var pF=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uc,"__esModule",{value:!0});const gF=pF(Qf);let vF=class extends gF.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Uc.default=vF;var xF=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yf,"__esModule",{value:!0});const vl=xF(Uc);let yF=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new vl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new vl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new vl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new vl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new vl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yf.default=yF;var Zf={},eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.version=void 0;eh.version="0.0.0-automated";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.DEFAULT_HEADERS=void 0;const wF=eh;Zf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${wF.version}`};var WN=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ax,"__esModule",{value:!0});const bF=WN(Yf),jF=WN(Uc),_F=Zf;let NF=class HN{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},_F.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new bF.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new HN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new jF.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ax.default=NF;var Ua=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sn,"__esModule",{value:!0});sn.PostgrestError=sn.PostgrestBuilder=sn.PostgrestTransformBuilder=sn.PostgrestFilterBuilder=sn.PostgrestQueryBuilder=sn.PostgrestClient=void 0;const VN=Ua(ax);sn.PostgrestClient=VN.default;const qN=Ua(Yf);sn.PostgrestQueryBuilder=qN.default;const KN=Ua(Uc);sn.PostgrestFilterBuilder=KN.default;const GN=Ua(Qf);sn.PostgrestTransformBuilder=GN.default;const YN=Ua(Jf);sn.PostgrestBuilder=YN.default;const QN=Ua(Xf);sn.PostgrestError=QN.default;var SF=sn.default={PostgrestClient:VN.default,PostgrestQueryBuilder:qN.default,PostgrestFilterBuilder:KN.default,PostgrestTransformBuilder:GN.default,PostgrestBuilder:YN.default,PostgrestError:QN.default};const{PostgrestClient:CF,PostgrestQueryBuilder:xH,PostgrestFilterBuilder:yH,PostgrestTransformBuilder:wH,PostgrestBuilder:bH,PostgrestError:jH}=SF;function kF(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const EF=kF(),PF="2.11.15",TF=`realtime-js/${PF}`,RF="1.0.0",JN=1e4,MF=1e3;var $l;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($l||($l={}));var It;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(It||(It={}));var er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(er||(er={}));var lg;(function(e){e.websocket="websocket"})(lg||(lg={}));var So;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(So||(So={}));class AF{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class XN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const yw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,a)=>(i[a]=OF(a,e,t,s),i),{})},OF=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?ZN(i,a):cg(a)},ZN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return LF(t,n)}switch(e){case Le.bool:return IF(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return DF(t);case Le.json:case Le.jsonb:return FF(t);case Le.timestamp:return $F(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return cg(t);default:return cg(t)}},cg=e=>e,IF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},FF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},LF=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>ZN(t,l))}return e},$F=e=>typeof e=="string"?e.replace(" ","T"):e,eS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class cm{constructor(t,n,r={},s=JN){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ww;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ww||(ww={}));class Ul{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ul.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Ul.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ul.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),y=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bw||(bw={}));var jw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jw||(jw={}));var Yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yr||(Yr={}));class lx{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cm(this,er.join,this.params,this.timeout),this.rejoinTimer=new XN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(er.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ul(this),this.broadcastEndpointURL=eS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==It.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Yr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Yr.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Yr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let g=0;g<p;g++){const v=h[g],{filter:{event:x,schema:w,table:b,filter:j}}=v,N=d&&d[g];if(N&&N.event===x&&N.schema===w&&N.table===b&&N.filter===j)y.push(Object.assign(Object.assign({},v),{id:N.id}));else{this.unsubscribe(),this.state=It.errored,t==null||t(Yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Yr.SUBSCRIBED);return}}).receive("error",d=>{this.state=It.errored,t==null||t(Yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(er.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new cm(this,er.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new cm(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=er;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,g,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var y,g,v,x,w,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const j=p.id,N=(y=p.filter)===null||y===void 0?void 0:y.event;return j&&((g=n.ids)===null||g===void 0?void 0:g.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(w=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:g,table:v,commit_timestamp:x,type:w,errors:b}=y;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(h,r)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&lx.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(er.close,{},t)}_onError(t){this._on(er.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yw(t.columns,t.old_record)),n}}const _w=()=>{},UF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zF{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=JN,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_w,this.ref=0,this.logger=_w,this.conn=null,this.sendBuffer=[],this.serializer=new AF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>La(async()=>{const{default:c}=await Promise.resolve().then(()=>$a);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${lg.websocket}`,this.httpEndpoint=eS(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new XN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=EF),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RF}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $l.connecting:return So.Connecting;case $l.open:return So.Open;case $l.closing:return So.Closing;default:return So.Closed}}isConnected(){return this.connectionState()===So.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new lx(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:TF};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(er.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(MF,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(er.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([UF],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class cx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function yt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class BF extends cx{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ug extends cx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var WF=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const tS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>La(async()=>{const{default:r}=await Promise.resolve().then(()=>$a);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},HF=()=>WF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield La(()=>Promise.resolve().then(()=>$a),void 0)).Response:Response}),dg=e=>{if(Array.isArray(e))return e.map(n=>dg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=dg(r)}),t};var ri=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const um=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VF=(e,t,n)=>ri(void 0,void 0,void 0,function*(){const r=yield HF();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new BF(um(s),e.status||500))}).catch(s=>{t(new ug(um(s),s))}):t(new ug(um(e),e))}),qF=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function zc(e,t,n,r,s,i){return ri(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,qF(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>VF(c,l,r))})})}function Gd(e,t,n,r){return ri(this,void 0,void 0,function*(){return zc(e,"GET",t,n,r)})}function Cs(e,t,n,r,s){return ri(this,void 0,void 0,function*(){return zc(e,"POST",t,r,s,n)})}function KF(e,t,n,r,s){return ri(this,void 0,void 0,function*(){return zc(e,"PUT",t,r,s,n)})}function GF(e,t,n,r){return ri(this,void 0,void 0,function*(){return zc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function nS(e,t,n,r,s){return ri(this,void 0,void 0,function*(){return zc(e,"DELETE",t,r,s,n)})}var en=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const YF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QF{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=tS(s)}uploadOrUpdate(t,n,r,s){return en(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Nw),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}upload(t,n,r){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return en(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Nw.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(yt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return en(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Cs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new cx("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}update(t,n,r){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return en(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return en(this,void 0,void 0,function*(){try{return{data:{path:(yield Cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return en(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Cs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return en(this,void 0,void 0,function*(){try{const s=yield Cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}download(t,n){return en(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Gd(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(yt(l))return{data:null,error:l};throw l}})}info(t){return en(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Gd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:dg(r),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}exists(t){return en(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield GF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(yt(r)&&r instanceof ug){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return en(this,void 0,void 0,function*(){try{return{data:yield nS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}list(t,n,r){return en(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},YF),n),{prefix:t||""});return{data:yield Cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const JF="2.7.1",XF={"X-Client-Info":`storage-js/${JF}`};var mi=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class ZF{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},XF),n),this.fetch=tS(r)}listBuckets(){return mi(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}getBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield Gd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return mi(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return mi(this,void 0,void 0,function*(){try{return{data:yield KF(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield nS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}}class eL extends ZF{constructor(t,n={},r){super(t,n,r)}from(t){return new QF(this.url,this.headers,t,this.fetch)}}const tL="2.50.3";let Cl="";typeof Deno<"u"?Cl="deno":typeof document<"u"?Cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cl="react-native":Cl="node";const nL={"X-Client-Info":`supabase-js-${Cl}/${tL}`},rL={headers:nL},sL={schema:"public"},oL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iL={};var aL=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const lL=e=>{let t;return e?t=e:typeof fetch>"u"?t=UN:t=fetch,(...n)=>t(...n)},cL=()=>typeof Headers>"u"?zN:Headers,uL=(e,t,n)=>{const r=lL(n),s=cL();return(i,a)=>aL(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var dL=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function fL(e){return e.endsWith("/")?e:e+"/"}function hL(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>dL(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const rS="2.70.0",Ni=30*1e3,fg=3,dm=fg*Ni,mL="http://localhost:9999",pL="supabase.auth.token",gL={"X-Client-Info":`gotrue-js/${rS}`},hg="X-Supabase-Api-Version",sS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xL=6e5;class ux extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yL extends ux{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wL(e){return xe(e)&&e.name==="AuthApiError"}class oS extends ux{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ho extends ux{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class js extends ho{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bL(e){return xe(e)&&e.name==="AuthSessionMissingError"}class Pu extends ho{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tu extends ho{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ru extends ho{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jL(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Sw extends ho{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mg extends ho{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function fm(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class Cw extends ho{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class zl extends ho{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kw=` 	
\r=`.split(""),_L=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kw.length;t+=1)e[kw[t].charCodeAt(0)]=-2;for(let t=0;t<Yd.length;t+=1)e[Yd[t].charCodeAt(0)]=t;return e})();function Ew(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yd[r]),t.queuedBits-=6}}function iS(e,t,n){const r=_L[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Pw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{CL(a,r,n)};for(let a=0;a<e.length;a+=1)iS(e.charCodeAt(a),s,i);return t.join("")}function NL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function SL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}NL(r,t)}}function CL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function kL(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)iS(e.charCodeAt(s),n,r);return new Uint8Array(t)}function EL(e){const t=[];return SL(e,n=>t.push(n)),new Uint8Array(t)}function PL(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Ew(s,n,r)),Ew(null,n,r),t.join("")}function TL(e){return Math.round(Date.now()/1e3)+e}function RL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Yn=()=>typeof window<"u"&&typeof document<"u",wo={tested:!1,writable:!1},Bl=()=>{if(!Yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wo.tested)return wo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wo.tested=!0,wo.writable=!0}catch{wo.tested=!0,wo.writable=!1}return wo.writable};function ML(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const aS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>La(async()=>{const{default:r}=await Promise.resolve().then(()=>$a);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},AL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lS=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Mu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Au=async(e,t)=>{await e.removeItem(t)};class th{constructor(){this.promise=new th.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}th.promiseConstructor=Promise;function hm(e){const t=e.split(".");if(t.length!==3)throw new zl("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!vL.test(t[r]))throw new zl("JWT not in base64url format");return{header:JSON.parse(Pw(t[0])),payload:JSON.parse(Pw(t[1])),signature:kL(t[2]),raw:{header:t[0],payload:t[1]}}}async function OL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function IL(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function DL(e){return("0"+e.toString(16)).substr(-2)}function FL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,DL).join("")}async function LL(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function $L(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await LL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pi(e,t,n=!1){const r=FL();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await lS(e,`${t}-code-verifier`,s);const i=await $L(r);return[i,r===i?"plain":"s256"]}const UL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zL(e){const t=e.headers.get(hg);if(!t||!t.match(UL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function BL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gi(e){if(!HL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var VL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const _o=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qL=[502,503,504];async function Tw(e){var t;if(!AL(e))throw new mg(_o(e),0);if(qL.includes(e.status))throw new mg(_o(e),e.status);let n;try{n=await e.json()}catch(i){throw new oS(_o(i),i)}let r;const s=zL(e);if(s&&s.getTime()>=sS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Cw(_o(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new js}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Cw(_o(n),e.status,n.weak_password.reasons);throw new yL(_o(n),e.status||500,r)}const KL=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function je(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[hg]||(i[hg]=sS["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await GL(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function GL(e,t,n,r,s,i){const a=KL(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new mg(_o(c),0)}if(l.ok||await Tw(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Tw(c)}}function Kr(e){var t;let n=null;XL(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=TL(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Rw(e){const t=Kr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ts(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YL(e){return{data:e,error:null}}function QL(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=VL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function JL(e){return e}function XL(e){return e.access_token&&e.refresh_token&&e.expires_in}const mm=["global","local","others"];var ZL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class e${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=aS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=mm[0]){if(mm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mm.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ts})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ZL(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:QL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ts})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:JL});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){gi(t);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ts})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){gi(t);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ts})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){gi(t);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ts})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){gi(t.userId);try{const{data:n,error:r}=await je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){gi(t.userId),gi(t.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}const t$={getItem:e=>Bl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Bl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Bl()&&globalThis.localStorage.removeItem(e)}};function Mw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function n$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vi={debug:!!(globalThis&&Bl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class r$ extends cS{}async function s$(e,t,n){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),vi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new r$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}n$();const o$={url:mL,storageKey:pL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Aw(e,t,n){return await n()}class vc{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vc.nextInstanceID,vc.nextInstanceID+=1,this.instanceID>0&&Yn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},o$),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new e$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=aS(s.fetch),this.lock=s.lock||Aw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Yn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=s$:this.lock=Aw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Bl()?this.storage=t$:(this.memoryStorage={},this.storage=Mw(this.memoryStorage)):(this.memoryStorage={},this.storage=Mw(this.memoryStorage)),Yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ML(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Yn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jL(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?{error:n}:{error:new oS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Kr}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await pi(this.storage,this.storageKey)),i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:Kr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kr})}else throw new Tu("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rw})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rw})}else throw new Tu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Pu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,a,l,c,u,d,f,h,p;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:v,wallet:x,statement:w,options:b}=t;let j;if(Yn())if(typeof x=="object")j=x;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))j=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const N=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const C=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),w?{statement:w}:null));let _;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")_=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)_=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)y=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const C=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:v,error:x}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:PL(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Kr});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Pu}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(xe(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const n=await Mu(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Kr});if(await Au(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Pu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(xe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Pu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await pi(this.storage,this.storageKey));const{error:f}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Tu("You must provide either an email or phone number.")}catch(l){if(xe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Kr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await pi(this.storage,this.storageKey)),await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:YL})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new js;const{error:s}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Tu("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Mu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<dm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ts}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new js}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ts})})}catch(n){if(xe(n))return bL(n)&&(await this._removeSession(),await Au(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new js;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await pi(this.storage,this.storageKey));const{data:u,error:d}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ts});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new js;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=hm(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(xe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new js;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(xe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Yn())throw new Ru("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ru(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ru("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sw("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new Ru("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(xe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Mu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(wL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Au(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=RL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await pi(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Yn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(xe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await IL(async s=>(s>0&&await OL(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&fm(i)&&Date.now()+a-r<Ni})}catch(r){if(this._debug(n,"error",r),xe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Yn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Mu(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<dm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${dm}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),fm(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new js;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new th;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new js;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),xe(i)){const a={session:null,error:i};return fm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await lS(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Au(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ni);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ni}ms, refresh threshold is ${fg} ticks`),s<=fg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await pi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=hm(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r||(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+xL>Date.now()))return r;const{data:s,error:i}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new zl("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(a=>a.kid===t),!r)throw new zl("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=hm(r);if(BL(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const u=WL(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,EL(`${l}.${c}`)))throw new zl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}}vc.nextInstanceID=0;const i$=vc;class a$ extends i${constructor(t){super(t)}}var l$=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class c${constructor(t,n,r){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=fL(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:sL,realtime:iL,auth:Object.assign(Object.assign({},oL),{storageKey:u}),global:rL},f=hL(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=uL(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new CF(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new nF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eL(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return l$(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a$({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new zF(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u$=(e,t,n)=>new c$(e,t,n),d$="https://rippurqgfesmtoovxidz.supabase.co",f$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpcHB1cnFnZmVzbXRvb3Z4aWR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE0OTQwNjEsImV4cCI6MjA2NzA3MDA2MX0.ct4KGkxZvQS0LW9llwKlPK4VAPsdHusKU_3mWXzOt58",G=u$(d$,f$,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),uS=m.createContext(void 0),si=()=>{const e=m.useContext(uS);if(e===void 0)throw new Error("useAuth must be used within AuthProvider");return e},h$=({children:e})=>{const[t,n]=m.useState(null),[r,s]=m.useState(null),[i,a]=m.useState(null),[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(!0),p=async(w,b,j)=>{try{const{data:N,error:C}=await G.from("profiles").select("*").eq("id",w).single();c(N&&!C?N:{id:w,email:(j==null?void 0:j.email)||"",first_name:(j==null?void 0:j.first_name)||"",last_name:(j==null?void 0:j.last_name)||null,role:(j==null?void 0:j.role)||null,tenant_id:b})}catch(N){console.error("Error fetching profile:",N),c({id:w,email:(j==null?void 0:j.email)||"",first_name:(j==null?void 0:j.first_name)||"",last_name:(j==null?void 0:j.last_name)||null,role:(j==null?void 0:j.role)||null,tenant_id:b})}};m.useEffect(()=>{G.auth.getSession().then(({data:{session:b}})=>{var N,C,_,k;s(b),n((b==null?void 0:b.user)??null);const j=((C=(N=b==null?void 0:b.user)==null?void 0:N.user_metadata)==null?void 0:C.tenant_id)??null;a(j),d(j?{id:j,company_name:((k=(_=b==null?void 0:b.user)==null?void 0:_.user_metadata)==null?void 0:k.company_name)||"PrintFlow"}:null),b!=null&&b.user?setTimeout(()=>{p(b.user.id,j,b.user.user_metadata)},0):c(null),h(!1)});const{data:{subscription:w}}=G.auth.onAuthStateChange((b,j)=>{var C,_,k,E;s(j),n((j==null?void 0:j.user)??null);const N=((_=(C=j==null?void 0:j.user)==null?void 0:C.user_metadata)==null?void 0:_.tenant_id)??null;a(N),d(N?{id:N,company_name:((E=(k=j==null?void 0:j.user)==null?void 0:k.user_metadata)==null?void 0:E.company_name)||"PrintFlow"}:null),j!=null&&j.user?setTimeout(()=>{p(j.user.id,N,j.user.user_metadata)},0):c(null),h(!1)});return()=>w.unsubscribe()},[]);const x={user:t,session:r,tenantId:i,profile:l,tenant:u,loading:f,signIn:async(w,b)=>{const{error:j}=await G.auth.signInWithPassword({email:w,password:b});return{error:j}},signUp:async(w,b,j,N,C)=>{try{const _=C.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")+"-"+Date.now().toString(36),{data:k,error:E}=await G.from("tenants").insert({company_name:C,subdomain:_,is_active:!0}).select("*").single();if(E)if(E.code==="23505"){const O=_+"-"+Math.random().toString(36).substring(7),{data:A,error:I}=await G.from("tenants").insert({company_name:C,subdomain:O,is_active:!0}).select("*").single();if(I)return{error:new Error("Failed to create company account")};k.id=A.id}else return{error:E};const{data:R,error:M}=await G.auth.signUp({email:w,password:b,options:{data:{first_name:j,last_name:N,tenant_id:k.id,company_name:C,role:"admin"}}});if(M)return await G.from("tenants").delete().eq("id",k.id),{error:M};if(R.user){const{error:O}=await G.from("profiles").insert({id:R.user.id,tenant_id:k.id,email:w,first_name:j,last_name:N,role:"admin",is_active:!0});O&&O.code!=="23505"&&console.error("Profile creation error:",O)}return{error:null}}catch(_){return{error:_}}},signOut:async()=>{await G.auth.signOut()}};return o.jsx(uS.Provider,{value:x,children:e})},m$=({sidebarOpen:e,setSidebarOpen:t})=>{const{profile:n,tenant:r}=si(),s=[{href:"/",label:"Dashboard",icon:lA},{href:"/printers",label:"Printers",icon:xa},{href:"/worklist",label:"Worklist",icon:Op},{href:"/queue",label:"Print Queue",icon:Lf},{href:"/products",label:"Products",icon:Ff},{href:"/material-inventory",label:"Materials",icon:aA},{href:"/inventory",label:"Finished Goods",icon:at},{href:"/orders",label:"Orders",icon:Fv},{href:"/analytics",label:"Analytics",icon:JM},{href:"/store",label:"Store",icon:xA},{href:"/settings",label:"Settings",icon:P_}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:Y("fixed inset-0 bg-black/60 z-30 sm:hidden",e?"block":"hidden"),onClick:()=>t(!1)}),o.jsxs("aside",{className:Y("fixed inset-y-0 left-0 z-40 flex w-64 flex-col border-r bg-card transition-transform duration-300 ease-in-out sm:relative sm:translate-x-0",e?"translate-x-0":"-translate-x-full"),children:[o.jsxs("div",{className:"flex h-14 items-center justify-between border-b px-4 lg:h-[60px] lg:px-6",children:[o.jsxs(mw,{to:"/",className:"flex items-center gap-2 whitespace-nowrap font-semibold text-foreground",children:[o.jsx(YM,{className:"h-6 w-6 text-primary"}),o.jsx("span",{children:(r==null?void 0:r.company_name)||"PrintFarm OS"})]}),o.jsx(L,{variant:"ghost",size:"icon",className:"sm:hidden",onClick:()=>t(!1),children:o.jsx(no,{className:"h-5 w-5"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:o.jsx("nav",{className:"flex flex-col gap-1 p-2",children:s.map(({href:i,label:a,icon:l})=>o.jsxs(mw,{to:i,end:!0,className:({isActive:c})=>Y("flex items-center gap-3 rounded-lg px-3 h-10 transition-all",c?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground hover:bg-muted hover:text-primary"),onClick:()=>{window.innerWidth<640&&t(!1)},children:[o.jsx(l,{className:"h-5 w-5 shrink-0"}),o.jsx("span",{className:"font-medium whitespace-nowrap",children:a})]},a))})})]})]})};var p$=m.createContext(void 0);function za(e){const t=m.useContext(p$);return e||t||"ltr"}var pm=0;function nh(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ow()),document.body.insertAdjacentElement("beforeend",e[1]??Ow()),pm++,()=>{pm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),pm--}},[])}function Ow(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gm="focusScope.autoFocusOnMount",vm="focusScope.autoFocusOnUnmount",Iw={bubbles:!1,cancelable:!0},g$="FocusScope",Bc=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=m.useState(null),u=Ke(s),d=Ke(i),f=m.useRef(null),h=ye(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:_s(f.current,{select:!0})},v=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||_s(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&_s(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,l,p.paused]),m.useEffect(()=>{if(l){Fw.add(p);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(gm,Iw);l.addEventListener(gm,u),l.dispatchEvent(x),x.defaultPrevented||(v$(j$(dS(l)),{select:!0}),document.activeElement===g&&_s(l))}return()=>{l.removeEventListener(gm,u),setTimeout(()=>{const x=new CustomEvent(vm,Iw);l.addEventListener(vm,d),l.dispatchEvent(x),x.defaultPrevented||_s(g??document.body,{select:!0}),l.removeEventListener(vm,d),Fw.remove(p)},0)}}},[l,u,d,p]);const y=m.useCallback(g=>{if(!n&&!r||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const w=g.currentTarget,[b,j]=x$(w);b&&j?!g.shiftKey&&x===j?(g.preventDefault(),n&&_s(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),n&&_s(j,{select:!0})):x===w&&g.preventDefault()}},[n,r,p.paused]);return o.jsx(ae.div,{tabIndex:-1,...a,ref:h,onKeyDown:y})});Bc.displayName=g$;function v$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(_s(r,{select:t}),document.activeElement!==n)return}function x$(e){const t=dS(e),n=Dw(t,e),r=Dw(t.reverse(),e);return[n,r]}function dS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Dw(e,t){for(const n of e)if(!y$(n,{upTo:t}))return n}function y$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w$(e){return e instanceof HTMLInputElement&&"select"in e}function _s(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&w$(e)&&t&&e.select()}}var Fw=b$();function b$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Lw(e,t),e.unshift(t)},remove(t){var n;e=Lw(e,t),(n=e[0])==null||n.resume()}}}function Lw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function j$(e){return e.filter(t=>t.tagName!=="A")}function _$(e,t=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][c])||l,v=m.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,y=m.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,N$(s,...t)]}function N$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var xm="rovingFocusGroup.onEntryFocus",S$={bubbles:!1,cancelable:!0},rh="RovingFocusGroup",[pg,fS,C$]=Tf(rh),[k$,Ba]=_$(rh,[C$]),[E$,P$]=k$(rh),hS=m.forwardRef((e,t)=>o.jsx(pg.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(pg.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(T$,{...e,ref:t})})}));hS.displayName=rh;var T$=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=ye(t,h),y=za(i),[g=null,v]=zn({prop:a,defaultProp:l,onChange:c}),[x,w]=m.useState(!1),b=Ke(u),j=fS(n),N=m.useRef(!1),[C,_]=m.useState(0);return m.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(xm,b),()=>k.removeEventListener(xm,b)},[b]),o.jsx(E$,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(k=>v(k),[v]),onItemShiftTab:m.useCallback(()=>w(!0),[]),onFocusableItemAdd:m.useCallback(()=>_(k=>k+1),[]),onFocusableItemRemove:m.useCallback(()=>_(k=>k-1),[]),children:o.jsx(ae.div,{tabIndex:x||C===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:K(e.onMouseDown,()=>{N.current=!0}),onFocus:K(e.onFocus,k=>{const E=!N.current;if(k.target===k.currentTarget&&E&&!x){const R=new CustomEvent(xm,S$);if(k.currentTarget.dispatchEvent(R),!R.defaultPrevented){const M=j().filter(U=>U.focusable),O=M.find(U=>U.active),A=M.find(U=>U.id===g),W=[O,A,...M].filter(Boolean).map(U=>U.ref.current);gS(W,d)}}N.current=!1}),onBlur:K(e.onBlur,()=>w(!1))})})}),mS="RovingFocusGroupItem",pS=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=e,l=ir(),c=i||l,u=P$(mS,n),d=u.currentTabStopId===c,f=fS(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),o.jsx(pg.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(ae.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:K(e.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:K(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:K(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=A$(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const w=x.indexOf(y.currentTarget);x=u.loop?O$(x,w+1):x.slice(w+1)}setTimeout(()=>gS(x))}})})})});pS.displayName=mS;var R$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function A$(e,t,n){const r=M$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return R$[r]}function gS(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function O$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var dx=hS,fx=pS,I$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xi=new WeakMap,Ou=new WeakMap,Iu={},ym=0,vS=function(e){return e&&(e.host||vS(e.parentNode))},D$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=vS(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},F$=function(e,t,n,r){var s=D$(t,Array.isArray(e)?e:[e]);Iu[n]||(Iu[n]=new WeakMap);var i=Iu[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(r),y=p!==null&&p!=="false",g=(xi.get(h)||0)+1,v=(i.get(h)||0)+1;xi.set(h,g),i.set(h,v),a.push(h),g===1&&y&&Ou.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),ym++,function(){a.forEach(function(f){var h=xi.get(f)-1,p=i.get(f)-1;xi.set(f,h),i.set(f,p),h||(Ou.has(f)||f.removeAttribute(r),Ou.delete(f)),p||f.removeAttribute(n)}),ym--,ym||(xi=new WeakMap,xi=new WeakMap,Ou=new WeakMap,Iu={})}},sh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=I$(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),F$(r,s,n,"aria-hidden")):function(){return null}},Rr=function(){return Rr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rr.apply(this,arguments)};function xS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function L$(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var od="right-scroll-bar-position",id="width-before-scroll-bar",$$="with-scroll-bars-hidden",U$="--removed-body-scroll-bar-size";function wm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function z$(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var B$=typeof window<"u"?m.useLayoutEffect:m.useEffect,$w=new WeakMap;function W$(e,t){var n=z$(null,function(r){return e.forEach(function(s){return wm(s,r)})});return B$(function(){var r=$w.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(l){i.has(l)||wm(l,null)}),i.forEach(function(l){s.has(l)||wm(l,a)})}$w.set(n,e)},[e]),n}function H$(e){return e}function V$(e,t){t===void 0&&(t=H$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function q$(e){e===void 0&&(e={});var t=V$(null);return t.options=Rr({async:!0,ssr:!1},e),t}var yS=function(e){var t=e.sideCar,n=xS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Rr({},n))};yS.isSideCarExport=!0;function K$(e,t){return e.useMedium(t),yS}var wS=q$(),bm=function(){},oh=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:bm,onWheelCapture:bm,onTouchMoveCapture:bm}),s=r[0],i=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,y=e.inert,g=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,b=xS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=W$([n,t]),C=Rr(Rr({},b),s);return m.createElement(m.Fragment,null,d&&m.createElement(j,{sideCar:wS,removeScrollBar:u,shards:f,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:w}),a?m.cloneElement(m.Children.only(l),Rr(Rr({},C),{ref:N})):m.createElement(x,Rr({},C,{className:c,ref:N}),l))});oh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oh.classNames={fullWidth:id,zeroRight:od};var G$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Y$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=G$();return t&&e.setAttribute("nonce",t),e}function Q$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function J$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var X$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Y$())&&(Q$(t,n),J$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Z$=function(){var e=X$();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},bS=function(){var e=Z$(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},e3={left:0,top:0,right:0,gap:0},jm=function(e){return parseInt(e||"",10)||0},t3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[jm(n),jm(r),jm(s)]},n3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return e3;var t=t3(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},r3=bS(),qi="data-scroll-locked",s3=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat($$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(qi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(od,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(id,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(od," .").concat(od,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(id," .").concat(id,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qi,`] {
    `).concat(U$,": ").concat(l,`px;
  }
`)},Uw=function(){var e=parseInt(document.body.getAttribute(qi)||"0",10);return isFinite(e)?e:0},o3=function(){m.useEffect(function(){return document.body.setAttribute(qi,(Uw()+1).toString()),function(){var e=Uw()-1;e<=0?document.body.removeAttribute(qi):document.body.setAttribute(qi,e.toString())}},[])},i3=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;o3();var i=m.useMemo(function(){return n3(s)},[s]);return m.createElement(r3,{styles:s3(i,!t,s,n?"":"!important")})},gg=!1;if(typeof window<"u")try{var Du=Object.defineProperty({},"passive",{get:function(){return gg=!0,!0}});window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{gg=!1}var yi=gg?{passive:!1}:!1,a3=function(e){return e.tagName==="TEXTAREA"},jS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!a3(e)&&n[t]==="visible")},l3=function(e){return jS(e,"overflowY")},c3=function(e){return jS(e,"overflowX")},zw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=_S(e,r);if(s){var i=NS(e,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},u3=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},d3=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},_S=function(e,t){return e==="v"?l3(t):c3(t)},NS=function(e,t){return e==="v"?u3(t):d3(t)},f3=function(e,t){return e==="h"&&t==="rtl"?-1:1},h3=function(e,t,n,r,s){var i=f3(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,c=t.contains(l),u=!1,d=a>0,f=0,h=0;do{var p=NS(e,l),y=p[0],g=p[1],v=p[2],x=g-v-i*y;(y||x)&&_S(e,l)&&(f+=x,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Fu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bw=function(e){return[e.deltaX,e.deltaY]},Ww=function(e){return e&&"current"in e?e.current:e},m3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},p3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},g3=0,wi=[];function v3(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(g3++)[0],i=m.useState(bS)[0],a=m.useRef(e);m.useEffect(function(){a.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=L$([e.lockRef.current],(e.shards||[]).map(Ww),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var x=Fu(g),w=n.current,b="deltaX"in g?g.deltaX:w[0]-x[0],j="deltaY"in g?g.deltaY:w[1]-x[1],N,C=g.target,_=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&_==="h"&&C.type==="range")return!1;var k=zw(_,C);if(!k)return!0;if(k?N=_:(N=_==="v"?"h":"v",k=zw(_,C)),!k)return!1;if(!r.current&&"changedTouches"in g&&(b||j)&&(r.current=N),!N)return!0;var E=r.current||N;return h3(E,v,g,E==="h"?b:j,!0)},[]),c=m.useCallback(function(g){var v=g;if(!(!wi.length||wi[wi.length-1]!==i)){var x="deltaY"in v?Bw(v):Fu(v),w=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&m3(N.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(a.current.shards||[]).map(Ww).filter(Boolean).filter(function(N){return N.contains(v.target)}),j=b.length>0?l(v,b[0]):!a.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=m.useCallback(function(g,v,x,w){var b={name:g,delta:v,target:x,should:w,shadowParent:x3(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=m.useCallback(function(g){n.current=Fu(g),r.current=void 0},[]),f=m.useCallback(function(g){u(g.type,Bw(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,Fu(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return wi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,yi),document.addEventListener("touchmove",c,yi),document.addEventListener("touchstart",d,yi),function(){wi=wi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,yi),document.removeEventListener("touchmove",c,yi),document.removeEventListener("touchstart",d,yi)}},[]);var p=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(i,{styles:p3(s)}):null,p?m.createElement(i3,{gapMode:e.gapMode}):null)}function x3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const y3=K$(wS,v3);var Wc=m.forwardRef(function(e,t){return m.createElement(oh,Rr({},e,{ref:t,sideCar:y3}))});Wc.classNames=oh.classNames;var vg=["Enter"," "],w3=["ArrowDown","PageUp","Home"],SS=["ArrowUp","PageDown","End"],b3=[...w3,...SS],j3={ltr:[...vg,"ArrowRight"],rtl:[...vg,"ArrowLeft"]},_3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hc="Menu",[xc,N3,S3]=Tf(Hc),[oi,CS]=Hn(Hc,[S3,uo,Ba]),ih=uo(),kS=Ba(),[C3,ii]=oi(Hc),[k3,Vc]=oi(Hc),ES=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=e,l=ih(t),[c,u]=m.useState(null),d=m.useRef(!1),f=Ke(i),h=za(s);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(Jv,{...l,children:o.jsx(C3,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(k3,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:r})})})};ES.displayName=Hc;var E3="MenuAnchor",hx=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=ih(n);return o.jsx($c,{...s,...r,ref:t})});hx.displayName=E3;var mx="MenuPortal",[P3,PS]=oi(mx,{forceMount:void 0}),TS=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=ii(mx,t);return o.jsx(P3,{scope:t,forceMount:n,children:o.jsx(Rt,{present:n||i.open,children:o.jsx(Pa,{asChild:!0,container:s,children:r})})})};TS.displayName=mx;var Fn="MenuContent",[T3,px]=oi(Fn),RS=m.forwardRef((e,t)=>{const n=PS(Fn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=ii(Fn,e.__scopeMenu),a=Vc(Fn,e.__scopeMenu);return o.jsx(xc.Provider,{scope:e.__scopeMenu,children:o.jsx(Rt,{present:r||i.open,children:o.jsx(xc.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(R3,{...s,ref:t}):o.jsx(M3,{...s,ref:t})})})})}),R3=m.forwardRef((e,t)=>{const n=ii(Fn,e.__scopeMenu),r=m.useRef(null),s=ye(t,r);return m.useEffect(()=>{const i=r.current;if(i)return sh(i)},[]),o.jsx(gx,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:K(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),M3=m.forwardRef((e,t)=>{const n=ii(Fn,e.__scopeMenu);return o.jsx(gx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),gx=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...g}=e,v=ii(Fn,n),x=Vc(Fn,n),w=ih(n),b=kS(n),j=N3(n),[N,C]=m.useState(null),_=m.useRef(null),k=ye(t,_,v.onContentChange),E=m.useRef(0),R=m.useRef(""),M=m.useRef(0),O=m.useRef(null),A=m.useRef("right"),I=m.useRef(0),W=y?Wc:m.Fragment,U=y?{as:is,allowPinchZoom:!0}:void 0,D=T=>{var $,Z;const z=R.current+T,B=j().filter(me=>!me.disabled),H=document.activeElement,V=($=B.find(me=>me.ref.current===H))==null?void 0:$.textValue,J=B.map(me=>me.textValue),ve=H3(J,z,V),X=(Z=B.find(me=>me.textValue===ve))==null?void 0:Z.ref.current;(function me(oe){R.current=oe,window.clearTimeout(E.current),oe!==""&&(E.current=window.setTimeout(()=>me(""),1e3))})(z),X&&setTimeout(()=>X.focus())};m.useEffect(()=>()=>window.clearTimeout(E.current),[]),nh();const S=m.useCallback(T=>{var B,H;return A.current===((B=O.current)==null?void 0:B.side)&&q3(T,(H=O.current)==null?void 0:H.area)},[]);return o.jsx(T3,{scope:n,searchRef:R,onItemEnter:m.useCallback(T=>{S(T)&&T.preventDefault()},[S]),onItemLeave:m.useCallback(T=>{var z;S(T)||((z=_.current)==null||z.focus(),C(null))},[S]),onTriggerLeave:m.useCallback(T=>{S(T)&&T.preventDefault()},[S]),pointerGraceTimerRef:M,onPointerGraceIntentChange:m.useCallback(T=>{O.current=T},[]),children:o.jsx(W,{...U,children:o.jsx(Bc,{asChild:!0,trapped:s,onMountAutoFocus:K(i,T=>{var z;T.preventDefault(),(z=_.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(ti,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:o.jsx(dx,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:C,onEntryFocus:K(c,T=>{x.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Bf,{role:"menu","aria-orientation":"vertical","data-state":KS(v.open),"data-radix-menu-content":"",dir:x.dir,...w,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:K(g.onKeyDown,T=>{const B=T.target.closest("[data-radix-menu-content]")===T.currentTarget,H=T.ctrlKey||T.altKey||T.metaKey,V=T.key.length===1;B&&(T.key==="Tab"&&T.preventDefault(),!H&&V&&D(T.key));const J=_.current;if(T.target!==J||!b3.includes(T.key))return;T.preventDefault();const X=j().filter($=>!$.disabled).map($=>$.ref.current);SS.includes(T.key)&&X.reverse(),B3(X)}),onBlur:K(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(E.current),R.current="")}),onPointerMove:K(e.onPointerMove,yc(T=>{const z=T.target,B=I.current!==T.clientX;if(T.currentTarget.contains(z)&&B){const H=T.clientX>I.current?"right":"left";A.current=H,I.current=T.clientX}}))})})})})})})});RS.displayName=Fn;var A3="MenuGroup",vx=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ae.div,{role:"group",...r,ref:t})});vx.displayName=A3;var O3="MenuLabel",MS=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ae.div,{...r,ref:t})});MS.displayName=O3;var Qd="MenuItem",Hw="menu.itemSelect",ah=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=m.useRef(null),a=Vc(Qd,e.__scopeMenu),l=px(Qd,e.__scopeMenu),c=ye(t,i),u=m.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(Hw,{bubbles:!0,cancelable:!0});f.addEventListener(Hw,p=>r==null?void 0:r(p),{once:!0}),Rv(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(AS,{...s,ref:c,disabled:n,onClick:K(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:K(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:K(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||vg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ah.displayName=Qd;var AS=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,a=px(Qd,n),l=kS(n),c=m.useRef(null),u=ye(t,c),[d,f]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),o.jsx(xc.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:o.jsx(fx,{asChild:!0,...l,focusable:!r,children:o.jsx(ae.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:K(e.onPointerMove,yc(y=>{r?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:K(e.onPointerLeave,yc(y=>a.onItemLeave(y))),onFocus:K(e.onFocus,()=>f(!0)),onBlur:K(e.onBlur,()=>f(!1))})})})}),I3="MenuCheckboxItem",OS=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return o.jsx($S,{scope:e.__scopeMenu,checked:n,children:o.jsx(ah,{role:"menuitemcheckbox","aria-checked":Jd(n)?"mixed":n,...s,ref:t,"data-state":yx(n),onSelect:K(s.onSelect,()=>r==null?void 0:r(Jd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});OS.displayName=I3;var IS="MenuRadioGroup",[D3,F3]=oi(IS,{value:void 0,onValueChange:()=>{}}),DS=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=Ke(r);return o.jsx(D3,{scope:e.__scopeMenu,value:n,onValueChange:i,children:o.jsx(vx,{...s,ref:t})})});DS.displayName=IS;var FS="MenuRadioItem",LS=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=F3(FS,e.__scopeMenu),i=n===s.value;return o.jsx($S,{scope:e.__scopeMenu,checked:i,children:o.jsx(ah,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":yx(i),onSelect:K(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});LS.displayName=FS;var xx="MenuItemIndicator",[$S,L3]=oi(xx,{checked:!1}),US=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=L3(xx,n);return o.jsx(Rt,{present:r||Jd(i.checked)||i.checked===!0,children:o.jsx(ae.span,{...s,ref:t,"data-state":yx(i.checked)})})});US.displayName=xx;var $3="MenuSeparator",zS=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});zS.displayName=$3;var U3="MenuArrow",BS=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=ih(n);return o.jsx(Wf,{...s,...r,ref:t})});BS.displayName=U3;var z3="MenuSub",[_H,WS]=oi(z3),kl="MenuSubTrigger",HS=m.forwardRef((e,t)=>{const n=ii(kl,e.__scopeMenu),r=Vc(kl,e.__scopeMenu),s=WS(kl,e.__scopeMenu),i=px(kl,e.__scopeMenu),a=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(hx,{asChild:!0,...u,children:o.jsx(AS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":KS(n.open),...e,ref:Pf(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:K(e.onPointerMove,yc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:K(e.onPointerLeave,yc(f=>{var p,y;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(y=n.content)==null?void 0:y.dataset.side,v=g==="right",x=v?-5:5,w=h[v?"left":"right"],b=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:K(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||j3[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});HS.displayName=kl;var VS="MenuSubContent",qS=m.forwardRef((e,t)=>{const n=PS(Fn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=ii(Fn,e.__scopeMenu),a=Vc(Fn,e.__scopeMenu),l=WS(VS,e.__scopeMenu),c=m.useRef(null),u=ye(t,c);return o.jsx(xc.Provider,{scope:e.__scopeMenu,children:o.jsx(Rt,{present:r||i.open,children:o.jsx(xc.Slot,{scope:e.__scopeMenu,children:o.jsx(gx,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:K(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:K(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:K(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=_3[a.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});qS.displayName=VS;function KS(e){return e?"open":"closed"}function Jd(e){return e==="indeterminate"}function yx(e){return Jd(e)?"indeterminate":e?"checked":"unchecked"}function B3(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function W3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function H3(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=W3(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function V3(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function q3(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return V3(n,t)}function yc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var K3=ES,G3=hx,Y3=TS,Q3=RS,J3=vx,X3=MS,Z3=ah,e5=OS,t5=DS,n5=LS,r5=US,s5=zS,o5=BS,i5=HS,a5=qS,wx="DropdownMenu",[l5,NH]=Hn(wx,[CS]),Xt=CS(),[c5,GS]=l5(wx),YS=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,c=Xt(t),u=m.useRef(null),[d=!1,f]=zn({prop:s,defaultProp:i,onChange:a});return o.jsx(c5,{scope:t,triggerId:ir(),triggerRef:u,contentId:ir(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(K3,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};YS.displayName=wx;var QS="DropdownMenuTrigger",JS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=GS(QS,n),a=Xt(n);return o.jsx(G3,{asChild:!0,...a,children:o.jsx(ae.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Pf(t,i.triggerRef),onPointerDown:K(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:K(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});JS.displayName=QS;var u5="DropdownMenuPortal",XS=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Xt(t);return o.jsx(Y3,{...r,...n})};XS.displayName=u5;var ZS="DropdownMenuContent",eC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=GS(ZS,n),i=Xt(n),a=m.useRef(!1);return o.jsx(Q3,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:K(e.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:K(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eC.displayName=ZS;var d5="DropdownMenuGroup",f5=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(J3,{...s,...r,ref:t})});f5.displayName=d5;var h5="DropdownMenuLabel",tC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(X3,{...s,...r,ref:t})});tC.displayName=h5;var m5="DropdownMenuItem",nC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(Z3,{...s,...r,ref:t})});nC.displayName=m5;var p5="DropdownMenuCheckboxItem",rC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(e5,{...s,...r,ref:t})});rC.displayName=p5;var g5="DropdownMenuRadioGroup",v5=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(t5,{...s,...r,ref:t})});v5.displayName=g5;var x5="DropdownMenuRadioItem",sC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(n5,{...s,...r,ref:t})});sC.displayName=x5;var y5="DropdownMenuItemIndicator",oC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(r5,{...s,...r,ref:t})});oC.displayName=y5;var w5="DropdownMenuSeparator",iC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(s5,{...s,...r,ref:t})});iC.displayName=w5;var b5="DropdownMenuArrow",j5=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(o5,{...s,...r,ref:t})});j5.displayName=b5;var _5="DropdownMenuSubTrigger",aC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(i5,{...s,...r,ref:t})});aC.displayName=_5;var N5="DropdownMenuSubContent",lC=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Xt(n);return o.jsx(a5,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lC.displayName=N5;var S5=YS,C5=JS,k5=XS,cC=eC,uC=tC,dC=nC,fC=rC,hC=sC,mC=oC,pC=iC,gC=aC,vC=lC;const dr=S5,fr=C5,E5=m.forwardRef(({className:e,inset:t,children:n,...r},s)=>o.jsxs(gC,{ref:s,className:Y("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,o.jsx(Of,{className:"ml-auto h-4 w-4"})]}));E5.displayName=gC.displayName;const P5=m.forwardRef(({className:e,...t},n)=>o.jsx(vC,{ref:n,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));P5.displayName=vC.displayName;const Bn=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(k5,{children:o.jsx(cC,{ref:r,sideOffset:t,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Bn.displayName=cC.displayName;const Ge=m.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(dC,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Ge.displayName=dC.displayName;const T5=m.forwardRef(({className:e,children:t,checked:n,...r},s)=>o.jsxs(fC,{ref:s,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(mC,{children:o.jsx(uc,{className:"h-4 w-4"})})}),t]}));T5.displayName=fC.displayName;const R5=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(hC,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(mC,{children:o.jsx(tA,{className:"h-2 w-2 fill-current"})})}),t]}));R5.displayName=hC.displayName;const fs=m.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(uC,{ref:r,className:Y("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));fs.displayName=uC.displayName;const xg=m.forwardRef(({className:e,...t},n)=>o.jsx(pC,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));xg.displayName=pC.displayName;function M5(){const{setTheme:e}=Bv();return o.jsxs(dr,{children:[o.jsx(fr,{asChild:!0,children:o.jsxs(L,{variant:"outline",size:"icon",className:"h-9 w-9",children:[o.jsx($0,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(F0,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),o.jsxs(Bn,{align:"end",children:[o.jsxs(Ge,{onClick:()=>e("light"),children:[o.jsx($0,{className:"mr-2 h-4 w-4"}),"Light"]}),o.jsxs(Ge,{onClick:()=>e("dark"),children:[o.jsx(F0,{className:"mr-2 h-4 w-4"}),"Dark"]}),o.jsxs(Ge,{onClick:()=>e("system"),children:[o.jsx(hA,{className:"mr-2 h-4 w-4"}),"System"]})]})]})}var bx="Avatar",[A5,SH]=Hn(bx),[O5,xC]=A5(bx),yC=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=m.useState("idle");return o.jsx(O5,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(ae.span,{...r,ref:t})})});yC.displayName=bx;var wC="AvatarImage",bC=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,a=xC(wC,n),l=I5(r,i.referrerPolicy),c=Ke(u=>{s(u),a.onImageLoadingStatusChange(u)});return pt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ae.img,{...i,ref:t,src:r}):null});bC.displayName=wC;var jC="AvatarFallback",_C=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=xC(jC,n),[a,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(ae.span,{...s,ref:t}):null});_C.displayName=jC;function I5(e,t){const[n,r]=m.useState("idle");return pt(()=>{if(!e){r("error");return}let s=!0;const i=new window.Image,a=l=>()=>{s&&r(l)};return r("loading"),i.onload=a("loaded"),i.onerror=a("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var NC=yC,SC=bC,CC=_C;const kC=m.forwardRef(({className:e,...t},n)=>o.jsx(NC,{ref:n,className:Y("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));kC.displayName=NC.displayName;const D5=m.forwardRef(({className:e,...t},n)=>o.jsx(SC,{ref:n,className:Y("aspect-square h-full w-full",e),...t}));D5.displayName=SC.displayName;const EC=m.forwardRef(({className:e,...t},n)=>o.jsx(CC,{ref:n,className:Y("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));EC.displayName=CC.displayName;const F5=({setSidebarOpen:e})=>{var a,l;const{tenant:t,profile:n,signOut:r}=si(),s=async()=>{await r()},i=n!=null&&n.first_name||n!=null&&n.last_name?`${((a=n.first_name)==null?void 0:a[0])||""}${((l=n.last_name)==null?void 0:l[0])||""}`.toUpperCase().slice(0,2):"U";return o.jsxs("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-card px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6 py-2",children:[o.jsxs(L,{variant:"outline",size:"icon",className:"sm:hidden",onClick:()=>e(!0),children:[o.jsx(fA,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Toggle Menu"})]}),o.jsx("div",{className:"ml-auto flex-1 md:grow-0",children:o.jsxs("h2",{className:"font-medium text-foreground whitespace-nowrap text-base text-center",children:["Howdy, ",(n==null?void 0:n.first_name)||"there"]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(M5,{}),o.jsxs(dr,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full h-9 w-9",children:o.jsx(kC,{className:"h-8 w-8",children:o.jsx(EC,{className:"text-xs",children:i})})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsxs("p",{className:"text-sm font-medium leading-none",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(t==null?void 0:t.company_name)||"Demo Mode"})]})}),o.jsx(xg,{}),o.jsxs(Ge,{children:[o.jsx(Dd,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsx(xg,{}),o.jsxs(Ge,{onClick:s,className:"text-red-600",children:[o.jsx(uA,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Logout"})]})]})]})]})]})},L5=()=>{console.log("Layout component rendering");const[e,t]=m.useState(!1);return o.jsxs("div",{className:"min-h-screen w-full bg-background text-foreground flex",children:[o.jsx(m$,{sidebarOpen:e,setSidebarOpen:t}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx(F5,{setSidebarOpen:t}),o.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto",children:o.jsx(TD,{})})]})]})};function $5(e,t=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][c])||l,v=m.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,y=m.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,U5(s,...t)]}function U5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var jx="Progress",_x=100,[z5,CH]=$5(jx),[B5,W5]=z5(jx),PC=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=H5,...a}=e;(s||s===0)&&!Vw(s)&&console.error(V5(`${s}`,"Progress"));const l=Vw(s)?s:_x;r!==null&&!qw(r,l)&&console.error(q5(`${r}`,"Progress"));const c=qw(r,l)?r:null,u=Xd(c)?i(c,l):void 0;return o.jsx(B5,{scope:n,value:c,max:l,children:o.jsx(ae.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Xd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":MC(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});PC.displayName=jx;var TC="ProgressIndicator",RC=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=W5(TC,n);return o.jsx(ae.div,{"data-state":MC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});RC.displayName=TC;function H5(e,t){return`${Math.round(e/t*100)}%`}function MC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Xd(e){return typeof e=="number"}function Vw(e){return Xd(e)&&!isNaN(e)&&e>0}function qw(e,t){return Xd(e)&&!isNaN(e)&&e<=t&&e>=0}function V5(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_x}\`.`}function q5(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_x} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var AC=PC,K5=RC;const Wa=m.forwardRef(({className:e,value:t,...n},r)=>o.jsx(AC,{ref:r,className:Y("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:o.jsx(K5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Wa.displayName=AC.displayName;const G5=(e,t={})=>{const[n,r]=m.useState([]),[s,i]=m.useState(!1),[a,l]=m.useState(!1),c=m.useRef(null),u=m.useRef(null),d=m.useRef(0),{toast:f}=ke(),{reconnectInterval:h=5e3,maxReconnectAttempts:p=5}=t,y=m.useCallback(()=>{var v;if(((v=c.current)==null?void 0:v.readyState)!==WebSocket.OPEN)try{const x=e.replace(/^http/,"ws");c.current=new WebSocket(x),c.current.onopen=()=>{console.log("WebSocket connected"),i(!0),l(!1),d.current=0,d.current>0&&f({title:"Connected",description:"Live data connection restored."})},c.current.onmessage=w=>{try{const b=JSON.parse(w.data);if(b.type==="live_status"&&b.data){const j=Array.isArray(b.data)?b.data:[b.data];r(j)}else b.type==="error"?console.error("WebSocket error message:",b.message):console.log("Unknown WebSocket message type:",b)}catch(b){console.error("Failed to parse WebSocket data:",b)}},c.current.onclose=()=>{console.log("WebSocket disconnected"),i(!1),d.current<p?(l(!0),u.current=setTimeout(()=>{d.current+=1,y()},h)):f({title:"Connection Lost",description:"Unable to reconnect to live data stream.",variant:"destructive"})},c.current.onerror=w=>{console.error("WebSocket error:",w)}}catch(x){console.error("Failed to create WebSocket connection:",x),f({title:"Connection Error",description:"Failed to connect to live data stream.",variant:"destructive"})}},[e,h,p,f]),g=m.useCallback(()=>{u.current&&(clearTimeout(u.current),u.current=null),c.current&&(c.current.close(),c.current=null),i(!1),l(!1)},[]);return m.useEffect(()=>(y(),g),[y,g]),{data:n,isConnected:s,isReconnecting:a,connect:y,disconnect:g}},Nx=e=>{const r=`${(()=>{if(typeof window<"u"){const s=window.location.protocol==="https:"?"wss:":"ws:",i=window.location.hostname,a=window.location.port||(window.location.protocol==="https:"?"443":"80");return`${s}//${i}:8080`}return"ws://localhost:8080"})()}/api/v1/ws/live-status-all`;return G5(r,{reconnectInterval:3e3,maxReconnectAttempts:10})};var Sx="Dialog",[OC,IC]=Hn(Sx),[Y5,yr]=OC(Sx),DC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=zn({prop:r,defaultProp:s,onChange:i});return o.jsx(Y5,{scope:t,triggerRef:l,contentRef:c,contentId:ir(),titleId:ir(),descriptionId:ir(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};DC.displayName=Sx;var FC="DialogTrigger",LC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(FC,n),i=ye(t,s.triggerRef);return o.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ex(s.open),...r,ref:i,onClick:K(e.onClick,s.onOpenToggle)})});LC.displayName=FC;var Cx="DialogPortal",[Q5,$C]=OC(Cx,{forceMount:void 0}),UC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=yr(Cx,t);return o.jsx(Q5,{scope:t,forceMount:n,children:m.Children.map(r,a=>o.jsx(Rt,{present:n||i.open,children:o.jsx(Pa,{asChild:!0,container:s,children:a})}))})};UC.displayName=Cx;var Zd="DialogOverlay",zC=m.forwardRef((e,t)=>{const n=$C(Zd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=yr(Zd,e.__scopeDialog);return i.modal?o.jsx(Rt,{present:r||i.open,children:o.jsx(J5,{...s,ref:t})}):null});zC.displayName=Zd;var J5=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(Zd,n);return o.jsx(Wc,{as:is,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ae.div,{"data-state":Ex(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Yo="DialogContent",BC=m.forwardRef((e,t)=>{const n=$C(Yo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=yr(Yo,e.__scopeDialog);return o.jsx(Rt,{present:r||i.open,children:i.modal?o.jsx(X5,{...s,ref:t}):o.jsx(Z5,{...s,ref:t})})});BC.displayName=Yo;var X5=m.forwardRef((e,t)=>{const n=yr(Yo,e.__scopeDialog),r=m.useRef(null),s=ye(t,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return sh(i)},[]),o.jsx(WC,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:K(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:K(e.onFocusOutside,i=>i.preventDefault())})}),Z5=m.forwardRef((e,t)=>{const n=yr(Yo,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(WC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),WC=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=yr(Yo,n),c=m.useRef(null),u=ye(t,c);return nh(),o.jsxs(o.Fragment,{children:[o.jsx(Bc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(ti,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ex(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(t6,{titleId:l.titleId}),o.jsx(r6,{contentRef:c,descriptionId:l.descriptionId})]})]})}),kx="DialogTitle",HC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(kx,n);return o.jsx(ae.h2,{id:s.titleId,...r,ref:t})});HC.displayName=kx;var VC="DialogDescription",qC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(VC,n);return o.jsx(ae.p,{id:s.descriptionId,...r,ref:t})});qC.displayName=VC;var KC="DialogClose",GC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yr(KC,n);return o.jsx(ae.button,{type:"button",...r,ref:t,onClick:K(e.onClick,()=>s.onOpenChange(!1))})});GC.displayName=KC;function Ex(e){return e?"open":"closed"}var YC="DialogTitleWarning",[e6,QC]=cM(YC,{contentName:Yo,titleName:kx,docsSlug:"dialog"}),t6=({titleId:e})=>{const t=QC(YC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},n6="DialogDescriptionWarning",r6=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QC(n6).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},JC=DC,XC=LC,ZC=UC,Px=zC,Tx=BC,Rx=HC,Mx=qC,Ax=GC;const zt=JC,ek=XC,s6=ZC,tk=m.forwardRef(({className:e,...t},n)=>o.jsx(Px,{ref:n,className:Y("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));tk.displayName=Px.displayName;const Et=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(s6,{children:[o.jsx(tk,{}),o.jsxs(Tx,{ref:r,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(Ax,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(no,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Et.displayName=Tx.displayName;const Pt=({className:e,...t})=>o.jsx("div",{className:Y("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Pt.displayName="DialogHeader";const hr=({className:e,...t})=>o.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hr.displayName="DialogFooter";const Tt=m.forwardRef(({className:e,...t},n)=>o.jsx(Rx,{ref:n,className:Y("text-lg font-semibold leading-none tracking-tight",e),...t}));Tt.displayName=Rx.displayName;const Qo=m.forwardRef(({className:e,...t},n)=>o.jsx(Mx,{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));Qo.displayName=Mx.displayName;const le=m.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:Y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));le.displayName="Input";var o6="Label",nk=m.forwardRef((e,t)=>o.jsx(ae.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nk.displayName=o6;var rk=nk;const i6=ni("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=m.forwardRef(({className:e,...t},n)=>o.jsx(rk,{ref:n,className:Y(i6(),e),...t}));Q.displayName=rk.displayName;function yg(e,[t,n]){return Math.min(n,Math.max(t,e))}function sk(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var a6=[" ","Enter","ArrowUp","ArrowDown"],l6=[" ","Enter"],qc="Select",[lh,ch,c6]=Tf(qc),[Ha,kH]=Hn(qc,[c6,uo]),uh=uo(),[u6,mo]=Ha(qc),[d6,f6]=Ha(qc),ok=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,g=uh(t),[v,x]=m.useState(null),[w,b]=m.useState(null),[j,N]=m.useState(!1),C=za(u),[_=!1,k]=zn({prop:r,defaultProp:s,onChange:i}),[E,R]=zn({prop:a,defaultProp:l,onChange:c}),M=m.useRef(null),O=v?y||!!v.closest("form"):!0,[A,I]=m.useState(new Set),W=Array.from(A).map(U=>U.props.value).join(";");return o.jsx(Jv,{...g,children:o.jsxs(u6,{required:p,scope:t,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:ir(),value:E,onValueChange:R,open:_,onOpenChange:k,dir:C,triggerPointerDownPosRef:M,disabled:h,children:[o.jsx(lh.Provider,{scope:t,children:o.jsx(d6,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(U=>{I(D=>new Set(D).add(U))},[]),onNativeOptionRemove:m.useCallback(U=>{I(D=>{const S=new Set(D);return S.delete(U),S})},[]),children:n})}),O?o.jsxs(Tk,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:U=>R(U.target.value),disabled:h,form:y,children:[E===void 0?o.jsx("option",{value:""}):null,Array.from(A)]},W):null]})})};ok.displayName=qc;var ik="SelectTrigger",ak=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=uh(n),a=mo(ik,n),l=a.disabled||r,c=ye(t,a.onTriggerChange),u=ch(n),d=m.useRef("touch"),[f,h,p]=Rk(g=>{const v=u().filter(b=>!b.disabled),x=v.find(b=>b.value===a.value),w=Mk(v,g,x);w!==void 0&&a.onValueChange(w.value)}),y=g=>{l||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx($c,{asChild:!0,...i,children:o.jsx(ae.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Pk(a.value)?"":void 0,...s,ref:c,onClick:K(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:K(s.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:K(s.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&a6.includes(g.key)&&(y(),g.preventDefault())})})})});ak.displayName=ik;var lk="SelectValue",ck=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=e,c=mo(lk,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=ye(t,c.onValueNodeChange);return pt(()=>{u(d)},[u,d]),o.jsx(ae.span,{...l,ref:f,style:{pointerEvents:"none"},children:Pk(c.value)?o.jsx(o.Fragment,{children:a}):i})});ck.displayName=lk;var h6="SelectIcon",uk=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(ae.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});uk.displayName=h6;var m6="SelectPortal",dk=e=>o.jsx(Pa,{asChild:!0,...e});dk.displayName=m6;var Jo="SelectContent",fk=m.forwardRef((e,t)=>{const n=mo(Jo,e.__scopeSelect),[r,s]=m.useState();if(pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?In.createPortal(o.jsx(hk,{scope:e.__scopeSelect,children:o.jsx(lh.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(mk,{...e,ref:t})});fk.displayName=Jo;var Qn=10,[hk,po]=Ha(Jo),p6="SelectContentImpl",mk=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v,...x}=e,w=mo(Jo,n),[b,j]=m.useState(null),[N,C]=m.useState(null),_=ye(t,$=>j($)),[k,E]=m.useState(null),[R,M]=m.useState(null),O=ch(n),[A,I]=m.useState(!1),W=m.useRef(!1);m.useEffect(()=>{if(b)return sh(b)},[b]),nh();const U=m.useCallback($=>{const[Z,...me]=O().map(ge=>ge.ref.current),[oe]=me.slice(-1),Ne=document.activeElement;for(const ge of $)if(ge===Ne||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===Z&&N&&(N.scrollTop=0),ge===oe&&N&&(N.scrollTop=N.scrollHeight),ge==null||ge.focus(),document.activeElement!==Ne))return},[O,N]),D=m.useCallback(()=>U([k,b]),[U,k,b]);m.useEffect(()=>{A&&D()},[A,D]);const{onOpenChange:S,triggerPointerDownPosRef:T}=w;m.useEffect(()=>{if(b){let $={x:0,y:0};const Z=oe=>{var Ne,ge;$={x:Math.abs(Math.round(oe.pageX)-(((Ne=T.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((ge=T.current)==null?void 0:ge.y)??0))}},me=oe=>{$.x<=10&&$.y<=10?oe.preventDefault():b.contains(oe.target)||S(!1),document.removeEventListener("pointermove",Z),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",me,{capture:!0})}}},[b,S,T]),m.useEffect(()=>{const $=()=>S(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[S]);const[z,B]=Rk($=>{const Z=O().filter(Ne=>!Ne.disabled),me=Z.find(Ne=>Ne.ref.current===document.activeElement),oe=Mk(Z,$,me);oe&&setTimeout(()=>oe.ref.current.focus())}),H=m.useCallback(($,Z,me)=>{const oe=!W.current&&!me;(w.value!==void 0&&w.value===Z||oe)&&(E($),oe&&(W.current=!0))},[w.value]),V=m.useCallback(()=>b==null?void 0:b.focus(),[b]),J=m.useCallback(($,Z,me)=>{const oe=!W.current&&!me;(w.value!==void 0&&w.value===Z||oe)&&M($)},[w.value]),ve=r==="popper"?wg:pk,X=ve===wg?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return o.jsx(hk,{scope:n,content:b,viewport:N,onViewportChange:C,itemRefCallback:H,selectedItem:k,onItemLeave:V,itemTextRefCallback:J,focusSelectedItem:D,selectedItemText:R,position:r,isPositioned:A,searchRef:z,children:o.jsx(Wc,{as:is,allowPinchZoom:!0,children:o.jsx(Bc,{asChild:!0,trapped:w.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:K(s,$=>{var Z;(Z=w.trigger)==null||Z.focus({preventScroll:!0}),$.preventDefault()}),children:o.jsx(ti,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(ve,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:$=>$.preventDefault(),...x,...X,onPlaced:()=>I(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:K(x.onKeyDown,$=>{const Z=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!Z&&$.key.length===1&&B($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let oe=O().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes($.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const Ne=$.target,ge=oe.indexOf(Ne);oe=oe.slice(ge+1)}setTimeout(()=>U(oe)),$.preventDefault()}})})})})})})});mk.displayName=p6;var g6="SelectItemAlignedPosition",pk=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=mo(Jo,n),a=po(Jo,n),[l,c]=m.useState(null),[u,d]=m.useState(null),f=ye(t,_=>d(_)),h=ch(n),p=m.useRef(!1),y=m.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=a,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&v&&x){const _=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=R.left-k.left,ge=E.left-Ne,nt=_.left-ge,Je=_.width+nt,Bt=Math.max(Je,k.width),ct=window.innerWidth-Qn,wr=yg(ge,[Qn,Math.max(Qn,ct-Bt)]);l.style.minWidth=Je+"px",l.style.left=wr+"px"}else{const Ne=k.right-R.right,ge=window.innerWidth-E.right-Ne,nt=window.innerWidth-_.right-ge,Je=_.width+nt,Bt=Math.max(Je,k.width),ct=window.innerWidth-Qn,wr=yg(ge,[Qn,Math.max(Qn,ct-Bt)]);l.style.minWidth=Je+"px",l.style.right=wr+"px"}const M=h(),O=window.innerHeight-Qn*2,A=g.scrollHeight,I=window.getComputedStyle(u),W=parseInt(I.borderTopWidth,10),U=parseInt(I.paddingTop,10),D=parseInt(I.borderBottomWidth,10),S=parseInt(I.paddingBottom,10),T=W+U+A+S+D,z=Math.min(v.offsetHeight*5,T),B=window.getComputedStyle(g),H=parseInt(B.paddingTop,10),V=parseInt(B.paddingBottom,10),J=_.top+_.height/2-Qn,ve=O-J,X=v.offsetHeight/2,$=v.offsetTop+X,Z=W+U+$,me=T-Z;if(Z<=J){const Ne=M.length>0&&v===M[M.length-1].ref.current;l.style.bottom="0px";const ge=u.clientHeight-g.offsetTop-g.offsetHeight,nt=Math.max(ve,X+(Ne?V:0)+ge+D),Je=Z+nt;l.style.height=Je+"px"}else{const Ne=M.length>0&&v===M[0].ref.current;l.style.top="0px";const nt=Math.max(J,W+g.offsetTop+(Ne?H:0)+X)+me;l.style.height=nt+"px",g.scrollTop=Z-J+g.offsetTop}l.style.margin=`${Qn}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,v,x,i.dir,r]);pt(()=>b(),[b]);const[j,N]=m.useState();pt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const C=m.useCallback(_=>{_&&y.current===!0&&(b(),w==null||w(),y.current=!1)},[b,w]);return o.jsx(x6,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(ae.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});pk.displayName=g6;var v6="SelectPopperPosition",wg=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Qn,...i}=e,a=uh(n);return o.jsx(Bf,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wg.displayName=v6;var[x6,Ox]=Ha(Jo,{}),bg="SelectViewport",gk=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=po(bg,n),a=Ox(bg,n),l=ye(t,i.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(lh.Slot,{scope:n,children:o.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:K(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-Qn*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<y){const w=x+p,b=Math.min(y,w),j=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});gk.displayName=bg;var vk="SelectGroup",[y6,w6]=Ha(vk),b6=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ir();return o.jsx(y6,{scope:n,id:s,children:o.jsx(ae.div,{role:"group","aria-labelledby":s,...r,ref:t})})});b6.displayName=vk;var xk="SelectLabel",yk=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=w6(xk,n);return o.jsx(ae.div,{id:s.id,...r,ref:t})});yk.displayName=xk;var ef="SelectItem",[j6,wk]=Ha(ef),bk=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,l=mo(ef,n),c=po(ef,n),u=l.value===r,[d,f]=m.useState(i??""),[h,p]=m.useState(!1),y=ye(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,r,s)}),g=ir(),v=m.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(j6,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(lh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(ae.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:y,onFocus:K(a.onFocus,()=>p(!0)),onBlur:K(a.onBlur,()=>p(!1)),onClick:K(a.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:K(a.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:K(a.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:K(a.onPointerMove,w=>{var b;v.current=w.pointerType,s?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:K(a.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:K(a.onKeyDown,w=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&w.key===" "||(l6.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});bk.displayName=ef;var El="SelectItemText",jk=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=mo(El,n),l=po(El,n),c=wk(El,n),u=f6(El,n),[d,f]=m.useState(null),h=ye(t,x=>f(x),c.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return pt(()=>(g(y),()=>v(y)),[g,v,y]),o.jsxs(o.Fragment,{children:[o.jsx(ae.span,{id:c.textId,...i,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?In.createPortal(i.children,a.valueNode):null]})});jk.displayName=El;var _k="SelectItemIndicator",Nk=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return wk(_k,n).isSelected?o.jsx(ae.span,{"aria-hidden":!0,...r,ref:t}):null});Nk.displayName=_k;var jg="SelectScrollUpButton",Sk=m.forwardRef((e,t)=>{const n=po(jg,e.__scopeSelect),r=Ox(jg,e.__scopeSelect),[s,i]=m.useState(!1),a=ye(t,r.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(kk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Sk.displayName=jg;var _g="SelectScrollDownButton",Ck=m.forwardRef((e,t)=>{const n=po(_g,e.__scopeSelect),r=Ox(_g,e.__scopeSelect),[s,i]=m.useState(!1),a=ye(t,r.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(kk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ck.displayName=_g;var kk=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=po("SelectScrollButton",n),a=m.useRef(null),l=ch(n),c=m.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),pt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ae.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:K(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:K(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:K(s.onPointerLeave,()=>{c()})})}),_6="SelectSeparator",Ek=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(ae.div,{"aria-hidden":!0,...r,ref:t})});Ek.displayName=_6;var Ng="SelectArrow",N6=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=uh(n),i=mo(Ng,n),a=po(Ng,n);return i.open&&a.position==="popper"?o.jsx(Wf,{...s,...r,ref:t}):null});N6.displayName=Ng;function Pk(e){return e===""||e===void 0}var Tk=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=m.useRef(null),i=ye(t,s),a=sk(n);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(f)}},[a,n]),o.jsx(Ic,{asChild:!0,children:o.jsx("select",{...r,ref:i,defaultValue:n})})});Tk.displayName="BubbleSelect";function Rk(e){const t=Ke(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Mk(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=S6(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function S6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var C6=ok,Ak=ak,k6=ck,E6=uk,P6=dk,Ok=fk,T6=gk,Ik=yk,Dk=bk,R6=jk,M6=Nk,Fk=Sk,Lk=Ck,$k=Ek;const Ye=C6,Qe=k6,He=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Ak,{ref:r,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(E6,{asChild:!0,children:o.jsx(Af,{className:"h-4 w-4 opacity-50"})})]}));He.displayName=Ak.displayName;const Uk=m.forwardRef(({className:e,...t},n)=>o.jsx(Fk,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(ZM,{className:"h-4 w-4"})}));Uk.displayName=Fk.displayName;const zk=m.forwardRef(({className:e,...t},n)=>o.jsx(Lk,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Af,{className:"h-4 w-4"})}));zk.displayName=Lk.displayName;const Ve=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(P6,{children:o.jsxs(Ok,{ref:s,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(Uk,{}),o.jsx(T6,{className:Y("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(zk,{})]})}));Ve.displayName=Ok.displayName;const A6=m.forwardRef(({className:e,...t},n)=>o.jsx(Ik,{ref:n,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));A6.displayName=Ik.displayName;const fe=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Dk,{ref:r,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(M6,{children:o.jsx(uc,{className:"h-4 w-4"})})}),o.jsx(R6,{children:t})]}));fe.displayName=Dk.displayName;const O6=m.forwardRef(({className:e,...t},n)=>o.jsx($k,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));O6.displayName=$k.displayName;function I6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const dh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Va(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ix(e){return"nodeType"in e}function Zt(e){var t,n;return e?Va(e)?e:Ix(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Dx(e){const{Document:t}=Zt(e);return e instanceof t}function Kc(e){return Va(e)?!1:e instanceof Zt(e).HTMLElement}function Bk(e){return e instanceof Zt(e).SVGElement}function qa(e){return e?Va(e)?e.document:Ix(e)?Dx(e)?e:Kc(e)||Bk(e)?e.ownerDocument:document:document:document}const mr=dh?m.useLayoutEffect:m.useEffect;function fh(e){const t=m.useRef(e);return mr(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function D6(){const e=m.useRef(null),t=m.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function wc(e,t){t===void 0&&(t=[e]);const n=m.useRef(e);return mr(()=>{n.current!==e&&(n.current=e)},t),n}function Gc(e,t){const n=m.useRef();return m.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function tf(e){const t=fh(e),n=m.useRef(null),r=m.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function nf(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let _m={};function Yc(e,t){return m.useMemo(()=>{if(t)return t;const n=_m[e]==null?0:_m[e]+1;return _m[e]=n,e+"-"+n},[e,t])}function Wk(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,a)=>{const l=Object.entries(a);for(const[c,u]of l){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const Ki=Wk(1),bc=Wk(-1);function F6(e){return"clientX"in e&&"clientY"in e}function hh(e){if(!e)return!1;const{KeyboardEvent:t}=Zt(e.target);return t&&e instanceof t}function L6(e){if(!e)return!1;const{TouchEvent:t}=Zt(e.target);return t&&e instanceof t}function rf(e){if(L6(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return F6(e)?{x:e.clientX,y:e.clientY}:null}const cs=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[cs.Translate.toString(e),cs.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Kw="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function $6(e){return e.matches(Kw)?e:e.querySelector(Kw)}const U6={display:"none"};function z6(e){let{id:t,value:n}=e;return F.createElement("div",{id:t,style:U6},n)}function B6(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return F.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function W6(){const[e,t]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Hk=m.createContext(null);function H6(e){const t=m.useContext(Hk);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function V6(){const[e]=m.useState(()=>new Set),t=m.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[m.useCallback(r=>{let{type:s,event:i}=r;e.forEach(a=>{var l;return(l=a[s])==null?void 0:l.call(a,i)})},[e]),t]}const q6={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},K6={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function G6(e){let{announcements:t=K6,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=q6}=e;const{announce:i,announcement:a}=W6(),l=Yc("DndLiveRegion"),[c,u]=m.useState(!1);if(m.useEffect(()=>{u(!0)},[]),H6(m.useMemo(()=>({onDragStart(f){let{active:h}=f;i(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;t.onDragMove&&i(t.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;i(t.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;i(t.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;i(t.onDragCancel({active:h,over:p}))}}),[i,t])),!c)return null;const d=F.createElement(F.Fragment,null,F.createElement(z6,{id:r,value:s.draggable}),F.createElement(B6,{id:l,announcement:a}));return n?In.createPortal(d,n):d}var dt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(dt||(dt={}));function sf(){}function Gw(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Y6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const pr=Object.freeze({x:0,y:0});function Vk(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Q6(e,t){const n=rf(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function qk(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function J6(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Yw(e){let{left:t,top:n,height:r,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+r},{x:t+s,y:n+r}]}function Kk(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Qw(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const X6=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=Qw(t,t.left,t.top),i=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const u=Vk(Qw(c),s);i.push({id:l,data:{droppableContainer:a,value:u}})}}return i.sort(qk)},Z6=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=Yw(t),i=[];for(const a of r){const{id:l}=a,c=n.get(l);if(c){const u=Yw(c),d=s.reduce((h,p,y)=>h+Vk(u[y],p),0),f=Number((d/4).toFixed(4));i.push({id:l,data:{droppableContainer:a,value:f}})}}return i.sort(qk)};function eU(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=s-r,l=i-n;if(r<s&&n<i){const c=t.width*t.height,u=e.width*e.height,d=a*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const tU=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const i of r){const{id:a}=i,l=n.get(a);if(l){const c=eU(l,t);c>0&&s.push({id:a,data:{droppableContainer:i,value:c}})}}return s.sort(J6)};function nU(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Gk(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:pr}function rU(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((a,l)=>({...a,top:a.top+e*l.y,bottom:a.bottom+e*l.y,left:a.left+e*l.x,right:a.right+e*l.x}),{...n})}}const sU=rU(1);function Yk(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function oU(e,t,n){const r=Yk(t);if(!r)return e;const{scaleX:s,scaleY:i,x:a,y:l}=r,c=e.left-a-(1-s)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?e.width/s:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const iU={ignoreTransform:!1};function Ka(e,t){t===void 0&&(t=iU);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Zt(e).getComputedStyle(e);u&&(n=oU(n,u,d))}const{top:r,left:s,width:i,height:a,bottom:l,right:c}=n;return{top:r,left:s,width:i,height:a,bottom:l,right:c}}function Jw(e){return Ka(e,{ignoreTransform:!0})}function aU(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function lU(e,t){return t===void 0&&(t=Zt(e).getComputedStyle(e)),t.position==="fixed"}function cU(e,t){t===void 0&&(t=Zt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function mh(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Dx(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Kc(s)||Bk(s)||n.includes(s))return n;const i=Zt(e).getComputedStyle(s);return s!==e&&cU(s,i)&&n.push(s),lU(s,i)?n:r(s.parentNode)}return e?r(e):n}function Qk(e){const[t]=mh(e,1);return t??null}function Nm(e){return!dh||!e?null:Va(e)?e:Ix(e)?Dx(e)||e===qa(e).scrollingElement?window:Kc(e)?e:null:null}function Jk(e){return Va(e)?e.scrollX:e.scrollLeft}function Xk(e){return Va(e)?e.scrollY:e.scrollTop}function Sg(e){return{x:Jk(e),y:Xk(e)}}var bt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(bt||(bt={}));function Zk(e){return!dh||!e?!1:e===document.scrollingElement}function eE(e){const t={x:0,y:0},n=Zk(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:a,isRight:l,maxScroll:r,minScroll:t}}const uU={x:.2,y:.2};function dU(e,t,n,r,s){let{top:i,left:a,right:l,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=uU);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=eE(e),p={x:0,y:0},y={x:0,y:0},g={height:t.height*s.y,width:t.width*s.x};return!u&&i<=t.top+g.height?(p.y=bt.Backward,y.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&c>=t.bottom-g.height&&(p.y=bt.Forward,y.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!h&&l>=t.right-g.width?(p.x=bt.Forward,y.x=r*Math.abs((t.right-g.width-l)/g.width)):!f&&a<=t.left+g.width&&(p.x=bt.Backward,y.x=r*Math.abs((t.left+g.width-a)/g.width)),{direction:p,speed:y}}function fU(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function tE(e){return e.reduce((t,n)=>Ki(t,Sg(n)),pr)}function hU(e){return e.reduce((t,n)=>t+Jk(n),0)}function mU(e){return e.reduce((t,n)=>t+Xk(n),0)}function nE(e,t){if(t===void 0&&(t=Ka),!e)return;const{top:n,left:r,bottom:s,right:i}=t(e);Qk(e)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const pU=[["x",["left","right"],hU],["y",["top","bottom"],mU]];class Fx{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=mh(n),s=tE(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,a,l]of pU)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=s[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Wl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function gU(e){const{EventTarget:t}=Zt(e);return e instanceof t?e:qa(e)}function Sm(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Rn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Rn||(Rn={}));function Xw(e){e.preventDefault()}function vU(e){e.stopPropagation()}var Ce;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ce||(Ce={}));const rE={start:[Ce.Space,Ce.Enter],cancel:[Ce.Esc],end:[Ce.Space,Ce.Enter,Ce.Tab]},xU=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ce.Right:return{...n,x:n.x+25};case Ce.Left:return{...n,x:n.x-25};case Ce.Down:return{...n,y:n.y+25};case Ce.Up:return{...n,y:n.y-25}}};class Lx{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Wl(qa(n)),this.windowListeners=new Wl(Zt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Rn.Resize,this.handleCancel),this.windowListeners.add(Rn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Rn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&nE(r),n(pr)}handleKeyDown(t){if(hh(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=rE,coordinateGetter:a=xU,scrollBehavior:l="smooth"}=s,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:pr;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(t,{active:n,context:r.current,currentCoordinates:d});if(f){const h=bc(f,d),p={x:0,y:0},{scrollableAncestors:y}=r.current;for(const g of y){const v=t.code,{isTop:x,isRight:w,isLeft:b,isBottom:j,maxScroll:N,minScroll:C}=eE(g),_=fU(g),k={x:Math.min(v===Ce.Right?_.right-_.width/2:_.right,Math.max(v===Ce.Right?_.left:_.left+_.width/2,f.x)),y:Math.min(v===Ce.Down?_.bottom-_.height/2:_.bottom,Math.max(v===Ce.Down?_.top:_.top+_.height/2,f.y))},E=v===Ce.Right&&!w||v===Ce.Left&&!b,R=v===Ce.Down&&!j||v===Ce.Up&&!x;if(E&&k.x!==f.x){const M=g.scrollLeft+h.x,O=v===Ce.Right&&M<=N.x||v===Ce.Left&&M>=C.x;if(O&&!h.y){g.scrollTo({left:M,behavior:l});return}O?p.x=g.scrollLeft-M:p.x=v===Ce.Right?g.scrollLeft-N.x:g.scrollLeft-C.x,p.x&&g.scrollBy({left:-p.x,behavior:l});break}else if(R&&k.y!==f.y){const M=g.scrollTop+h.y,O=v===Ce.Down&&M<=N.y||v===Ce.Up&&M>=C.y;if(O&&!h.x){g.scrollTo({top:M,behavior:l});return}O?p.y=g.scrollTop-M:p.y=v===Ce.Down?g.scrollTop-N.y:g.scrollTop-C.y,p.y&&g.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,Ki(bc(f,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Lx.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=rE,onActivation:s}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Zw(e){return!!(e&&"distance"in e)}function eb(e){return!!(e&&"delay"in e)}class $x{constructor(t,n,r){var s;r===void 0&&(r=gU(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:a}=i;this.props=t,this.events=n,this.document=qa(a),this.documentListeners=new Wl(this.document),this.listeners=new Wl(r),this.windowListeners=new Wl(Zt(a)),this.initialCoordinates=(s=rf(i))!=null?s:pr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Rn.Resize,this.handleCancel),this.windowListeners.add(Rn.DragStart,Xw),this.windowListeners.add(Rn.VisibilityChange,this.handleCancel),this.windowListeners.add(Rn.ContextMenu,Xw),this.documentListeners.add(Rn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eb(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Zw(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Rn.Click,vU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Rn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:a,options:{activationConstraint:l}}=i;if(!s)return;const c=(n=rf(t))!=null?n:pr,u=bc(s,c);if(!r&&l){if(Zw(l)){if(l.tolerance!=null&&Sm(u,l.tolerance))return this.handleCancel();if(Sm(u,l.distance))return this.handleStart()}if(eb(l)&&Sm(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ce.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const yU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ux extends $x{constructor(t){const{event:n}=t,r=qa(n.target);super(t,yU,r)}}Ux.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const wU={move:{name:"mousemove"},end:{name:"mouseup"}};var Cg;(function(e){e[e.RightClick=2]="RightClick"})(Cg||(Cg={}));class bU extends $x{constructor(t){super(t,wU,qa(t.event.target))}}bU.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Cg.RightClick?!1:(r==null||r({event:n}),!0)}}];const Cm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class jU extends $x{constructor(t){super(t,Cm)}static setup(){return window.addEventListener(Cm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Cm.move.name,t)};function t(){}}}jU.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Hl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Hl||(Hl={}));var of;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(of||(of={}));function _U(e){let{acceleration:t,activator:n=Hl.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:a=5,order:l=of.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const p=SU({delta:f,disabled:!i}),[y,g]=D6(),v=m.useRef({x:0,y:0}),x=m.useRef({x:0,y:0}),w=m.useMemo(()=>{switch(n){case Hl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Hl.DraggableRect:return s}},[n,s,c]),b=m.useRef(null),j=m.useCallback(()=>{const C=b.current;if(!C)return;const _=v.current.x*x.current.x,k=v.current.y*x.current.y;C.scrollBy(_,k)},[]),N=m.useMemo(()=>l===of.TreeOrder?[...u].reverse():u,[l,u]);m.useEffect(()=>{if(!i||!u.length||!w){g();return}for(const C of N){if((r==null?void 0:r(C))===!1)continue;const _=u.indexOf(C),k=d[_];if(!k)continue;const{direction:E,speed:R}=dU(C,k,w,t,h);for(const M of["x","y"])p[M][E[M]]||(R[M]=0,E[M]=0);if(R.x>0||R.y>0){g(),b.current=C,y(j,a),v.current=R,x.current=E;return}}v.current={x:0,y:0},x.current={x:0,y:0},g()},[t,j,r,g,i,a,JSON.stringify(w),JSON.stringify(p),y,u,N,d,JSON.stringify(h)])}const NU={x:{[bt.Backward]:!1,[bt.Forward]:!1},y:{[bt.Backward]:!1,[bt.Forward]:!1}};function SU(e){let{delta:t,disabled:n}=e;const r=nf(t);return Gc(s=>{if(n||!r||!s)return NU;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[bt.Backward]:s.x[bt.Backward]||i.x===-1,[bt.Forward]:s.x[bt.Forward]||i.x===1},y:{[bt.Backward]:s.y[bt.Backward]||i.y===-1,[bt.Forward]:s.y[bt.Forward]||i.y===1}}},[n,t,r])}function CU(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Gc(s=>{var i;return t==null?null:(i=r??s)!=null?i:null},[r,t])}function kU(e,t){return m.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...i]},[]),[e,t])}var jc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(jc||(jc={}));var kg;(function(e){e.Optimized="optimized"})(kg||(kg={}));const tb=new Map;function EU(e,t){let{dragging:n,dependencies:r,config:s}=t;const[i,a]=m.useState(null),{frequency:l,measure:c,strategy:u}=s,d=m.useRef(e),f=v(),h=wc(f),p=m.useCallback(function(x){x===void 0&&(x=[]),!h.current&&a(w=>w===null?x:w.concat(x.filter(b=>!w.includes(b))))},[h]),y=m.useRef(null),g=Gc(x=>{if(f&&!n)return tb;if(!x||x===tb||d.current!==e||i!=null){const w=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){w.set(b.id,b.rect.current);continue}const j=b.node.current,N=j?new Fx(c(j),j):null;b.rect.current=N,N&&w.set(b.id,N)}return w}return x},[e,i,n,f,c]);return m.useEffect(()=>{d.current=e},[e]),m.useEffect(()=>{f||p()},[n,f]),m.useEffect(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),m.useEffect(()=>{f||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{p(),y.current=null},l))},[l,f,p,...r]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:i!=null};function v(){switch(u){case jc.Always:return!1;case jc.BeforeDragging:return n;default:return!n}}}function zx(e,t){return Gc(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function PU(e,t){return zx(e,t)}function TU(e){let{callback:t,disabled:n}=e;const r=fh(t),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ph(e){let{callback:t,disabled:n}=e;const r=fh(t),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function RU(e){return new Fx(Ka(e),e)}function nb(e,t,n){t===void 0&&(t=RU);const[r,s]=m.useState(null);function i(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const a=TU({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=ph({callback:i});return mr(()=>{i(),e?(l==null||l.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[e]),r}function MU(e){const t=zx(e);return Gk(e,t)}const rb=[];function AU(e){const t=m.useRef(e),n=Gc(r=>e?r&&r!==rb&&e&&t.current&&e.parentNode===t.current.parentNode?r:mh(e):rb,[e]);return m.useEffect(()=>{t.current=e},[e]),n}function OU(e){const[t,n]=m.useState(null),r=m.useRef(e),s=m.useCallback(i=>{const a=Nm(i.target);a&&n(l=>l?(l.set(a,Sg(a)),new Map(l)):null)},[]);return m.useEffect(()=>{const i=r.current;if(e!==i){a(i);const l=e.map(c=>{const u=Nm(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Sg(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{a(e),a(i)};function a(l){l.forEach(c=>{const u=Nm(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,a)=>Ki(i,a),pr):tE(e):pr,[e,t])}function sb(e,t){t===void 0&&(t=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},t),m.useEffect(()=>{const r=e!==pr;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?bc(e,n.current):pr}function IU(e){m.useEffect(()=>{if(!dh)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function DU(e,t){return m.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=a=>{i(a,t)},n},{}),[e,t])}function sE(e){return m.useMemo(()=>e?aU(e):null,[e])}const ob=[];function FU(e,t){t===void 0&&(t=Ka);const[n]=e,r=sE(n?Zt(n):null),[s,i]=m.useState(ob);function a(){i(()=>e.length?e.map(c=>Zk(c)?r:new Fx(t(c),c)):ob)}const l=ph({callback:a});return mr(()=>{l==null||l.disconnect(),a(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),s}function oE(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Kc(t)?t:e}function LU(e){let{measure:t}=e;const[n,r]=m.useState(null),s=m.useCallback(u=>{for(const{target:d}of u)if(Kc(d)){r(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),i=ph({callback:s}),a=m.useCallback(u=>{const d=oE(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[l,c]=tf(a);return m.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const $U=[{sensor:Ux,options:{}},{sensor:Lx,options:{}}],UU={current:{}},ad={draggable:{measure:Jw},droppable:{measure:Jw,strategy:jc.WhileDragging,frequency:kg.Optimized},dragOverlay:{measure:Ka}};class Vl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const zU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Vl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ad,measureDroppableContainers:sf,windowRect:null,measuringScheduled:!1},iE={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sf,draggableNodes:new Map,over:null,measureDroppableContainers:sf},Qc=m.createContext(iE),aE=m.createContext(zU);function BU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Vl}}}function WU(e,t){switch(t.type){case dt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case dt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case dt.DragEnd:case dt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case dt.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Vl(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case dt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Vl(e.droppable.containers);return a.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:a}}}case dt.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Vl(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function HU(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=m.useContext(Qc),i=nf(r),a=nf(n==null?void 0:n.id);return m.useEffect(()=>{if(!t&&!r&&i&&a!=null){if(!hh(i)||document.activeElement===i.target)return;const l=s.get(a);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=$6(d);if(f){f.focus();break}}})}},[r,t,s,a,i]),null}function lE(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...r}),n):n}function VU(e){return m.useMemo(()=>({draggable:{...ad.draggable,...e==null?void 0:e.draggable},droppable:{...ad.droppable,...e==null?void 0:e.droppable},dragOverlay:{...ad.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function qU(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const i=m.useRef(!1),{x:a,y:l}=typeof s=="boolean"?{x:s,y:s}:s;mr(()=>{if(!a&&!l||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Gk(d,r);if(a||(f.x=0),l||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=Qk(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,a,l,r,n])}const gh=m.createContext({...pr,scaleX:1,scaleY:1});var ks;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ks||(ks={}));const KU=m.memo(function(t){var n,r,s,i;let{id:a,accessibility:l,autoScroll:c=!0,children:u,sensors:d=$U,collisionDetection:f=tU,measuring:h,modifiers:p,...y}=t;const g=m.useReducer(WU,void 0,BU),[v,x]=g,[w,b]=V6(),[j,N]=m.useState(ks.Uninitialized),C=j===ks.Initialized,{draggable:{active:_,nodes:k,translate:E},droppable:{containers:R}}=v,M=_!=null?k.get(_):null,O=m.useRef({initial:null,translated:null}),A=m.useMemo(()=>{var Fe;return _!=null?{id:_,data:(Fe=M==null?void 0:M.data)!=null?Fe:UU,rect:O}:null},[_,M]),I=m.useRef(null),[W,U]=m.useState(null),[D,S]=m.useState(null),T=wc(y,Object.values(y)),z=Yc("DndDescribedBy",a),B=m.useMemo(()=>R.getEnabled(),[R]),H=VU(h),{droppableRects:V,measureDroppableContainers:J,measuringScheduled:ve}=EU(B,{dragging:C,dependencies:[E.x,E.y],config:H.droppable}),X=CU(k,_),$=m.useMemo(()=>D?rf(D):null,[D]),Z=kn(),me=PU(X,H.draggable.measure);qU({activeNode:_!=null?k.get(_):null,config:Z.layoutShiftCompensation,initialRect:me,measure:H.draggable.measure});const oe=nb(X,H.draggable.measure,me),Ne=nb(X?X.parentElement:null),ge=m.useRef({activatorEvent:null,active:null,activeNode:X,collisionRect:null,collisions:null,droppableRects:V,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),nt=R.getNodeFor((n=ge.current.over)==null?void 0:n.id),Je=LU({measure:H.dragOverlay.measure}),Bt=(r=Je.nodeRef.current)!=null?r:X,ct=C?(s=Je.rect)!=null?s:oe:null,wr=!!(Je.nodeRef.current&&Je.rect),li=MU(wr?null:oe),ot=sE(Bt?Zt(Bt):null),Wt=AU(C?nt??X:null),ci=FU(Wt),ui=lE(p,{transform:{x:E.x-li.x,y:E.y-li.y,scaleX:1,scaleY:1},activatorEvent:D,active:A,activeNodeRect:oe,containerNodeRect:Ne,draggingNodeRect:ct,over:ge.current.over,overlayNodeRect:Je.rect,scrollableAncestors:Wt,scrollableAncestorRects:ci,windowRect:ot}),xo=$?Ki($,E):null,ru=OU(Wt),su=sb(ru),el=sb(ru,[oe]),hn=Ki(ui,su),Br=ct?sU(ct,ui):null,Cn=A&&Br?f({active:A,collisionRect:Br,droppableRects:V,droppableContainers:B,pointerCoordinates:xo}):null,tl=Kk(Cn,"id"),[br,nl]=m.useState(null),ou=wr?ui:Ki(ui,el),_h=nU(ou,(i=br==null?void 0:br.rect)!=null?i:null,oe),yo=m.useRef(null),Kn=m.useCallback((Fe,vt)=>{let{sensor:Ht,options:ms}=vt;if(I.current==null)return;const En=k.get(I.current);if(!En)return;const mn=Fe.nativeEvent,jr=new Ht({active:I.current,activeNode:En,event:mn,options:ms,context:ge,onAbort(_t){if(!k.get(_t))return;const{onDragAbort:_r}=T.current,Wr={id:_t};_r==null||_r(Wr),w({type:"onDragAbort",event:Wr})},onPending(_t,ps,_r,Wr){if(!k.get(_t))return;const{onDragPending:sl}=T.current,gs={id:_t,constraint:ps,initialCoordinates:_r,offset:Wr};sl==null||sl(gs),w({type:"onDragPending",event:gs})},onStart(_t){const ps=I.current;if(ps==null)return;const _r=k.get(ps);if(!_r)return;const{onDragStart:Wr}=T.current,rl={activatorEvent:mn,active:{id:ps,data:_r.data,rect:O}};In.unstable_batchedUpdates(()=>{Wr==null||Wr(rl),N(ks.Initializing),x({type:dt.DragStart,initialCoordinates:_t,active:ps}),w({type:"onDragStart",event:rl}),U(yo.current),S(mn)})},onMove(_t){x({type:dt.DragMove,coordinates:_t})},onEnd:di(dt.DragEnd),onCancel:di(dt.DragCancel)});yo.current=jr;function di(_t){return async function(){const{active:_r,collisions:Wr,over:rl,scrollAdjustedTranslate:sl}=ge.current;let gs=null;if(_r&&sl){const{cancelDrop:ol}=T.current;gs={activatorEvent:mn,active:_r,collisions:Wr,delta:sl,over:rl},_t===dt.DragEnd&&typeof ol=="function"&&await Promise.resolve(ol(gs))&&(_t=dt.DragCancel)}I.current=null,In.unstable_batchedUpdates(()=>{x({type:_t}),N(ks.Uninitialized),nl(null),U(null),S(null),yo.current=null;const ol=_t===dt.DragEnd?"onDragEnd":"onDragCancel";if(gs){const Sh=T.current[ol];Sh==null||Sh(gs),w({type:ol,event:gs})}})}}},[k]),Nh=m.useCallback((Fe,vt)=>(Ht,ms)=>{const En=Ht.nativeEvent,mn=k.get(ms);if(I.current!==null||!mn||En.dndKit||En.defaultPrevented)return;const jr={active:mn};Fe(Ht,vt.options,jr)===!0&&(En.dndKit={capturedBy:vt.sensor},I.current=ms,Kn(Ht,vt))},[k,Kn]),pe=kU(d,Nh);IU(d),mr(()=>{oe&&j===ks.Initializing&&N(ks.Initialized)},[oe,j]),m.useEffect(()=>{const{onDragMove:Fe}=T.current,{active:vt,activatorEvent:Ht,collisions:ms,over:En}=ge.current;if(!vt||!Ht)return;const mn={active:vt,activatorEvent:Ht,collisions:ms,delta:{x:hn.x,y:hn.y},over:En};In.unstable_batchedUpdates(()=>{Fe==null||Fe(mn),w({type:"onDragMove",event:mn})})},[hn.x,hn.y]),m.useEffect(()=>{const{active:Fe,activatorEvent:vt,collisions:Ht,droppableContainers:ms,scrollAdjustedTranslate:En}=ge.current;if(!Fe||I.current==null||!vt||!En)return;const{onDragOver:mn}=T.current,jr=ms.get(tl),di=jr&&jr.rect.current?{id:jr.id,rect:jr.rect.current,data:jr.data,disabled:jr.disabled}:null,_t={active:Fe,activatorEvent:vt,collisions:Ht,delta:{x:En.x,y:En.y},over:di};In.unstable_batchedUpdates(()=>{nl(di),mn==null||mn(_t),w({type:"onDragOver",event:_t})})},[tl]),mr(()=>{ge.current={activatorEvent:D,active:A,activeNode:X,collisionRect:Br,collisions:Cn,droppableRects:V,draggableNodes:k,draggingNode:Bt,draggingNodeRect:ct,droppableContainers:R,over:br,scrollableAncestors:Wt,scrollAdjustedTranslate:hn},O.current={initial:ct,translated:Br}},[A,X,Cn,Br,k,Bt,ct,V,R,br,Wt,hn]),_U({...Z,delta:E,draggingRect:Br,pointerCoordinates:xo,scrollableAncestors:Wt,scrollableAncestorRects:ci});const De=m.useMemo(()=>({active:A,activeNode:X,activeNodeRect:oe,activatorEvent:D,collisions:Cn,containerNodeRect:Ne,dragOverlay:Je,draggableNodes:k,droppableContainers:R,droppableRects:V,over:br,measureDroppableContainers:J,scrollableAncestors:Wt,scrollableAncestorRects:ci,measuringConfiguration:H,measuringScheduled:ve,windowRect:ot}),[A,X,oe,D,Cn,Ne,Je,k,R,V,br,J,Wt,ci,H,ve,ot]),Ie=m.useMemo(()=>({activatorEvent:D,activators:pe,active:A,activeNodeRect:oe,ariaDescribedById:{draggable:z},dispatch:x,draggableNodes:k,over:br,measureDroppableContainers:J}),[D,pe,A,oe,x,z,k,br,J]);return F.createElement(Hk.Provider,{value:b},F.createElement(Qc.Provider,{value:Ie},F.createElement(aE.Provider,{value:De},F.createElement(gh.Provider,{value:_h},u)),F.createElement(HU,{disabled:(l==null?void 0:l.restoreFocus)===!1})),F.createElement(G6,{...l,hiddenTextDescribedById:z}));function kn(){const Fe=(W==null?void 0:W.autoScrollEnabled)===!1,vt=typeof c=="object"?c.enabled===!1:c===!1,Ht=C&&!Fe&&!vt;return typeof c=="object"?{...c,enabled:Ht}:{enabled:Ht}}}),GU=m.createContext(null),ib="button",YU="Draggable";function QU(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const i=Yc(YU),{activators:a,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=m.useContext(Qc),{role:p=ib,roleDescription:y="draggable",tabIndex:g=0}=s??{},v=(c==null?void 0:c.id)===t,x=m.useContext(v?gh:GU),[w,b]=tf(),[j,N]=tf(),C=DU(a,t),_=wc(n);mr(()=>(f.set(t,{id:t,key:i,node:w,activatorNode:j,data:_}),()=>{const E=f.get(t);E&&E.key===i&&f.delete(t)}),[f,t]);const k=m.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":v&&p===ib?!0:void 0,"aria-roledescription":y,"aria-describedby":d.draggable}),[r,p,g,v,y,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:k,isDragging:v,listeners:r?void 0:C,node:w,over:h,setNodeRef:b,setActivatorNodeRef:N,transform:x}}function cE(){return m.useContext(aE)}const JU="Droppable",XU={timeout:25};function ZU(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const i=Yc(JU),{active:a,dispatch:l,over:c,measureDroppableContainers:u}=m.useContext(Qc),d=m.useRef({disabled:n}),f=m.useRef(!1),h=m.useRef(null),p=m.useRef(null),{disabled:y,updateMeasurementsFor:g,timeout:v}={...XU,...s},x=wc(g??r),w=m.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),p.current=null},v)},[v]),b=ph({callback:w,disabled:y||!a}),j=m.useCallback((k,E)=>{b&&(E&&(b.unobserve(E),f.current=!1),k&&b.observe(k))},[b]),[N,C]=tf(j),_=wc(t);return m.useEffect(()=>{!b||!N.current||(b.disconnect(),f.current=!1,b.observe(N.current))},[N,b]),m.useEffect(()=>(l({type:dt.RegisterDroppable,element:{id:r,key:i,disabled:n,node:N,rect:h,data:_}}),()=>l({type:dt.UnregisterDroppable,key:i,id:r})),[r]),m.useEffect(()=>{n!==d.current.disabled&&(l({type:dt.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,l]),{active:a,rect:h,isOver:(c==null?void 0:c.id)===r,node:N,over:c,setNodeRef:C}}function e8(e){let{animation:t,children:n}=e;const[r,s]=m.useState(null),[i,a]=m.useState(null),l=nf(n);return!n&&!r&&l&&s(l),mr(()=>{if(!i)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){s(null);return}Promise.resolve(t(u,i)).then(()=>{s(null)})},[t,r,i]),F.createElement(F.Fragment,null,n,r?m.cloneElement(r,{ref:a}):null)}const t8={x:0,y:0,scaleX:1,scaleY:1};function n8(e){let{children:t}=e;return F.createElement(Qc.Provider,{value:iE},F.createElement(gh.Provider,{value:t8},t))}const r8={position:"fixed",touchAction:"none"},s8=e=>hh(e)?"transform 250ms ease":void 0,o8=m.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:i,className:a,rect:l,style:c,transform:u,transition:d=s8}=e;if(!l)return null;const f=s?u:{...u,scaleX:1,scaleY:1},h={...r8,width:l.width,height:l.height,top:l.top,left:l.left,transform:cs.Transform.toString(f),transformOrigin:s&&r?Q6(r,l):void 0,transition:typeof d=="function"?d(r):d,...c};return F.createElement(n,{className:a,style:h,ref:t},i)}),i8=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:i,className:a}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[c,u]of Object.entries(s))n.node.style.setProperty(c,u);a!=null&&a.active&&n.node.classList.remove(a.active)}},a8=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:cs.Transform.toString(t)},{transform:cs.Transform.toString(n)}]},l8={duration:250,easing:"ease",keyframes:a8,sideEffects:i8({styles:{active:{opacity:"0"}}})};function c8(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return fh((i,a)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const u=oE(a);if(!u)return;const{transform:d}=Zt(a).getComputedStyle(a),f=Yk(d);if(!f)return;const h=typeof t=="function"?t:u8(t);return nE(c,s.draggable.measure),h({active:{id:i,data:l.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:a,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:f})})}function u8(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...l8,...e};return i=>{let{active:a,dragOverlay:l,transform:c,...u}=i;if(!t)return;const d={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},f={scaleX:c.scaleX!==1?a.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?a.rect.height*c.scaleY/l.rect.height:1},h={x:c.x-d.x,y:c.y-d.y,...f},p=s({...u,active:a,dragOverlay:l,transform:{initial:c,final:h}}),[y]=p,g=p[p.length-1];if(JSON.stringify(y)===JSON.stringify(g))return;const v=r==null?void 0:r({active:a,dragOverlay:l,...u}),x=l.node.animate(p,{duration:t,easing:n,fill:"forwards"});return new Promise(w=>{x.onfinish=()=>{v==null||v(),w()}})}}let ab=0;function d8(e){return m.useMemo(()=>{if(e!=null)return ab++,ab},[e])}const f8=F.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:i,modifiers:a,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggableNodes:y,droppableContainers:g,dragOverlay:v,over:x,measuringConfiguration:w,scrollableAncestors:b,scrollableAncestorRects:j,windowRect:N}=cE(),C=m.useContext(gh),_=d8(f==null?void 0:f.id),k=lE(a,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:v.rect,over:x,overlayNodeRect:v.rect,scrollableAncestors:b,scrollableAncestorRects:j,transform:C,windowRect:N}),E=zx(h),R=c8({config:r,draggableNodes:y,droppableContainers:g,measuringConfiguration:w}),M=E?v.setRef:void 0;return F.createElement(n8,null,F.createElement(e8,{animation:R},f&&_?F.createElement(o8,{key:_,id:f.id,ref:M,as:l,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:E,style:{zIndex:u,...s},transform:k},n):null))});function Bx(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function h8(e,t){return e.reduce((n,r,s)=>{const i=t.get(r);return i&&(n[s]=i),n},Array(e.length))}function Lu(e){return e!==null&&e>=0}function m8(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function p8(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const uE=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const i=Bx(t,r,n),a=t[s],l=i[s];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},$u={scaleX:1,scaleY:1},g8=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:i,overIndex:a}=e;const l=(t=i[n])!=null?t:r;if(!l)return null;if(s===n){const u=i[a];return u?{x:0,y:n<a?u.top+u.height-(l.top+l.height):u.top-l.top,...$u}:null}const c=v8(i,s,n);return s>n&&s<=a?{x:0,y:-l.height-c,...$u}:s<n&&s>=a?{x:0,y:l.height+c,...$u}:{x:0,y:0,...$u}};function v8(e,t,n){const r=e[t],s=e[t-1],i=e[t+1];return r?n<t?s?r.top-(s.top+s.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const dE="Sortable",fE=F.createContext({activeIndex:-1,containerId:dE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:uE,disabled:{draggable:!1,droppable:!1}});function x8(e){let{children:t,id:n,items:r,strategy:s=uE,disabled:i=!1}=e;const{active:a,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=cE(),f=Yc(dE,n),h=l.rect!==null,p=m.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),y=a!=null,g=a?p.indexOf(a.id):-1,v=u?p.indexOf(u.id):-1,x=m.useRef(p),w=!m8(p,x.current),b=v!==-1&&g===-1||w,j=p8(i);mr(()=>{w&&y&&d(p)},[w,p,y,d]),m.useEffect(()=>{x.current=p},[p]);const N=m.useMemo(()=>({activeIndex:g,containerId:f,disabled:j,disableTransforms:b,items:p,overIndex:v,useDragOverlay:h,sortedRects:h8(p,c),strategy:s}),[g,f,j.draggable,j.droppable,b,p,v,c,h,s]);return F.createElement(fE.Provider,{value:N},t)}const y8=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return Bx(n,r,s).indexOf(t)},w8=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:i,newIndex:a,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==i&&s===a?!1:n?!0:a!==s&&t===c},b8={duration:200,easing:"ease"},hE="transform",j8=cs.Transition.toString({property:hE,duration:0,easing:"linear"}),_8={roleDescription:"sortable"};function N8(e){let{disabled:t,index:n,node:r,rect:s}=e;const[i,a]=m.useState(null),l=m.useRef(n);return mr(()=>{if(!t&&n!==l.current&&r.current){const c=s.current;if(c){const u=Ka(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&a(d)}}n!==l.current&&(l.current=n)},[t,n,r,s]),m.useEffect(()=>{i&&a(null)},[i]),i}function mE(e){let{animateLayoutChanges:t=w8,attributes:n,disabled:r,data:s,getNewIndex:i=y8,id:a,strategy:l,resizeObserverConfig:c,transition:u=b8}=e;const{items:d,containerId:f,activeIndex:h,disabled:p,disableTransforms:y,sortedRects:g,overIndex:v,useDragOverlay:x,strategy:w}=m.useContext(fE),b=S8(r,p),j=d.indexOf(a),N=m.useMemo(()=>({sortable:{containerId:f,index:j,items:d},...s}),[f,s,j,d]),C=m.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:_,node:k,isOver:E,setNodeRef:R}=ZU({id:a,data:N,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:M,activatorEvent:O,activeNodeRect:A,attributes:I,setNodeRef:W,listeners:U,isDragging:D,over:S,setActivatorNodeRef:T,transform:z}=QU({id:a,data:N,attributes:{..._8,...n},disabled:b.draggable}),B=I6(R,W),H=!!M,V=H&&!y&&Lu(h)&&Lu(v),J=!x&&D,ve=J&&V?z:null,$=V?ve??(l??w)({rects:g,activeNodeRect:A,activeIndex:h,overIndex:v,index:j}):null,Z=Lu(h)&&Lu(v)?i({id:a,items:d,activeIndex:h,overIndex:v}):j,me=M==null?void 0:M.id,oe=m.useRef({activeId:me,items:d,newIndex:Z,containerId:f}),Ne=d!==oe.current.items,ge=t({active:M,containerId:f,isDragging:D,isSorting:H,id:a,index:j,items:d,newIndex:oe.current.newIndex,previousItems:oe.current.items,previousContainerId:oe.current.containerId,transition:u,wasDragging:oe.current.activeId!=null}),nt=N8({disabled:!ge,index:j,node:k,rect:_});return m.useEffect(()=>{H&&oe.current.newIndex!==Z&&(oe.current.newIndex=Z),f!==oe.current.containerId&&(oe.current.containerId=f),d!==oe.current.items&&(oe.current.items=d)},[H,Z,f,d]),m.useEffect(()=>{if(me===oe.current.activeId)return;if(me!=null&&oe.current.activeId==null){oe.current.activeId=me;return}const Bt=setTimeout(()=>{oe.current.activeId=me},50);return()=>clearTimeout(Bt)},[me]),{active:M,activeIndex:h,attributes:I,data:N,rect:_,index:j,newIndex:Z,items:d,isOver:E,isSorting:H,isDragging:D,listeners:U,node:k,overIndex:v,over:S,setNodeRef:B,setActivatorNodeRef:T,setDroppableNodeRef:R,setDraggableNodeRef:W,transform:nt??$,transition:Je()};function Je(){if(nt||Ne&&oe.current.newIndex===j)return j8;if(!(J&&!hh(O)||!u)&&(H||ge))return cs.Transition.toString({...u,property:hE})}}function S8(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function af(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const C8=[Ce.Down,Ce.Right,Ce.Up,Ce.Left],k8=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:i,over:a,scrollableAncestors:l}}=t;if(C8.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=s.get(f.id);if(h)switch(e.code){case Ce.Down:r.top<h.top&&c.push(f);break;case Ce.Up:r.top>h.top&&c.push(f);break;case Ce.Left:r.left>h.left&&c.push(f);break;case Ce.Right:r.left<h.left&&c.push(f);break}});const u=Z6({active:n,collisionRect:r,droppableRects:s,droppableContainers:c,pointerCoordinates:null});let d=Kk(u,"id");if(d===(a==null?void 0:a.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),h=i.get(d),p=h?s.get(h.id):null,y=h==null?void 0:h.node.current;if(y&&p&&f&&h){const v=mh(y).some((C,_)=>l[_]!==C),x=pE(f,h),w=E8(f,h),b=v||!x?{x:0,y:0}:{x:w?r.width-p.width:0,y:w?r.height-p.height:0},j={x:p.left,y:p.top};return b.x&&b.y?j:bc(j,b)}}}};function pE(e,t){return!af(e)||!af(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function E8(e,t){return!af(e)||!af(t)||!pE(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Ga=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:Y("w-full caption-bottom text-sm",e),...t})}));Ga.displayName="Table";const Ya=m.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:Y("[&_tr]:border-b",e),...t}));Ya.displayName="TableHeader";const Qa=m.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:Y("[&_tr:last-child]:border-0",e),...t}));Qa.displayName="TableBody";const P8=m.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:Y("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));P8.displayName="TableFooter";const gr=m.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:Y("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));gr.displayName="TableRow";const Re=m.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:Y("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Re.displayName="TableHead";const Pe=m.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:Y("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Pe.displayName="TableCell";const T8=m.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:Y("mt-4 text-sm text-muted-foreground",e),...t}));T8.displayName="TableCaption";function R8(e,t=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][c])||l,v=m.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||l,y=m.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,M8(s,...t)]}function M8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var A8="Toggle",Wx=m.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:s,...i}=e,[a=!1,l]=zn({prop:n,onChange:s,defaultProp:r});return o.jsx(ae.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:K(e.onClick,()=>{e.disabled||l(!a)})})});Wx.displayName=A8;var gE=Wx,Ja="ToggleGroup",[vE,EH]=R8(Ja,[Ba]),xE=Ba(),Hx=F.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const s=r;return o.jsx(O8,{...s,ref:t})}if(n==="multiple"){const s=r;return o.jsx(I8,{...s,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Ja}\``)});Hx.displayName=Ja;var[yE,wE]=vE(Ja),O8=F.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[a,l]=zn({prop:n,defaultProp:r,onChange:s});return o.jsx(yE,{scope:e.__scopeToggleGroup,type:"single",value:a?[a]:[],onItemActivate:l,onItemDeactivate:F.useCallback(()=>l(""),[l]),children:o.jsx(bE,{...i,ref:t})})}),I8=F.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[a=[],l]=zn({prop:n,defaultProp:r,onChange:s}),c=F.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=F.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return o.jsx(yE,{scope:e.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:c,onItemDeactivate:u,children:o.jsx(bE,{...i,ref:t})})});Hx.displayName=Ja;var[D8,F8]=vE(Ja),bE=F.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:s=!0,orientation:i,dir:a,loop:l=!0,...c}=e,u=xE(n),d=za(a),f={role:"group",dir:d,...c};return o.jsx(D8,{scope:n,rovingFocus:s,disabled:r,children:s?o.jsx(dx,{asChild:!0,...u,orientation:i,dir:d,loop:l,children:o.jsx(ae.div,{...f,ref:t})}):o.jsx(ae.div,{...f,ref:t})})}),lf="ToggleGroupItem",jE=F.forwardRef((e,t)=>{const n=wE(lf,e.__scopeToggleGroup),r=F8(lf,e.__scopeToggleGroup),s=xE(e.__scopeToggleGroup),i=n.value.includes(e.value),a=r.disabled||e.disabled,l={...e,pressed:i,disabled:a},c=F.useRef(null);return r.rovingFocus?o.jsx(fx,{asChild:!0,...s,focusable:!a,active:i,ref:c,children:o.jsx(lb,{...l,ref:t})}):o.jsx(lb,{...l,ref:t})});jE.displayName=lf;var lb=F.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...s}=e,i=wE(lf,n),a={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?a:void 0;return o.jsx(Wx,{...l,...s,ref:t,onPressedChange:c=>{c?i.onItemActivate(r):i.onItemDeactivate(r)}})}),_E=Hx,NE=jE;const SE=ni("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent border border-border/50",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),L8=m.forwardRef(({className:e,variant:t,size:n,...r},s)=>o.jsx(gE,{ref:s,className:Y(SE({variant:t,size:n,className:e})),...r}));L8.displayName=gE.displayName;const $8=ni("flex items-center justify-center gap-1",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2.5",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),CE=m.createContext({}),_c=m.forwardRef(({className:e,variant:t,size:n,children:r,...s},i)=>o.jsx(_E,{ref:i,className:Y($8({variant:t,size:n}),e),...s,children:o.jsx(CE.Provider,{value:{variant:t,size:n},children:r})}));_c.displayName=_E.displayName;const xn=m.forwardRef(({className:e,children:t,variant:n,size:r,...s},i)=>{const a=m.useContext(CE);return o.jsx(NE,{ref:i,className:Y(SE({variant:a.variant||n,size:a.size||r}),e),...s,children:t})});xn.displayName=NE.displayName;var U8="Separator",cb="horizontal",z8=["horizontal","vertical"],kE=m.forwardRef((e,t)=>{const{decorative:n,orientation:r=cb,...s}=e,i=B8(r)?r:cb,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(ae.div,{"data-orientation":i,...l,...s,ref:t})});kE.displayName=U8;function B8(e){return z8.includes(e)}var EE=kE;const Dr=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>o.jsx(EE,{ref:s,decorative:n,orientation:t,className:Y("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Dr.displayName=EE.displayName;const Vn=()=>{const{tenantId:e}=si();return{tenant:{id:e},tenantId:e}},PE=m.createContext(void 0),Co=class Co{constructor(){xt(this,"fetchInProgress",!1);xt(this,"lastFetchTime",0);xt(this,"cache",null);xt(this,"subscribers",new Set);xt(this,"currentData",[]);xt(this,"isLoading",!1);xt(this,"circuitBreakerOpen",!1);xt(this,"errorCount",0);xt(this,"lastError",0);xt(this,"activeRequests",new Map);xt(this,"strictModeGuard",new Set);xt(this,"backoffDelay",1e3)}static getInstance(){return Co.instance||(Co.instance=new Co),Co.instance}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}notifySubscribers(){setTimeout(()=>{this.subscribers.forEach(t=>{try{t()}catch(n){console.error("Error in ColorPresets subscriber callback:",n)}})},0)}getData(){return{data:[...this.currentData],loading:this.isLoading}}strictModeProtection(t,n){return!1}async fetchColorPresets(t,n=!1){if(!t||this.strictModeProtection(t,n))return;const r=`${t}_${n}`;if(this.activeRequests.has(r))return console.log(` Request already in flight for key: ${r}, returning existing promise`),this.activeRequests.get(r);const s=Date.now();if(this.circuitBreakerOpen){const a=Math.min(3e5,this.backoffDelay*Math.pow(2,this.errorCount-3));if(s-this.lastError<a){console.log(` CIRCUIT BREAKER OPEN - All requests blocked for ${Math.round(a/1e3)}s`);return}else console.log(" Attempting to reset circuit breaker"),this.circuitBreakerOpen=!1,this.errorCount=0,this.backoffDelay=1e3}if(this.fetchInProgress){console.log(" Global fetch already in progress, blocking duplicate request");return}if(!n&&this.cache&&s-this.cache.timestamp<6e4){console.log(" Using global cached color presets"),this.currentData=[...this.cache.data],this.isLoading=!1,this.notifySubscribers();return}if(!n&&s-this.lastFetchTime<5e3){console.log(" Global debounce blocking request");return}const i=this.performFetch(t,s);this.activeRequests.set(r,i);try{await i}finally{this.activeRequests.delete(r)}}async performFetch(t,n){console.log(" Starting global color presets fetch"),this.fetchInProgress=!0,this.lastFetchTime=n,this.isLoading=!0,this.notifySubscribers();try{const r=new AbortController,s=setTimeout(()=>r.abort(),15e3),i=await fetch("/api/color-presets/",{signal:r.signal,headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(clearTimeout(s),i.status===429)throw this.backoffDelay=Math.min(3e4,this.backoffDelay*2),new Error(`Rate limited - backing off for ${this.backoffDelay}ms`);if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);const a=await i.json();if(!Array.isArray(a))throw new Error("Invalid response format - expected array");const l=a.filter(c=>(c==null?void 0:c.is_active)&&(c==null?void 0:c.id)&&(c==null?void 0:c.color_name)).sort((c,u)=>c.color_name.localeCompare(u.color_name));this.errorCount=0,this.circuitBreakerOpen=!1,this.backoffDelay=1e3,this.cache={data:l,timestamp:n},this.currentData=l,console.log(` Global color presets fetch complete: ${l.length} presets`)}catch(r){this.errorCount++,this.lastError=n,console.error(` Global color presets fetch error (${this.errorCount}/3):`,r),this.errorCount>=3&&(this.circuitBreakerOpen=!0,this.backoffDelay=Math.min(3e4,this.backoffDelay*2),console.error(` CIRCUIT BREAKER OPENED - Stopping requests for ${this.backoffDelay}ms`))}finally{this.isLoading=!1,this.fetchInProgress=!1,this.notifySubscribers()}}clearCache(){this.cache=null,this.activeRequests.clear(),this.strictModeGuard.clear(),console.log(" ColorPresets cache cleared")}};xt(Co,"instance");let Eg=Co;const W8=({children:e})=>{const{tenant:t}=Vn(),{toast:n}=ke(),r=m.useRef();r.current||(r.current=Eg.getInstance());const[s,i]=m.useState(()=>r.current.getData());m.useEffect(()=>{const h=r.current;return h.subscribe(()=>{i(h.getData())})},[]);const a=m.useCallback(h=>{r.current.fetchColorPresets(h)},[]);m.useEffect(()=>{t!=null&&t.id&&a(t.id)},[t==null?void 0:t.id,a]);const l=m.useCallback((h,p)=>{if(p){const g=s.data.find(v=>v.color_name.toLowerCase()===h.toLowerCase()&&v.filament_type.toLowerCase()===p.toLowerCase());if(g)return g.hex_code}const y=s.data.find(g=>g.color_name.toLowerCase()===h.toLowerCase());return y?y.hex_code:"#6b7280"},[s.data]),c=m.useCallback(async(h,p,y)=>{if(!(t!=null&&t.id))return n({title:"Error",description:"User not authenticated",variant:"destructive"}),!1;try{const g=await fetch("/api/color-presets/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({color_name:h.trim(),hex_code:p,material_type:y,is_active:!0})});if(!g.ok)throw new Error(`Failed to create color preset: ${g.statusText}`);const v=await g.json();if(!v.success)throw new Error(v.message||"Failed to create color preset");return n({title:"Color Added",description:`${h} has been added to available colors.`}),await r.current.fetchColorPresets(t.id,!0),!0}catch(g){return console.error("Error creating color preset:",g),n({title:"Error",description:g instanceof Error?g.message:"Failed to save color preset.",variant:"destructive"}),!1}},[t==null?void 0:t.id,n]),u=m.useCallback(async(h,p,y,g)=>{try{const v=await fetch(`/api/color-presets/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({color_name:p.trim(),hex_code:y,material_type:g})});if(!v.ok)throw new Error(`Failed to update color preset: ${v.statusText}`);const x=await v.json();if(!x.success)throw new Error(x.message||"Failed to update color preset");return n({title:"Color Updated",description:"Color preset has been updated successfully."}),await r.current.fetchColorPresets((t==null?void 0:t.id)||"",!0),!0}catch(v){return console.error("Error updating color preset:",v),n({title:"Error",description:v instanceof Error?v.message:"Failed to update color preset.",variant:"destructive"}),!1}},[t==null?void 0:t.id,n]),d=m.useCallback(async h=>{if(!(t!=null&&t.id))return n({title:"Error",description:"User not authenticated",variant:"destructive"}),!1;try{const p=await fetch(`/api/color-presets/${h}`,{method:"DELETE"});if(!p.ok)throw new Error(`Failed to delete color preset: ${p.statusText}`);const y=await p.json();if(!y.success)throw new Error(y.message||"Failed to delete color preset");return n({title:"Color Removed",description:"Color preset has been permanently deleted."}),await r.current.fetchColorPresets(t.id,!0),!0}catch(p){return console.error("Error deleting color preset:",p),n({title:"Error",description:p instanceof Error?p.message:"Failed to remove color preset. Please try again.",variant:"destructive"}),!1}},[t==null?void 0:t.id,n]),f={colorPresets:s.data,loading:s.loading,getColorHex:l,refetch:()=>r.current.fetchColorPresets((t==null?void 0:t.id)||"",!0),createColorPreset:c,updateColorPreset:u,deleteColorPreset:d};return o.jsx(PE.Provider,{value:f,children:e})},go=()=>{const e=m.useContext(PE);if(!e)throw new Error("useColorPresetsContext must be used within a ColorPresetsProvider");return e},fn=({color:e,filamentType:t,size:n="sm",className:r})=>{const{getColorHex:s}=go(),i=c=>c&&c.includes("|")?c.split("|")[1]:c&&c.startsWith("#")?c:s(c,t),a={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},l=e.split("|")[0]||e;return o.jsx("div",{className:Y("rounded-full border border-gray-300 flex-shrink-0",a[n],r),style:{backgroundColor:i(e)},title:l})},Vx=({printer:e,onUpdatePrinter:t})=>{const[n,r]=m.useState(!1),{colorPresets:s,loading:i}=go(),{toast:a}=ke(),l=async(c,u,d)=>{try{if(!t)throw new Error("onUpdatePrinter function not provided");r(!1),await t(e.id,{currentColor:c,currentColorHex:u,currentFilamentType:d}),a({title:"Success",description:`${e.name} filament color updated to ${c}.`})}catch(f){console.error("Error updating printer color:",f),a({title:"Error",description:"Failed to update printer color.",variant:"destructive"})}};return i?o.jsx(L,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 opacity-50",children:o.jsx(Ad,{className:"h-2.5 w-2.5"})}):o.jsxs(dr,{open:n,onOpenChange:r,children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 hover:bg-black/10 transition-colors",children:o.jsx(Ad,{className:"h-2.5 w-2.5"})})}),o.jsx(Bn,{align:"end",className:"w-56 bg-background border shadow-lg z-50",children:s.length===0?o.jsx("div",{className:"p-3 text-sm text-muted-foreground text-center",children:"No color presets available"}):s.map(c=>o.jsxs(Ge,{onClick:()=>l(c.color_name,c.hex_code,c.filament_type),className:"flex items-center gap-3 cursor-pointer hover:bg-muted",children:[o.jsx(fn,{color:`${c.color_name}|${c.hex_code}`,size:"sm"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:c.color_name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:c.filament_type})]})]},c.id))})]})},km=e=>({id:e.id,name:e.name,fileSizeBytes:e.file_size_bytes,numberOfUnits:e.number_of_units,tenantId:e.tenant_id,createdAt:e.created_at,updatedAt:e.updated_at,size:e.file_size_bytes?`${(e.file_size_bytes/1024/1024).toFixed(1)} MB`:void 0,dateAdded:e.created_at?new Date(e.created_at).toLocaleDateString():void 0}),H8=e=>{const t={};return e.name!==void 0&&(t.name=e.name),e.fileSizeBytes!==void 0&&(t.file_size_bytes=e.fileSizeBytes),e.numberOfUnits!==void 0&&(t.number_of_units=e.numberOfUnits),e.tenantId!==void 0&&(t.tenant_id=e.tenantId),t},bi=e=>({id:e.id,printerId:e.printer_id,printFileId:e.print_file_id,fileName:e.file_name,status:e.status,color:e.color,filamentType:e.filament_type,materialType:e.material_type,numberOfUnits:e.number_of_units,filamentNeededGrams:e.filament_needed_grams,estimatedPrintTimeMinutes:e.estimated_print_time_minutes,actualPrintTimeMinutes:e.actual_print_time_minutes,progressPercentage:e.progress_percentage,priority:e.priority,submittedBy:e.submitted_by,timeSubmitted:e.time_submitted,timeStarted:e.time_started,timeCompleted:e.time_completed,failureReason:e.failure_reason,tenantId:e.tenant_id,createdAt:e.created_at,updatedAt:e.updated_at}),V8=e=>{const t={};return e.printerId!==void 0&&(t.printer_id=e.printerId),e.printFileId!==void 0&&(t.print_file_id=e.printFileId),e.fileName!==void 0&&(t.file_name=e.fileName),e.status!==void 0&&(t.status=e.status),e.color!==void 0&&(t.color=e.color),e.filamentType!==void 0&&(t.filament_type=e.filamentType),e.materialType!==void 0&&(t.material_type=e.materialType),e.numberOfUnits!==void 0&&(t.number_of_units=e.numberOfUnits),e.filamentNeededGrams!==void 0&&(t.filament_needed_grams=e.filamentNeededGrams),e.estimatedPrintTimeMinutes!==void 0&&(t.estimated_print_time_minutes=e.estimatedPrintTimeMinutes),e.actualPrintTimeMinutes!==void 0&&(t.actual_print_time_minutes=e.actualPrintTimeMinutes),e.progressPercentage!==void 0&&(t.progress_percentage=e.progressPercentage),e.priority!==void 0&&(t.priority=e.priority),e.submittedBy!==void 0&&(t.submitted_by=e.submittedBy),e.timeSubmitted!==void 0&&(t.time_submitted=e.timeSubmitted),e.timeStarted!==void 0&&(t.time_started=e.timeStarted),e.timeCompleted!==void 0&&(t.time_completed=e.timeCompleted),e.failureReason!==void 0&&(t.failure_reason=e.failureReason),e.tenantId!==void 0&&(t.tenant_id=e.tenantId),t},Em=e=>({id:e.id,orderNumber:e.order_number,platform:e.platform,customerName:e.customer_name,customerEmail:e.customer_email,orderDate:e.order_date,status:e.status,totalRevenue:e.total_revenue,shippingStreet:e.shipping_street,shippingCity:e.shipping_city,shippingState:e.shipping_state,shippingZip:e.shipping_zip,shippingCountry:e.shipping_country,tenantId:e.tenant_id,createdAt:e.created_at,updatedAt:e.updated_at}),ub=e=>({id:e.id,orderId:e.order_id,finishedGoodId:e.finished_good_id,sku:e.sku,productName:e.product_name,quantity:e.quantity,unitPrice:e.unit_price,totalPrice:e.total_price,createdAt:e.created_at}),q8=e=>{const t={};return e.orderNumber!==void 0&&(t.order_number=e.orderNumber),e.platform!==void 0&&(t.platform=e.platform),e.customerName!==void 0&&(t.customer_name=e.customerName),e.customerEmail!==void 0&&(t.customer_email=e.customerEmail),e.orderDate!==void 0&&(t.order_date=e.orderDate),e.status!==void 0&&(t.status=e.status),e.totalRevenue!==void 0&&(t.total_revenue=e.totalRevenue),e.shippingStreet!==void 0&&(t.shipping_street=e.shippingStreet),e.shippingCity!==void 0&&(t.shipping_city=e.shippingCity),e.shippingState!==void 0&&(t.shipping_state=e.shippingState),e.shippingZip!==void 0&&(t.shipping_zip=e.shippingZip),e.shippingCountry!==void 0&&(t.shipping_country=e.shippingCountry),e.tenantId!==void 0&&(t.tenant_id=e.tenantId),t},Pm=e=>({id:e.id,name:e.name,model:e.model,printerId:e.printer_id,manufacturer:e.manufacturer,status:e.status,currentColor:e.current_color,currentColorHex:e.current_color_hex,currentFilamentType:e.current_filament_type,location:e.location,firmwareVersion:e.firmware_version,totalPrintTime:e.total_print_time,lastMaintenanceDate:e.last_maintenance_date,isActive:e.is_active,serialNumber:e.serial_number,ipAddress:e.ip_address,ip:e.ip_address,serial:e.serial_number,accessCode:e.access_code,tenantId:e.tenant_id,createdAt:e.created_at,updatedAt:e.updated_at,enabled:e.is_active,connected:!1}),qx=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{toast:s}=ke(),{tenant:i}=Vn(),a=m.useCallback(async()=>{if(i!=null&&i.id)try{const f=await fetch("/api/printers-sync/");if(!f.ok)throw new Error(`Failed to fetch printers: ${f.statusText}`);const p=(await f.json()).map(Pm);try{const y=await fetch("/api/printers/status-quick",{signal:AbortSignal.timeout(3e3)});if(y.ok){const g=await y.json();if(g.success&&g.printers){const v=p.map(x=>{const w=g.printers.find(b=>{var j;return b.printer_id===((j=x.printerId)==null?void 0:j.toString())});return w?{...x,status:w.status,connected:w.connected}:x});t(v)}else t(p)}else t(p)}catch(y){console.warn("Failed to check immediate printer status, using database status:",y),t(p)}}catch(f){console.error("Error fetching printers:",f),s({title:"Error",description:"Failed to load printers from database.",variant:"destructive"}),t([])}finally{r(!1)}},[i==null?void 0:i.id,s]),l=async f=>{if(!(i!=null&&i.id))throw new Error("No tenant ID available");try{const h=await fetch("/api/printers-sync/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:f.name,model:f.model,manufacturer:f.manufacturer,ip_address:f.ipAddress,access_code:f.accessCode,serial_number:f.serialNumber,firmware_version:f.firmwareVersion,location:f.location,sort_order:f.sortOrder||0})});if(!h.ok)throw new Error(`Failed to add printer: ${h.statusText}`);const p=await h.json();if(!p.success)throw new Error(p.message||"Failed to add printer");const y=Pm(p.printer);return t(g=>[...g,y]),s({title:"Success",description:`${f.name} has been added to your fleet.`}),y}catch(h){throw console.error("Error adding printer:",h),s({title:"Error",description:h instanceof Error?h.message:"Failed to add printer.",variant:"destructive"}),h}},c=async(f,h)=>{try{const p={};h.name!==void 0&&(p.name=h.name),h.model!==void 0&&(p.model=h.model),h.manufacturer!==void 0&&(p.manufacturer=h.manufacturer),h.ipAddress!==void 0&&(p.ip_address=h.ipAddress),h.accessCode!==void 0&&(p.access_code=h.accessCode),h.serialNumber!==void 0&&(p.serial_number=h.serialNumber),h.firmwareVersion!==void 0&&(p.firmware_version=h.firmwareVersion),h.location!==void 0&&(p.location=h.location),h.sortOrder!==void 0&&(p.sort_order=h.sortOrder),h.status!==void 0&&(p.status=h.status),h.currentColor!==void 0&&(p.current_color=h.currentColor),h.currentColorHex!==void 0&&(p.current_color_hex=h.currentColorHex),h.currentFilamentType!==void 0&&(p.current_filament_type=h.currentFilamentType);const y=await fetch(`/api/printers-sync/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!y.ok)throw new Error(`Failed to update printer: ${y.statusText}`);const g=await y.json();if(!g.success)throw new Error(g.message||"Failed to update printer");const v=Pm(g.printer);return t(x=>x.map(w=>w.id===f?{...v,connected:w.connected,status:w.status}:w)),s({title:"Success",description:"Printer updated successfully."}),v}catch(p){throw console.error("Error updating printer:",p),s({title:"Error",description:p instanceof Error?p.message:"Failed to update printer.",variant:"destructive"}),p}},u=async f=>{try{const{error:h}=await G.from("printers").update({is_active:!1}).eq("id",f);if(h)throw h;t(p=>p.filter(y=>y.id!==f)),s({title:"Success",description:"Printer removed from fleet."})}catch(h){throw console.error("Error deleting printer:",h),s({title:"Error",description:"Failed to remove printer.",variant:"destructive"}),h}},d=async f=>{try{const h=f.map((p,y)=>({id:p.id,sort_order:y+1}));for(const p of h){const{error:y}=await G.from("printers").update({sort_order:p.sort_order}).eq("id",p.id);if(y)throw y}t(f)}catch(h){throw console.error("Error updating printer order:",h),s({title:"Error",description:"Failed to save printer order.",variant:"destructive"}),h}};return m.useEffect(()=>{if(!(i!=null&&i.id))return;const f=G.channel("printer-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"printers",filter:`tenant_id=eq.${i.id}`},h=>{console.log("Printer updated via real-time:",h),a()}).subscribe();return()=>{G.removeChannel(f)}},[i==null?void 0:i.id,a]),m.useEffect(()=>{i!=null&&i.id&&a()},[i==null?void 0:i.id,a]),{printers:e,loading:n,addPrinter:l,updatePrinter:c,deletePrinter:u,updatePrintersOrder:d,refetch:a}},K8=({printer:e,isOpen:t,onClose:n})=>{const[r,s]=m.useState(!1),[i,a]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[p,y]=m.useState(!1),[g,v]=m.useState(!1),[x,w]=m.useState(""),[b,j]=m.useState(""),[N,C]=m.useState(!1),[_,k]=m.useState(!1),{toast:E}=ke(),{updatePrinter:R,printers:M}=qx(),{data:O}=Nx(),A=m.useMemo(()=>M.find(Z=>Z.id===(e==null?void 0:e.id))||e,[M,e==null?void 0:e.id,e]),I=m.useMemo(()=>O==null?void 0:O.find($=>{var Z;return $.printer_id===((Z=A==null?void 0:A.printerId)==null?void 0:Z.toString())}),[O,A==null?void 0:A.printerId]);if(!A)return null;const W=$=>{switch($){case"printing":return"default";case"idle":return"secondary";case"maintenance":case"offline":return"destructive";default:return"outline"}},U=()=>{a(A.name),c(A.model),s(!0)},D=async()=>{try{await R(A.id,{name:i,model:l}),s(!1)}catch{}},S=()=>{s(!1),a(""),c("")},T=async()=>{if(!(!(A!=null&&A.id)||u)){d(!0);try{const $=J?"off":"on",Z=await fetch(`/api/printers/${A.printerId}/light/${$}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!Z.ok)throw new Error(`Failed to turn light ${$}`);const me=await Z.json();E({title:"Light Control",description:me.message||`Light turned ${$} successfully`})}catch($){console.error("Error controlling light:",$),E({title:"Error",description:"Failed to control printer light",variant:"destructive"})}finally{d(!1)}}},z=async()=>{if(!(!(A!=null&&A.id)||f)){h(!0);try{const $=await fetch(`/api/printers/${A.printerId}/home`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!$.ok)throw new Error("Failed to home printer");const Z=await $.json();E({title:"Home Command",description:Z.message||"Printer homing completed successfully"})}catch($){console.error("Error homing printer:",$),E({title:"Error",description:"Failed to home printer",variant:"destructive"})}finally{h(!1)}}},B=async()=>{if(!(A!=null&&A.id)||!x||N)return;const $=parseInt(x);if(isNaN($)||$<0||$>300){E({title:"Invalid Temperature",description:"Please enter a valid temperature between 0-300C",variant:"destructive"});return}C(!0);try{const Z=await fetch(`/api/printers/${A.printerId}/temp/nozzle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({temperature:$,wait:!1})});if(!Z.ok)throw new Error("Failed to set nozzle temperature");const me=await Z.json();E({title:"Temperature Set",description:`Nozzle temperature set to ${$}C`}),y(!1),w("")}catch(Z){console.error("Error setting nozzle temperature:",Z),E({title:"Error",description:"Failed to set nozzle temperature",variant:"destructive"})}finally{C(!1)}},H=async()=>{if(!(A!=null&&A.id)||!b||_)return;const $=parseInt(b);if(isNaN($)||$<0||$>120){E({title:"Invalid Temperature",description:"Please enter a valid temperature between 0-120C",variant:"destructive"});return}k(!0);try{const Z=await fetch(`/api/printers/${A.printerId}/temp/bed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({temperature:$,wait:!1})});if(!Z.ok)throw new Error("Failed to set bed temperature");const me=await Z.json();E({title:"Temperature Set",description:`Bed temperature set to ${$}C`}),v(!1),j("")}catch(Z){console.error("Error setting bed temperature:",Z),E({title:"Error",description:"Failed to set bed temperature",variant:"destructive"})}finally{k(!1)}},V=I?I.status:"offline",J=(I==null?void 0:I.light_on)||!1,X=I!=null&&I.temperatures?{nozzle:Math.round(I.temperatures.nozzle.current),bed:Math.round(I.temperatures.bed.current)}:{nozzle:210,bed:60};return o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"sm:max-w-[600px]",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(xa,{className:"h-5 w-5"}),r?"Edit Printer":`${A.name} Details`,!r&&o.jsx(re,{className:"!bg-[#00AE42] !text-white !border-0 ml-2",children:A.model})]})}),o.jsxs("div",{className:"space-y-6",children:[r&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{className:"text-sm font-medium text-muted-foreground",children:"Name"}),o.jsx(le,{value:i,onChange:$=>a($.target.value),placeholder:"Printer name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{className:"text-sm font-medium text-muted-foreground",children:"Model"}),o.jsx(le,{value:l,onChange:$=>c($.target.value),placeholder:"Printer model"})]})]}),!r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-8 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Current Status:"}),o.jsx(re,{variant:W(V),children:V})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:A.currentColorHex&&A.currentColor?`${A.currentColor}|${A.currentColorHex}`:"Black|#000000",size:"sm"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm mr-1",children:A.currentColor?A.currentColor.split("|")[0]:"None"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:A.currentFilamentType||"PLA"})]}),o.jsx(Vx,{printer:A})]})]}),V==="printing"?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"File:"}),o.jsx("span",{className:"text-sm font-medium",children:"Sample Print Job"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Time Remaining:"}),o.jsx("span",{className:"text-sm font-medium",children:"2h 15m"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Layers:"}),o.jsx("span",{className:"text-sm font-medium",children:"156/240"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Progress"}),o.jsx("span",{children:"65%"})]}),o.jsx(Wa,{value:65,className:"h-2"})]})]}):o.jsx("div",{className:"text-sm text-muted-foreground",children:"No active print job"})]}),o.jsx(Dr,{})]}),!r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Temperature Status"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lv,{className:"h-4 w-4 text-red-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Nozzle"}),p?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(le,{type:"number",value:x,onChange:$=>w($.target.value),placeholder:X.nozzle.toString(),className:"h-8 w-20 text-sm",min:"0",max:"300",onKeyDown:$=>{$.key==="Enter"&&B(),$.key==="Escape"&&(y(!1),w(""))},autoFocus:!0}),o.jsx("span",{className:"text-sm",children:"C"})]}):o.jsxs("p",{className:"text-lg font-medium",children:[X.nozzle,"C"]})]}),p?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(L,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:B,disabled:N||!x,title:"Confirm temperature",children:o.jsx(uc,{className:"h-3 w-3"})}),o.jsx(L,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>{y(!1),w("")},title:"Cancel",children:o.jsx(no,{className:"h-3 w-3"})})]}):o.jsx(L,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>{y(!0),w(X.nozzle.toString())},title:"Edit nozzle temperature",children:o.jsx(Ad,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vA,{className:"h-4 w-4 text-blue-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Bed"}),g?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(le,{type:"number",value:b,onChange:$=>j($.target.value),placeholder:X.bed.toString(),className:"h-8 w-20 text-sm",min:"0",max:"120",onKeyDown:$=>{$.key==="Enter"&&H(),$.key==="Escape"&&(v(!1),j(""))},autoFocus:!0}),o.jsx("span",{className:"text-sm",children:"C"})]}):o.jsxs("p",{className:"text-lg font-medium",children:[X.bed,"C"]})]}),g?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(L,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:H,disabled:_||!b,title:"Confirm temperature",children:o.jsx(uc,{className:"h-3 w-3"})}),o.jsx(L,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>{v(!1),j("")},title:"Cancel",children:o.jsx(no,{className:"h-3 w-3"})})]}):o.jsx(L,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>{v(!0),j(X.bed.toString())},title:"Edit bed temperature",children:o.jsx(Ad,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(L,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:z,disabled:f,title:f?"Homing...":"Home printer",children:o.jsx(sA,{className:"h-4 w-4"})}),o.jsx(L,{variant:"outline",size:"icon",className:`h-8 w-8 ${J?"bg-yellow-100 text-yellow-600 hover:bg-yellow-200":""}`,onClick:T,disabled:u,title:`Light is ${J?"ON":"OFF"} - Click to toggle`,children:o.jsx(cA,{className:"h-4 w-4"})})]})]})]}),o.jsx(Dr,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"System Info"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Print Time:"}),o.jsx("span",{children:"342h 15m"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Last Maintenance:"}),o.jsx("span",{children:"2 weeks ago"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Firmware:"}),o.jsx("span",{children:"v2.1.2"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Connection:"}),o.jsx("span",{className:"text-green-600",children:"Online"})]})]})]})]}),o.jsx("div",{className:"flex justify-end gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx(L,{variant:"outline",onClick:S,children:"Cancel"}),o.jsx(L,{onClick:D,children:"Save Changes"})]}):o.jsxs(o.Fragment,{children:[o.jsx(L,{variant:"outline",onClick:n,children:"Close"}),o.jsxs(L,{variant:"outline",onClick:U,children:[o.jsx(Od,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsx(L,{children:"Send G-Code"})]})})]})]})})},Jc=m.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:Y("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Jc.displayName="Textarea";const G8=({printer:e,isOpen:t,onClose:n})=>{const{toast:r}=ke(),[s,i]=m.useState(""),[a,l]=m.useState("");if(!e)return null;const c=()=>{if(!s){r({title:"Error",description:"Please select a maintenance type.",variant:"destructive"});return}r({title:"Maintenance Started",description:`${s} maintenance has been started for ${e.name}.`}),n()};return o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"sm:max-w-[500px]",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(to,{className:"h-5 w-5"}),"Start Maintenance - ",e.name]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsx(Fc,{className:"h-4 w-4 text-yellow-600"}),o.jsx("p",{className:"text-sm text-yellow-800",children:"This will put the printer in maintenance mode and pause any current jobs."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"maintenanceType",children:"Maintenance Type *"}),o.jsxs(Ye,{value:s,onValueChange:i,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select maintenance type"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"routine",children:"Routine Cleaning"}),o.jsx(fe,{value:"nozzle",children:"Nozzle Replacement"}),o.jsx(fe,{value:"bed-leveling",children:"Bed Leveling"}),o.jsx(fe,{value:"calibration",children:"Calibration"}),o.jsx(fe,{value:"firmware",children:"Firmware Update"}),o.jsx(fe,{value:"repair",children:"Repair"}),o.jsx(fe,{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"notes",children:"Notes"}),o.jsx(Jc,{id:"notes",value:a,onChange:u=>l(u.target.value),placeholder:"Add any additional notes about this maintenance...",rows:4})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(L,{variant:"outline",onClick:n,children:"Cancel"}),o.jsx(L,{onClick:c,children:"Start Maintenance"})]})]})]})})},TE=["Galaxy Black|#1a1a1a","Signal White|#ffffff","Transparent Blue|#3b82f6","Red|#ef4444","Green|#22c55e","Yellow|#eab308","Orange|#f97316","Purple|#a855f7"],Y8=e=>{switch(e){case"printing":return o.jsx(re,{className:"bg-blue-600 text-white hover:bg-blue-700",children:"Printing"});case"idle":return o.jsx(re,{className:"bg-green-600 text-white hover:bg-green-700",children:"Idle"});case"maintenance":case"offline":return o.jsx(re,{variant:"destructive",children:e.charAt(0).toUpperCase()+e.slice(1)});default:return o.jsx(re,{children:e})}},db=({printer:e,liveData:t,onViewDetails:n,onStartMaintenance:r,onUpdatePrinter:s,isDragging:i=!1})=>{const{attributes:a,listeners:l,setNodeRef:c,transform:u,transition:d}=mE({id:e.id}),f={transform:cs.Transform.toString(u),transition:d,zIndex:i?1e3:"auto"},h=(t==null?void 0:t.is_connected)??e.connected??!1,p=h?"connected":"offline",y=t?t.status:e.status==="offline"?"idle":e.status,g=()=>{switch(p){case"connected":return"bg-green-500";case"offline":return"bg-red-500";default:return"bg-muted"}},x=(()=>{if(t!=null&&t.temperatures)return{hotend:Math.round(t.temperatures.nozzle.current),bed:Math.round(t.temperatures.bed.current)};if(!h)return{hotend:0,bed:0};switch(y){case"printing":return{hotend:215,bed:60};case"idle":return{hotend:25,bed:25};case"maintenance":return{hotend:180,bed:0};default:return{hotend:25,bed:25}}})(),w=m.useMemo(()=>e.currentColorHex&&e.currentColor?`${e.currentColor}|${e.currentColorHex}`:TE[0],[e.currentColor,e.currentColorHex,e.id]),j=t!=null&&t.progress&&y==="printing"?t.progress.percentage:0,N=()=>{if(!h)return"Offline";switch(y){case"printing":return t!=null&&t.progress?`${j}% complete`:"Printing...";case"failed":return"Failed";case"cancelled":case"canceled":return"Canceled";case"idle":return"Ready";case"maintenance":return"Maintenance";default:return"Ready"}};return o.jsxs(se,{ref:c,style:f,className:`flex flex-col overflow-hidden ${i?"opacity-30":""} relative bg-gradient-to-br from-card to-card/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300`,children:[o.jsxs("div",{className:"h-12 flex items-center justify-between px-4",style:{backgroundColor:"#192A52"},children:[o.jsx("div",{className:"cursor-grab active:cursor-grabbing flex-shrink-0 touch-none p-1 -ml-1 rounded hover:bg-white/10 transition-colors",...a,...l,children:o.jsx(Dv,{className:"h-4 w-4 text-white"})}),o.jsx("h3",{className:"font-semibold text-white text-center flex-1 truncate px-4 cursor-pointer hover:text-white/80 transition-colors",onClick:()=>n(e),children:e.name}),o.jsxs(dr,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-white/20 text-white",children:o.jsx(P_,{className:"h-4 w-4"})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsx(Ge,{onClick:()=>n(e),children:"View Details"}),o.jsx(Ge,{onClick:()=>r(e),children:"Start Maintenance"})]})]})]}),o.jsxs("div",{className:"flex-1 p-4 space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${g()}`}),o.jsx("span",{className:"text-sm font-medium capitalize",children:p==="connected"?"Connected":"Offline"})]}),y==="printing"&&o.jsx("div",{className:"text-right space-y-1",children:o.jsx("div",{className:"text-xs text-muted-foreground",children:"31/74 layers"})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Wa,{value:y==="printing"?j:0,className:"h-2"}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:N()}),y==="printing"&&o.jsx("span",{children:"1hr 35m left"})]})]})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Hotend:"}),o.jsxs("span",{className:"font-medium",children:[x.hotend,"C"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Bed:"}),o.jsxs("span",{className:"font-medium",children:[x.bed,"C"]})]})]})}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:w,size:"sm"}),o.jsx("span",{className:"text-sm font-medium",children:w.split("|")[0]}),o.jsx("span",{className:"text-sm text-muted-foreground",children:e.currentFilamentType||"PLA"}),o.jsx(Vx,{printer:e,onUpdatePrinter:s})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"362g left"})]})]})]})},Q8=({printer:e,liveData:t,onViewDetails:n,onStartMaintenance:r,onUpdatePrinter:s})=>{const{attributes:i,listeners:a,setNodeRef:l,transform:c,transition:u}=mE({id:e.id}),d={transform:cs.Transform.toString(c),transition:u},h=(t==null?void 0:t.is_connected)??e.connected??!1?"connected":"offline";t?t.status:e.status==="offline"||e.status;const p=m.useMemo(()=>e.currentColorHex&&e.currentColor?`${e.currentColor}|${e.currentColorHex}`:TE[0],[e.currentColor,e.currentColorHex,e.id]);return o.jsxs(gr,{ref:l,style:d,children:[o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"cursor-grab active:cursor-grabbing",...i,...a,children:o.jsx(Dv,{className:"h-4 w-4 text-gray-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:e.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:e.model})]})]})}),o.jsx(Pe,{children:Y8(h==="connected"?"Connected":"Offline")}),o.jsx(Pe,{className:"truncate max-w-32",children:"N/A"}),o.jsx(Pe,{children:"N/A"}),o.jsx(Pe,{children:e.currentColor&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:p,size:"sm"}),o.jsx("span",{className:"truncate",children:p.split("|")[0]}),o.jsx("span",{className:"text-sm text-muted-foreground",children:e.currentFilamentType||"PLA"}),o.jsx(Vx,{printer:e,onUpdatePrinter:s})]})}),o.jsx(Pe,{children:o.jsxs(dr,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{"aria-haspopup":"true",size:"sm",variant:"outline",children:o.jsx(Vo,{className:"h-4 w-4"})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsx(Ge,{onClick:()=>n(e),children:"View Details"}),o.jsx(Ge,{onClick:()=>r(e),children:"Start Maintenance"})]})]})})]})},J8=()=>{const{printers:e,loading:t,addPrinter:n,updatePrinter:r,updatePrintersOrder:s}=qx(),{data:i,isConnected:a,isReconnecting:l}=Nx(),[c,u]=m.useState(!1),[d,f]=m.useState("grid"),[h,p]=m.useState(null),[y,g]=m.useState(!1),[v,x]=m.useState(!1),[w,b]=m.useState(null),[j,N]=m.useState("all"),[C,_]=m.useState({name:"",manufacturer:"",model:"",serialNumber:"",ipAddress:"",accessCode:""}),{toast:k}=ke(),E=Y6(Gw(Ux,{activationConstraint:{distance:8}}),Gw(Lx,{coordinateGetter:k8})),R=S=>{b(S.active.id)},M=async S=>{const{active:T,over:z}=S;if(b(null),T.id!==(z==null?void 0:z.id)){const B=e.findIndex(J=>J.id===T.id),H=e.findIndex(J=>J.id===z.id),V=Bx(e,B,H);try{await s(V),k({title:"Printer Order Updated",description:"The printer order has been saved."})}catch{}}},O=async()=>{if(!C.name||!C.manufacturer||!C.model){k({title:"Error",description:"Please fill in the required fields.",variant:"destructive"});return}try{await n({...C,status:"offline"}),_({name:"",manufacturer:"",model:"",serialNumber:"",ipAddress:"",accessCode:""}),u(!1)}catch{}},A=S=>{p(S),g(!0)},I=S=>{p(S),x(!0)},W=e.find(S=>S.id===w),U=S=>S?i==null?void 0:i.find(T=>T.printer_id===S.toString()):void 0,D=j==="all"?e:e.filter(S=>{const T=U(S.printerId),z=(T==null?void 0:T.is_connected)??S.connected??!1,B=T?T.status:S.status==="offline"?"idle":S.status;switch(j){case"printing":return B==="printing";case"idle":return z&&(B==="idle"||B==="ready");case"failed":return B==="failed"||B==="cancelled"||B==="canceled"||!z;case"needs-attention":return B==="maintenance";default:return!0}});return t?o.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading printers..."}):o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Printer Fleet"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your connected 3D printers."})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(_c,{type:"single",value:d,onValueChange:S=>S&&f(S),children:[o.jsx(xn,{value:"grid","aria-label":"Grid view",children:o.jsx(C_,{className:"h-4 w-4"})}),o.jsx(xn,{value:"list","aria-label":"List view",children:o.jsx(Lf,{className:"h-4 w-4"})})]}),o.jsxs(zt,{open:c,onOpenChange:u,children:[o.jsx(ek,{asChild:!0,children:o.jsxs(L,{children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Printer"]})}),o.jsxs(Et,{className:"sm:max-w-[425px]",children:[o.jsxs(Pt,{children:[o.jsx(Tt,{children:"Add New Printer"}),o.jsx(Qo,{children:"Add a new 3D printer to your fleet."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"name",className:"text-right",children:"Name *"}),o.jsx(le,{id:"name",value:C.name,onChange:S=>_({...C,name:S.target.value}),className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"manufacturer",className:"text-right",children:"Manufacturer *"}),o.jsxs(Ye,{value:C.manufacturer,onValueChange:S=>_({...C,manufacturer:S}),children:[o.jsx(He,{className:"col-span-3",children:o.jsx(Qe,{placeholder:"Select manufacturer"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"Bambu Labs",children:"Bambu Labs"}),o.jsx(fe,{value:"Other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"model",className:"text-right",children:"Model *"}),o.jsxs(Ye,{value:C.model,onValueChange:S=>_({...C,model:S}),children:[o.jsx(He,{className:"col-span-3",children:o.jsx(Qe,{placeholder:"Select model"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"A1 Mini",children:"A1 Mini"}),o.jsx(fe,{value:"A1",children:"A1"}),o.jsx(fe,{value:"P1P",children:"P1P"}),o.jsx(fe,{value:"P1S",children:"P1S"}),o.jsx(fe,{value:"X1C",children:"X1C"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"serial_number",className:"text-right",children:"Serial Number"}),o.jsx(le,{id:"serial_number",value:C.serialNumber,onChange:S=>_({...C,serialNumber:S.target.value}),className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"ip_address",className:"text-right",children:"IP Address"}),o.jsx(le,{id:"ip_address",value:C.ipAddress,onChange:S=>_({...C,ipAddress:S.target.value}),className:"col-span-3",placeholder:"192.168.1.100"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"access_code",className:"text-right",children:"Access Code"}),o.jsx(le,{id:"access_code",value:C.accessCode,onChange:S=>_({...C,accessCode:S.target.value}),className:"col-span-3"})]})]}),o.jsx(hr,{children:o.jsx(L,{type:"submit",onClick:O,children:"Add Printer"})})]})]})]})]}),o.jsx("div",{className:"mb-4",children:o.jsxs(_c,{type:"single",value:j,onValueChange:S=>S&&N(S),className:"justify-start",children:[o.jsx(xn,{value:"all","aria-label":"All Printers",className:"data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:"All Printers"}),o.jsx(xn,{value:"printing","aria-label":"Printing",className:"data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:"Printing"}),o.jsx(xn,{value:"idle","aria-label":"Idle",className:"data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:"Idle"}),o.jsx(xn,{value:"failed","aria-label":"Failed",className:"data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:"Failed"}),o.jsx(xn,{value:"needs-attention","aria-label":"Needs Attention",className:"data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:"Needs Attention"})]})}),D.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx("div",{className:"mx-auto w-24 h-24 bg-muted rounded-full flex items-center justify-center mb-4",children:o.jsx(at,{className:"h-12 w-12 text-muted-foreground"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No printers found"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm",children:j==="all"?"You haven't added any printers to your fleet yet. Add your first printer to get started.":`No printers match the "${j}" filter. Try selecting a different filter or add a new printer.`}),j==="all"||e.length===0?o.jsxs(L,{onClick:()=>u(!0),children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Your First Printer"]}):o.jsx(L,{onClick:()=>N("all"),children:"See All Printers"})]}):o.jsxs(KU,{sensors:E,collisionDetection:X6,onDragStart:R,onDragEnd:M,children:[o.jsx(x8,{items:D,strategy:g8,children:d==="grid"?o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:D.map(S=>o.jsx(db,{printer:S,liveData:U(S.printerId),onViewDetails:A,onStartMaintenance:I,onUpdatePrinter:r},S.id))}):o.jsx("div",{className:"rounded-md border",children:o.jsxs(Ga,{children:[o.jsx(Ya,{children:o.jsxs(gr,{children:[o.jsx(Re,{children:"Printer"}),o.jsx(Re,{children:"Status"}),o.jsx(Re,{children:"Current Job"}),o.jsx(Re,{children:"Time Left"}),o.jsx(Re,{children:"Material"}),o.jsx(Re,{children:"Actions"})]})}),o.jsx(Qa,{children:D.map(S=>o.jsx(Q8,{printer:S,liveData:U(S.printerId),onViewDetails:A,onStartMaintenance:I,onUpdatePrinter:r},S.id))})]})})}),o.jsx(f8,{children:w&&W?d==="grid"?o.jsx(db,{printer:W,onViewDetails:A,onStartMaintenance:I,isDragging:!1}):o.jsx("div",{className:"bg-background border rounded-md p-4 shadow-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dv,{className:"h-4 w-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:W.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:W.model})]})]})}):null})]}),o.jsx(K8,{printer:h?e.find(S=>S.id===h.id)||h:null,isOpen:y,onClose:()=>g(!1)}),o.jsx(G8,{printer:h,isOpen:v,onClose:()=>x(!1)})]})};var Kx="Tabs",[X8,PH]=Hn(Kx,[Ba]),RE=Ba(),[Z8,Gx]=X8(Kx),ME=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=za(l),[f,h]=zn({prop:r,onChange:s,defaultProp:i});return o.jsx(Z8,{scope:n,baseId:ir(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:o.jsx(ae.div,{dir:d,"data-orientation":a,...u,ref:t})})});ME.displayName=Kx;var AE="TabsList",OE=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Gx(AE,n),a=RE(n);return o.jsx(dx,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(ae.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});OE.displayName=AE;var IE="TabsTrigger",DE=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=Gx(IE,n),l=RE(n),c=$E(a.baseId,r),u=UE(a.baseId,r),d=r===a.value;return o.jsx(fx,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:K(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:K(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:K(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});DE.displayName=IE;var FE="TabsContent",LE=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,l=Gx(FE,n),c=$E(l.baseId,r),u=UE(l.baseId,r),d=r===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Rt,{present:s||d,children:({present:h})=>o.jsx(ae.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});LE.displayName=FE;function $E(e,t){return`${e}-trigger-${t}`}function UE(e,t){return`${e}-content-${t}`}var ez=ME,zE=OE,BE=DE,WE=LE;const Xa=ez,ai=m.forwardRef(({className:e,...t},n)=>o.jsx(zE,{ref:n,className:Y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ai.displayName=zE.displayName;const mt=m.forwardRef(({className:e,...t},n)=>o.jsx(BE,{ref:n,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mt.displayName=BE.displayName;const $t=m.forwardRef(({className:e,...t},n)=>o.jsx(WE,{ref:n,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));$t.displayName=WE.displayName;const tz=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{tenant:s}=Vn(),{toast:i}=ke(),a=async()=>{try{r(!0);const{data:y,error:g}=await G.from("worklist_tasks").select("*").eq("tenant_id",(s==null?void 0:s.id)||"550e8400-e29b-41d4-a716-446655440000").order("created_at",{ascending:!1});if(g)throw g;t(y||[])}catch(y){console.error("Error fetching worklist tasks:",y),i({title:"Error",description:"Failed to load worklist tasks",variant:"destructive"})}finally{r(!1)}},l=async(y,g)=>{try{const v={status:g};if(g==="in_progress")v.started_at=new Date().toISOString(),v.completed_at=null,v.actual_time_minutes=null;else if(g==="completed"){v.completed_at=new Date().toISOString();const w=e.find(b=>b.id===y);if(w!=null&&w.started_at){const b=new Date(w.started_at),j=new Date;v.actual_time_minutes=Math.floor((j.getTime()-b.getTime())/(1e3*60))}}else g==="cancelled"&&(v.completed_at=null,v.actual_time_minutes=null);const{error:x}=await G.from("worklist_tasks").update(v).eq("id",y);if(x)throw x;i({title:"Success",description:`Task ${g==="cancelled"?"cancelled":`marked as ${g.replace("_"," ")}`}`}),await a()}catch(v){console.error("Error updating task status:",v),i({title:"Error",description:"Failed to update task status",variant:"destructive"})}},c=async y=>{await l(y,"cancelled")},u=async y=>{await l(y,"in_progress")},d=async y=>{await l(y,"completed")},f=async y=>{try{const{error:g}=await G.from("worklist_tasks").insert({...y,tenant_id:(s==null?void 0:s.id)||"550e8400-e29b-41d4-a716-446655440000",task_type:y.task_type||"collection",title:y.title||"New Task"});if(g)throw g;i({title:"Success",description:"Task created successfully"}),await a()}catch(g){console.error("Error creating task:",g),i({title:"Error",description:"Failed to create task",variant:"destructive"})}},h=async(y,g)=>{try{const{error:v}=await G.from("worklist_tasks").update({assigned_to:g}).eq("id",y);if(v)throw v;i({title:"Success",description:"Task assigned successfully"}),await a()}catch(v){console.error("Error assigning task:",v),i({title:"Error",description:"Failed to assign task",variant:"destructive"})}},p=y=>{const g=new Date(y);return Math.floor((new Date().getTime()-g.getTime())/(1e3*60))};return m.useEffect(()=>{a()},[]),m.useEffect(()=>{const y=G.channel("worklist-tasks-changes").on("postgres_changes",{event:"*",schema:"public",table:"worklist_tasks"},()=>{a()}).subscribe();return()=>{G.removeChannel(y)}},[]),{tasks:e,loading:n,updateTaskStatus:l,cancelTask:c,startTask:u,completeTask:d,createTask:f,assignTask:h,getElapsedTime:p,refetch:a}},Yx=6048e5,nz=864e5,HE=6e4,VE=36e5,fb=Symbol.for("constructDateFrom");function gt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&fb in e?e[fb](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ee(e,t){return gt(t||e,e)}function Gt(e,t,n){const r=Ee(e,n==null?void 0:n.in);return isNaN(t)?gt((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function vr(e,t,n){const r=Ee(e,n==null?void 0:n.in);if(isNaN(t))return gt((n==null?void 0:n.in)||e,NaN);if(!t)return r;const s=r.getDate(),i=gt((n==null?void 0:n.in)||e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return s>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let rz={};function Xc(){return rz}function Lr(e,t){var l,c,u,d;const n=Xc(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ee(e,t==null?void 0:t.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Xo(e,t){return Lr(e,{...t,weekStartsOn:1})}function qE(e,t){const n=Ee(e,t==null?void 0:t.in),r=n.getFullYear(),s=gt(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Xo(s),a=gt(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Xo(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function cf(e){const t=Ee(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Za(e,...t){const n=gt.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function _a(e,t){const n=Ee(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Mr(e,t,n){const[r,s]=Za(n==null?void 0:n.in,e,t),i=_a(r),a=_a(s),l=+i-cf(i),c=+a-cf(a);return Math.round((l-c)/nz)}function sz(e,t){const n=qE(e,t),r=gt(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Xo(r)}function Pg(e,t,n){return Gt(e,t*7,n)}function oz(e,t,n){return vr(e,t*12,n)}function iz(e,t){let n,r=t==null?void 0:t.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=gt.bind(null,s));const i=Ee(s,r);(!n||n<i||isNaN(+i))&&(n=i)}),gt(r,n||NaN)}function az(e,t){let n,r=t==null?void 0:t.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=gt.bind(null,s));const i=Ee(s,r);(!n||n>i||isNaN(+i))&&(n=i)}),gt(r,n||NaN)}function an(e,t,n){const[r,s]=Za(n==null?void 0:n.in,e,t);return+_a(r)==+_a(s)}function Qx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function lz(e){return!(!Qx(e)&&typeof e!="number"||isNaN(+Ee(e)))}function Nc(e,t,n){const[r,s]=Za(n==null?void 0:n.in,e,t),i=r.getFullYear()-s.getFullYear(),a=r.getMonth()-s.getMonth();return i*12+a}function cz(e,t,n){const[r,s]=Za(n==null?void 0:n.in,e,t),i=Lr(r,n),a=Lr(s,n),l=+i-cf(i),c=+a-cf(a);return Math.round((l-c)/Yx)}function Jx(e,t){const n=Ee(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function dn(e,t){const n=Ee(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function KE(e,t){const n=Ee(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Xx(e,t){var l,c,u,d;const n=Xc(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ee(e,t==null?void 0:t.in),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function GE(e,t){return Xx(e,{...t,weekStartsOn:1})}const uz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dz=(e,t,n)=>{let r;const s=uz[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Tm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const fz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pz={date:Tm({formats:fz,defaultWidth:"full"}),time:Tm({formats:hz,defaultWidth:"full"}),dateTime:Tm({formats:mz,defaultWidth:"full"})},gz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vz=(e,t,n,r)=>gz[e];function xl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const xz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_z={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Nz=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Sz={ordinalNumber:Nz,era:xl({values:xz,defaultWidth:"wide"}),quarter:xl({values:yz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xl({values:wz,defaultWidth:"wide"}),day:xl({values:bz,defaultWidth:"wide"}),dayPeriod:xl({values:jz,defaultWidth:"wide",formattingValues:_z,defaultFormattingWidth:"wide"})};function yl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?kz(l,f=>f.test(a)):Cz(l,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function Cz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function kz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Ez(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const Pz=/^(\d+)(th|st|nd|rd)?/i,Tz=/\d+/i,Rz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mz={any:[/^b/i,/^(a|c)/i]},Az={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Oz={any:[/1/i,/2/i,/3/i,/4/i]},Iz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Lz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$z={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zz={ordinalNumber:Ez({matchPattern:Pz,parsePattern:Tz,valueCallback:e=>parseInt(e,10)}),era:yl({matchPatterns:Rz,defaultMatchWidth:"wide",parsePatterns:Mz,defaultParseWidth:"any"}),quarter:yl({matchPatterns:Az,defaultMatchWidth:"wide",parsePatterns:Oz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yl({matchPatterns:Iz,defaultMatchWidth:"wide",parsePatterns:Dz,defaultParseWidth:"any"}),day:yl({matchPatterns:Fz,defaultMatchWidth:"wide",parsePatterns:Lz,defaultParseWidth:"any"}),dayPeriod:yl({matchPatterns:$z,defaultMatchWidth:"any",parsePatterns:Uz,defaultParseWidth:"any"})},YE={code:"en-US",formatDistance:dz,formatLong:pz,formatRelative:vz,localize:Sz,match:zz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bz(e,t){const n=Ee(e,t==null?void 0:t.in);return Mr(n,KE(n))+1}function QE(e,t){const n=Ee(e,t==null?void 0:t.in),r=+Xo(n)-+sz(n);return Math.round(r/Yx)+1}function JE(e,t){var d,f,h,p;const n=Ee(e,t==null?void 0:t.in),r=n.getFullYear(),s=Xc(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=gt((t==null?void 0:t.in)||e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Lr(a,t),c=gt((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Lr(c,t);return+n>=+l?r+1:+n>=+u?r:r-1}function Wz(e,t){var l,c,u,d;const n=Xc(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=JE(e,t),i=gt((t==null?void 0:t.in)||e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Lr(i,t)}function XE(e,t){const n=Ee(e,t==null?void 0:t.in),r=+Lr(n,t)-+Wz(n,t);return Math.round(r/Yx)+1}function Ae(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ws={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ae(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ae(n+1,2)},d(e,t){return Ae(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ae(e.getHours()%12||12,t.length)},H(e,t){return Ae(e.getHours(),t.length)},m(e,t){return Ae(e.getMinutes(),t.length)},s(e,t){return Ae(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ae(s,t.length)}},ji={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ws.y(e,t)},Y:function(e,t,n,r){const s=JE(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Ae(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ae(i,t.length)},R:function(e,t){const n=qE(e);return Ae(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ae(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ae(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ae(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ws.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ae(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=XE(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ae(s,t.length)},I:function(e,t,n){const r=QE(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ae(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ws.d(e,t)},D:function(e,t,n){const r=Bz(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ae(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ae(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ae(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ae(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=ji.noon:r===0?s=ji.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=ji.evening:r>=12?s=ji.afternoon:r>=4?s=ji.morning:s=ji.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ws.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ws.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ae(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ae(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ws.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ws.s(e,t)},S:function(e,t){return ws.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return pb(r);case"XXXX":case"XX":return No(r);case"XXXXX":case"XXX":default:return No(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return pb(r);case"xxxx":case"xx":return No(r);case"xxxxx":case"xxx":default:return No(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mb(r,":");case"OOOO":default:return"GMT"+No(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mb(r,":");case"zzzz":default:return"GMT"+No(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Ae(r,t.length)},T:function(e,t,n){return Ae(+e,t.length)}};function mb(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+Ae(i,2)}function pb(e,t){return e%60===0?(e>0?"-":"+")+Ae(Math.abs(e)/60,2):No(e,t)}function No(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ae(Math.trunc(r/60),2),i=Ae(r%60,2);return n+s+t+i}const gb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ZE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Hz=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return gb(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",gb(r,t)).replace("{{time}}",ZE(s,t))},Vz={p:ZE,P:Hz},qz=/^D+$/,Kz=/^Y+$/,Gz=["D","DD","YY","YYYY"];function Yz(e){return qz.test(e)}function Qz(e){return Kz.test(e)}function Jz(e,t,n){const r=Xz(e,t,n);if(console.warn(r),Gz.includes(e))throw new RangeError(r)}function Xz(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Zz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tB=/^'([^]*?)'?$/,nB=/''/g,rB=/[a-zA-Z]/;function Wn(e,t,n){var d,f,h,p,y,g,v,x;const r=Xc(),s=(n==null?void 0:n.locale)??r.locale??YE,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((g=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((x=(v=r.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=Ee(e,n==null?void 0:n.in);if(!lz(l))throw new RangeError("Invalid time value");let c=t.match(eB).map(w=>{const b=w[0];if(b==="p"||b==="P"){const j=Vz[b];return j(w,s.formatLong)}return w}).join("").match(Zz).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:sB(w)};if(hb[b])return{isToken:!0,value:w};if(b.match(rB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Qz(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Yz(b))&&Jz(b,t,String(e));const j=hb[b[0]];return j(l,b,s.localize,u)}).join("")}function sB(e){const t=e.match(tB);return t?t[1].replace(nB,"'"):e}function oB(e,t){const n=Ee(e,t==null?void 0:t.in),r=n.getFullYear(),s=n.getMonth(),i=gt(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function iB(e){return Math.trunc(+Ee(e)/1e3)}function aB(e,t){const n=Ee(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(0,0,0,0),Ee(n,t==null?void 0:t.in)}function lB(e,t){const n=Ee(e,t==null?void 0:t.in);return cz(aB(n,t),dn(n,t),t)+1}function Tg(e,t){return+Ee(e)>+Ee(t)}function e2(e,t){return+Ee(e)<+Ee(t)}function Zx(e,t,n){const[r,s]=Za(n==null?void 0:n.in,e,t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function cB(e,t,n){const[r,s]=Za(n==null?void 0:n.in,e,t);return r.getFullYear()===s.getFullYear()}function Gi(e,t,n){const r=+Ee(e,n==null?void 0:n.in),[s,i]=[+Ee(t.start,n==null?void 0:n.in),+Ee(t.end,n==null?void 0:n.in)].sort((a,l)=>a-l);return r>=s&&r<=i}function $o(e,t,n){return Gt(e,-t,n)}function Yi(e,t){const n=()=>gt(t==null?void 0:t.in,NaN),s=hB(e);let i;if(s.date){const u=mB(s.date,2);i=pB(u.restDateString,u.year)}if(!i||isNaN(+i))return n();const a=+i;let l=0,c;if(s.time&&(l=gB(s.time),isNaN(l)))return n();if(s.timezone){if(c=vB(s.timezone),isNaN(c))return n()}else{const u=new Date(a+l),d=Ee(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Ee(a+l+c,t==null?void 0:t.in)}const Uu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},uB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fB=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hB(e){const t={},n=e.split(Uu.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Uu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Uu.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=Uu.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function mB(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function pB(e,t){if(t===null)return new Date(NaN);const n=e.match(uB);if(!n)return new Date(NaN);const r=!!n[4],s=wl(n[1]),i=wl(n[2])-1,a=wl(n[3]),l=wl(n[4]),c=wl(n[5])-1;if(r)return jB(t,l,c)?xB(t,l,c):new Date(NaN);{const u=new Date(0);return!wB(t,i,a)||!bB(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,a)),u)}}function wl(e){return e?parseInt(e):1}function gB(e){const t=e.match(dB);if(!t)return NaN;const n=Rm(t[1]),r=Rm(t[2]),s=Rm(t[3]);return _B(n,r,s)?n*VE+r*HE+s*1e3:NaN}function Rm(e){return e&&parseFloat(e.replace(",","."))||0}function vB(e){if(e==="Z")return 0;const t=e.match(fB);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return NB(r,s)?n*(r*VE+s*HE):NaN}function xB(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const yB=[31,null,31,30,31,30,31,31,30,31,30,31];function t2(e){return e%400===0||e%4===0&&e%100!==0}function wB(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(yB[t]||(t2(e)?29:28))}function bB(e,t){return t>=1&&t<=(t2(e)?366:365)}function jB(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function _B(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function NB(e,t){return t>=0&&t<=59}function Mm(e,t,n){const r=Ee(e,n==null?void 0:n.in),s=r.getFullYear(),i=r.getDate(),a=gt(e,0);a.setFullYear(s,t,15),a.setHours(0,0,0,0);const l=oB(a);return r.setMonth(t,Math.min(i,l)),r}function vb(e,t,n){const r=Ee(e,n==null?void 0:n.in);return isNaN(+r)?gt(e,NaN):(r.setFullYear(t),r)}var he=function(){return he=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},he.apply(this,arguments)};function SB(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function n2(e,t,n){for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Zc(e){return e.mode==="multiple"}function eu(e){return e.mode==="range"}function vh(e){return e.mode==="single"}var CB={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function kB(e,t){return Wn(e,"LLLL y",t)}function EB(e,t){return Wn(e,"d",t)}function PB(e,t){return Wn(e,"LLLL",t)}function TB(e){return"".concat(e)}function RB(e,t){return Wn(e,"cccccc",t)}function MB(e,t){return Wn(e,"yyyy",t)}var AB=Object.freeze({__proto__:null,formatCaption:kB,formatDay:EB,formatMonthCaption:PB,formatWeekNumber:TB,formatWeekdayName:RB,formatYearCaption:MB}),OB=function(e,t,n){return Wn(e,"do MMMM (EEEE)",n)},IB=function(){return"Month: "},DB=function(){return"Go to next month"},FB=function(){return"Go to previous month"},LB=function(e,t){return Wn(e,"cccc",t)},$B=function(e){return"Week n. ".concat(e)},UB=function(){return"Year: "},zB=Object.freeze({__proto__:null,labelDay:OB,labelMonthDropdown:IB,labelNext:DB,labelPrevious:FB,labelWeekNumber:$B,labelWeekday:LB,labelYearDropdown:UB});function BB(){var e="buttons",t=CB,n=YE,r={},s={},i=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:AB,labels:zB,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:a,today:l,mode:"default"}}function WB(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,i=e.fromDate,a=e.toDate;return r?i=dn(r):t&&(i=new Date(t,0,1)),s?a=Jx(s):n&&(a=new Date(n,11,31)),{fromDate:i?_a(i):void 0,toDate:a?_a(a):void 0}}var r2=m.createContext(void 0);function HB(e){var t,n=e.initialProps,r=BB(),s=WB(n),i=s.fromDate,a=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(vh(n)||Zc(n)||eu(n))&&(c=n.onSelect);var u=he(he(he({},r),n),{captionLayout:l,classNames:he(he({},r.classNames),n.classNames),components:he({},n.components),formatters:he(he({},r.formatters),n.formatters),fromDate:i,labels:he(he({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:he(he({},r.modifiers),n.modifiers),modifiersClassNames:he(he({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:he(he({},r.styles),n.styles),toDate:a});return o.jsx(r2.Provider,{value:u,children:e.children})}function Ue(){var e=m.useContext(r2);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function s2(e){var t=Ue(),n=t.locale,r=t.classNames,s=t.styles,i=t.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function VB(e){return o.jsx("svg",he({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function o2(e){var t,n,r=e.onChange,s=e.value,i=e.children,a=e.caption,l=e.className,c=e.style,u=Ue(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:VB;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function qB(e){var t,n=Ue(),r=n.fromDate,s=n.toDate,i=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var f=[];if(cB(r,s))for(var h=dn(r),p=r.getMonth();p<=s.getMonth();p++)f.push(Mm(h,p));else for(var h=dn(new Date),p=0;p<=11;p++)f.push(Mm(h,p));var y=function(v){var x=Number(v.target.value),w=Mm(dn(e.displayMonth),x);e.onChange(w)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:o2;return o.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:a})},v.getMonth())})})}function KB(e){var t,n=e.displayMonth,r=Ue(),s=r.fromDate,i=r.toDate,a=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var p=s.getFullYear(),y=i.getFullYear(),g=p;g<=y;g++)h.push(vb(KE(new Date),g));var v=function(w){var b=vb(dn(n),Number(w.target.value));e.onChange(b)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:o2;return o.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:n.getFullYear(),caption:d(n,{locale:a}),children:h.map(function(w){return o.jsx("option",{value:w.getFullYear(),children:d(w,{locale:a})},w.getFullYear())})})}function GB(e,t){var n=m.useState(e),r=n[0],s=n[1],i=t===void 0?r:t;return[i,s]}function YB(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,i=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Nc(i,s)<0){var u=-1*(c-1);s=vr(i,u)}return a&&Nc(s,a)<0&&(s=a),dn(s)}function QB(){var e=Ue(),t=YB(e),n=GB(t,e.month),r=n[0],s=n[1],i=function(a){var l;if(!e.disableNavigation){var c=dn(a);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function JB(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=dn(e),i=dn(vr(s,r)),a=Nc(i,s),l=[],c=0;c<a;c++){var u=vr(s,c);l.push(u)}return n&&(l=l.reverse()),l}function XB(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=dn(e);if(!n)return vr(l,a);var c=Nc(n,e);if(!(c<i))return vr(l,a)}}function ZB(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=dn(e);if(!n)return vr(l,-a);var c=Nc(l,n);if(!(c<=0))return vr(l,-a)}}var i2=m.createContext(void 0);function e9(e){var t=Ue(),n=QB(),r=n[0],s=n[1],i=JB(r,t),a=XB(r,t),l=ZB(r,t),c=function(f){return i.some(function(h){return Zx(f,h)})},u=function(f,h){c(f)||(h&&e2(f,h)?s(vr(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(i2.Provider,{value:d,children:e.children})}function tu(){var e=m.useContext(i2);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function xb(e){var t,n=Ue(),r=n.classNames,s=n.styles,i=n.components,a=tu().goToMonth,l=function(d){a(vr(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:s2,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:u}),o.jsx(qB,{onChange:l,displayMonth:e.displayMonth}),o.jsx(KB,{onChange:l,displayMonth:e.displayMonth})]})}function t9(e){return o.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function n9(e){return o.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var uf=m.forwardRef(function(e,t){var n=Ue(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var a=i.join(" "),l=he(he({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),o.jsx("button",he({},e,{ref:t,type:"button",className:a,style:l}))});function r9(e){var t,n,r=Ue(),s=r.dir,i=r.locale,a=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:i}),p=[a.nav_button,a.nav_button_previous].join(" "),y=d(e.nextMonth,{locale:i}),g=[a.nav_button,a.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:n9,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:t9;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(uf,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?o.jsx(v,{className:a.nav_icon,style:l.nav_icon}):o.jsx(x,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(uf,{name:"next-month","aria-label":y,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?o.jsx(x,{className:a.nav_icon,style:l.nav_icon}):o.jsx(v,{className:a.nav_icon,style:l.nav_icon})})]})}function yb(e){var t=Ue().numberOfMonths,n=tu(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(y){return Zx(e.displayMonth,y)}),c=l===0,u=l===a.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){r&&i(r)},p=function(){s&&i(s)};return o.jsx(r9,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:h,onNextClick:p})}function s9(e){var t,n=Ue(),r=n.classNames,s=n.disableNavigation,i=n.styles,a=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:s2,u;return s?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=o.jsx(xb,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(xb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(yb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(yb,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:r.caption,style:i.caption,children:u})}function o9(e){var t=Ue(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?o.jsx("tfoot",{className:s,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function i9(e,t,n){for(var r=n?Xo(new Date):Lr(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var a=Gt(r,i);s.push(a)}return s}function a9(){var e=Ue(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=i9(s,i,a);return o.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function l9(){var e,t=Ue(),n=t.classNames,r=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:a9;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(i,{})})}function c9(e){var t=Ue(),n=t.locale,r=t.formatters.formatDay;return o.jsx(o.Fragment,{children:r(e.date,{locale:n})})}var ey=m.createContext(void 0);function u9(e){if(!Zc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(ey.Provider,{value:t,children:e.children})}return o.jsx(d9,{initialProps:e.initialProps,children:e.children})}function d9(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,i=t.max,a=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var g=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!g){var v=r?n2([],r):[];if(d.selected){var x=v.findIndex(function(w){return an(u,w)});v.splice(x,1)}else v.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,v,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,f=r.some(function(h){return an(h,u)});return!!(d&&!f)});var c={selected:r,onDayClick:a,modifiers:l};return o.jsx(ey.Provider,{value:c,children:n})}function ty(){var e=m.useContext(ey);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function f9(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?an(s,e)&&an(r,e)?void 0:an(s,e)?{from:s,to:void 0}:an(r,e)?void 0:Tg(r,e)?{from:e,to:s}:{from:r,to:e}:s?Tg(e,s)?{from:s,to:e}:{from:e,to:s}:r?e2(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var ny=m.createContext(void 0);function h9(e){if(!eu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(ny.Provider,{value:t,children:e.children})}return o.jsx(m9,{initialProps:e.initialProps,children:e.children})}function m9(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},i=s.from,a=s.to,l=t.min,c=t.max,u=function(p,y,g){var v,x;(v=t.onDayClick)===null||v===void 0||v.call(t,p,y,g);var w=f9(p,r);(x=t.onSelect)===null||x===void 0||x.call(t,w,p,y,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],an(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),l&&(i&&!a&&d.disabled.push({after:$o(i,l-1),before:Gt(i,l-1)}),i&&a&&d.disabled.push({after:i,before:Gt(i,l-1)}),!i&&a&&d.disabled.push({after:$o(a,l-1),before:Gt(a,l-1)})),c){if(i&&!a&&(d.disabled.push({before:Gt(i,-c+1)}),d.disabled.push({after:Gt(i,c-1)})),i&&a){var f=Mr(a,i)+1,h=c-f;d.disabled.push({before:$o(i,h)}),d.disabled.push({after:Gt(a,h)})}!i&&a&&(d.disabled.push({before:Gt(a,-c+1)}),d.disabled.push({after:Gt(a,c-1)}))}return o.jsx(ny.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function ry(){var e=m.useContext(ny);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ld(e){return Array.isArray(e)?n2([],e):e!==void 0?[e]:[]}function p9(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=ld(s)}),t}var xr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(xr||(xr={}));var g9=xr.Selected,Vr=xr.Disabled,v9=xr.Hidden,x9=xr.Today,Am=xr.RangeEnd,Om=xr.RangeMiddle,Im=xr.RangeStart,y9=xr.Outside;function w9(e,t,n){var r,s=(r={},r[g9]=ld(e.selected),r[Vr]=ld(e.disabled),r[v9]=ld(e.hidden),r[x9]=[e.today],r[Am]=[],r[Om]=[],r[Im]=[],r[y9]=[],r);return e.fromDate&&s[Vr].push({before:e.fromDate}),e.toDate&&s[Vr].push({after:e.toDate}),Zc(e)?s[Vr]=s[Vr].concat(t.modifiers[Vr]):eu(e)&&(s[Vr]=s[Vr].concat(n.modifiers[Vr]),s[Im]=n.modifiers[Im],s[Om]=n.modifiers[Om],s[Am]=n.modifiers[Am]),s}var a2=m.createContext(void 0);function b9(e){var t=Ue(),n=ty(),r=ry(),s=w9(t,n,r),i=p9(t.modifiers),a=he(he({},s),i);return o.jsx(a2.Provider,{value:a,children:e.children})}function l2(){var e=m.useContext(a2);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function j9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function _9(e){return!!(e&&typeof e=="object"&&"from"in e)}function N9(e){return!!(e&&typeof e=="object"&&"after"in e)}function S9(e){return!!(e&&typeof e=="object"&&"before"in e)}function C9(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function k9(e,t){var n,r=t.from,s=t.to;if(r&&s){var i=Mr(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var a=Mr(e,r)>=0&&Mr(s,e)>=0;return a}return s?an(s,e):r?an(r,e):!1}function E9(e){return Qx(e)}function P9(e){return Array.isArray(e)&&e.every(Qx)}function T9(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(E9(n))return an(e,n);if(P9(n))return n.includes(e);if(_9(n))return k9(e,n);if(C9(n))return n.dayOfWeek.includes(e.getDay());if(j9(n)){var r=Mr(n.before,e),s=Mr(n.after,e),i=r>0,a=s<0,l=Tg(n.before,n.after);return l?a&&i:i||a}return N9(n)?Mr(e,n.after)>0:S9(n)?Mr(n.before,e)>0:typeof n=="function"?n(e):!1})}function sy(e,t,n){var r=Object.keys(t).reduce(function(i,a){var l=t[a];return T9(e,l)&&i.push(a),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Zx(e,n)&&(s.outside=!0),s}function R9(e,t){for(var n=dn(e[0]),r=Jx(e[e.length-1]),s,i,a=n;a<=r;){var l=sy(a,t),c=!l.disabled&&!l.hidden;if(!c){a=Gt(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),s||(s=a),a=Gt(a,1)}return i||s}var M9=365;function c2(e,t){var n=t.moveBy,r=t.direction,s=t.context,i=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:Gt,week:Pg,month:vr,year:oz,startOfWeek:function(v){return s.ISOWeek?Xo(v):Lr(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return s.ISOWeek?GE(v):Xx(v,{locale:f,weekStartsOn:c})}},p=h[n](e,r==="after"?1:-1);r==="before"&&u?p=iz([u,p]):r==="after"&&d&&(p=az([d,p]));var y=!0;if(i){var g=sy(p,i);y=!g.disabled&&!g.hidden}return y?p:l.count>M9?l.lastFocused:c2(p,{moveBy:n,direction:r,context:s,modifiers:i,retry:he(he({},l),{count:l.count+1})})}var u2=m.createContext(void 0);function A9(e){var t=tu(),n=l2(),r=m.useState(),s=r[0],i=r[1],a=m.useState(),l=a[0],c=a[1],u=R9(t.displayMonths,n),d=s??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(s),i(void 0)},h=function(v){i(v)},p=Ue(),y=function(v,x){if(s){var w=c2(s,{moveBy:v,direction:x,context:p,modifiers:n});an(s,w)||(t.goToDate(w,s),h(w))}},g={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return o.jsx(u2.Provider,{value:g,children:e.children})}function oy(){var e=m.useContext(u2);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function O9(e,t){var n=l2(),r=sy(e,n,t);return r}var iy=m.createContext(void 0);function I9(e){if(!vh(e.initialProps)){var t={selected:void 0};return o.jsx(iy.Provider,{value:t,children:e.children})}return o.jsx(D9,{initialProps:e.initialProps,children:e.children})}function D9(e){var t=e.initialProps,n=e.children,r=function(i,a,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,a,l),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,a,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,a,l)},s={selected:t.selected,onDayClick:r};return o.jsx(iy.Provider,{value:s,children:n})}function d2(){var e=m.useContext(iy);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function F9(e,t){var n=Ue(),r=d2(),s=ty(),i=ry(),a=oy(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,h=a.focus,p=a.focusMonthBefore,y=a.focusMonthAfter,g=a.focusYearBefore,v=a.focusYearAfter,x=a.focusStartOfWeek,w=a.focusEndOfWeek,b=function(D){var S,T,z,B;vh(n)?(S=r.onDayClick)===null||S===void 0||S.call(r,e,t,D):Zc(n)?(T=s.onDayClick)===null||T===void 0||T.call(s,e,t,D):eu(n)?(z=i.onDayClick)===null||z===void 0||z.call(i,e,t,D):(B=n.onDayClick)===null||B===void 0||B.call(n,e,t,D)},j=function(D){var S;h(e),(S=n.onDayFocus)===null||S===void 0||S.call(n,e,t,D)},N=function(D){var S;f(),(S=n.onDayBlur)===null||S===void 0||S.call(n,e,t,D)},C=function(D){var S;(S=n.onDayMouseEnter)===null||S===void 0||S.call(n,e,t,D)},_=function(D){var S;(S=n.onDayMouseLeave)===null||S===void 0||S.call(n,e,t,D)},k=function(D){var S;(S=n.onDayPointerEnter)===null||S===void 0||S.call(n,e,t,D)},E=function(D){var S;(S=n.onDayPointerLeave)===null||S===void 0||S.call(n,e,t,D)},R=function(D){var S;(S=n.onDayTouchCancel)===null||S===void 0||S.call(n,e,t,D)},M=function(D){var S;(S=n.onDayTouchEnd)===null||S===void 0||S.call(n,e,t,D)},O=function(D){var S;(S=n.onDayTouchMove)===null||S===void 0||S.call(n,e,t,D)},A=function(D){var S;(S=n.onDayTouchStart)===null||S===void 0||S.call(n,e,t,D)},I=function(D){var S;(S=n.onDayKeyUp)===null||S===void 0||S.call(n,e,t,D)},W=function(D){var S;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),u();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),d();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?g():p();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?v():y();break;case"Home":D.preventDefault(),D.stopPropagation(),x();break;case"End":D.preventDefault(),D.stopPropagation(),w();break}(S=n.onDayKeyDown)===null||S===void 0||S.call(n,e,t,D)},U={onClick:b,onFocus:j,onBlur:N,onKeyDown:W,onKeyUp:I,onMouseEnter:C,onMouseLeave:_,onPointerEnter:k,onPointerLeave:E,onTouchCancel:R,onTouchEnd:M,onTouchMove:O,onTouchStart:A};return U}function L9(){var e=Ue(),t=d2(),n=ty(),r=ry(),s=vh(e)?t.selected:Zc(e)?n.selected:eu(e)?r.selected:void 0;return s}function $9(e){return Object.values(xr).includes(e)}function U9(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if($9(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function z9(e,t){var n=he({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=he(he({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function B9(e,t,n){var r,s,i,a=Ue(),l=oy(),c=O9(e,t),u=F9(e,c),d=L9(),f=!!(a.onDayClick||a.mode!=="default");m.useEffect(function(){var C;c.outside||l.focusedDay&&f&&an(l.focusedDay,e)&&((C=n.current)===null||C===void 0||C.focus())},[l.focusedDay,e,n,f,c.outside]);var h=U9(a,c).join(" "),p=z9(a,c),y=!!(c.outside&&!a.showOutsideDays||c.hidden),g=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:c9,v=o.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),x={style:p,className:h,children:v,role:"gridcell"},w=l.focusTarget&&an(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&an(l.focusedDay,e),j=he(he(he({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||w?0:-1,r)),u),N={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:x};return N}function W9(e){var t=m.useRef(null),n=B9(e.date,e.displayMonth,t);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(uf,he({name:"day",ref:t},n.buttonProps)):o.jsx("div",he({},n.divProps))}function H9(e){var t=e.number,n=e.dates,r=Ue(),s=r.onWeekNumberClick,i=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(p){s(t,n,p)};return o.jsx(uf,{name:"week-number","aria-label":f,className:a.weeknumber,style:i.weeknumber,onClick:h,children:d})}function V9(e){var t,n,r=Ue(),s=r.styles,i=r.classNames,a=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:W9,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:H9,d;return a&&(d=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},iB(f))})]})}function wb(e,t,n){for(var r=n!=null&&n.ISOWeek?GE(t):Xx(t,n),s=n!=null&&n.ISOWeek?Xo(e):Lr(e,n),i=Mr(r,s),a=[],l=0;l<=i;l++)a.push(Gt(s,l));var c=a.reduce(function(u,d){var f=n!=null&&n.ISOWeek?QE(d):XE(d,n),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function q9(e,t){var n=wb(dn(e),Jx(e),t);if(t!=null&&t.useFixedWeeks){var r=lB(e,t);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],a=Pg(i,6-r),l=wb(Pg(i,1),a,t);n.push.apply(n,l)}}return n}function K9(e){var t,n,r,s=Ue(),i=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,p=s.ISOWeek,y=q9(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:l9,v=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:V9,x=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:o9;return o.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(g,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:y.map(function(w){return o.jsx(v,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),o.jsx(x,{displayMonth:e.displayMonth})]})}function G9(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Y9=G9()?m.useLayoutEffect:m.useEffect,Dm=!1,Q9=0;function bb(){return"react-day-picker-".concat(++Q9)}function J9(e){var t,n=e??(Dm?bb():null),r=m.useState(n),s=r[0],i=r[1];return Y9(function(){s===null&&i(bb())},[]),m.useEffect(function(){Dm===!1&&(Dm=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function X9(e){var t,n,r=Ue(),s=r.dir,i=r.classNames,a=r.styles,l=r.components,c=tu().displayMonths,u=J9(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=a.month,p=e.displayIndex===0,y=e.displayIndex===c.length-1,g=!p&&!y;s==="rtl"&&(t=[p,y],y=t[0],p=t[1]),p&&(f.push(i.caption_start),h=he(he({},h),a.caption_start)),y&&(f.push(i.caption_end),h=he(he({},h),a.caption_end)),g&&(f.push(i.caption_between),h=he(he({},h),a.caption_between));var v=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:s9;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(K9,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Z9(e){var t=Ue(),n=t.classNames,r=t.styles;return o.jsx("div",{className:n.months,style:r.months,children:e.children})}function e7(e){var t,n,r=e.initialProps,s=Ue(),i=oy(),a=tu(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=he(he({},s.styles.root),s.style),h=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,g){var v;return he(he({},y),(v={},v[g]=r[g],v))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Z9;return o.jsx("div",he({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:o.jsx(p,{children:a.displayMonths.map(function(y,g){return o.jsx(X9,{displayIndex:g,displayMonth:y},g)})})}))}function t7(e){var t=e.children,n=SB(e,["children"]);return o.jsx(HB,{initialProps:n,children:o.jsx(e9,{children:o.jsx(I9,{initialProps:n,children:o.jsx(u9,{initialProps:n,children:o.jsx(h9,{initialProps:n,children:o.jsx(b9,{children:o.jsx(A9,{children:t})})})})})})})}function n7(e){return o.jsx(t7,he({},e,{children:o.jsx(e7,{initialProps:e})}))}function xh({className:e,classNames:t,showOutsideDays:n=!0,...r}){return o.jsx(n7,{showOutsideDays:n,className:Y("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Y(gc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Y(gc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>o.jsx(XM,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(Of,{className:"h-4 w-4"})},...r})}xh.displayName="Calendar";var ay="Popover",[f2,TH]=Hn(ay,[uo]),nu=uo(),[r7,vo]=f2(ay),h2=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,l=nu(t),c=m.useRef(null),[u,d]=m.useState(!1),[f=!1,h]=zn({prop:r,defaultProp:s,onChange:i});return o.jsx(Jv,{...l,children:o.jsx(r7,{scope:t,contentId:ir(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:a,children:n})})};h2.displayName=ay;var m2="PopoverAnchor",s7=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vo(m2,n),i=nu(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx($c,{...i,...r,ref:t})});s7.displayName=m2;var p2="PopoverTrigger",g2=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vo(p2,n),i=nu(n),a=ye(t,s.triggerRef),l=o.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":b2(s.open),...r,ref:a,onClick:K(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx($c,{asChild:!0,...i,children:l})});g2.displayName=p2;var ly="PopoverPortal",[o7,i7]=f2(ly,{forceMount:void 0}),v2=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=vo(ly,t);return o.jsx(o7,{scope:t,forceMount:n,children:o.jsx(Rt,{present:n||i.open,children:o.jsx(Pa,{asChild:!0,container:s,children:r})})})};v2.displayName=ly;var Na="PopoverContent",x2=m.forwardRef((e,t)=>{const n=i7(Na,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=vo(Na,e.__scopePopover);return o.jsx(Rt,{present:r||i.open,children:i.modal?o.jsx(a7,{...s,ref:t}):o.jsx(l7,{...s,ref:t})})});x2.displayName=Na;var a7=m.forwardRef((e,t)=>{const n=vo(Na,e.__scopePopover),r=m.useRef(null),s=ye(t,r),i=m.useRef(!1);return m.useEffect(()=>{const a=r.current;if(a)return sh(a)},[]),o.jsx(Wc,{as:is,allowPinchZoom:!0,children:o.jsx(y2,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:K(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:K(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),l7=m.forwardRef((e,t)=>{const n=vo(Na,e.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(y2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),y2=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=vo(Na,n),p=nu(n);return nh(),o.jsx(Bc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(ti,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(Bf,{"data-state":b2(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),w2="PopoverClose",c7=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vo(w2,n);return o.jsx(ae.button,{type:"button",...r,ref:t,onClick:K(e.onClick,()=>s.onOpenChange(!1))})});c7.displayName=w2;var u7="PopoverArrow",d7=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=nu(n);return o.jsx(Wf,{...s,...r,ref:t})});d7.displayName=u7;function b2(e){return e?"open":"closed"}var f7=h2,h7=g2,m7=v2,j2=x2;const cy=f7,uy=h7,yh=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>o.jsx(m7,{children:o.jsx(j2,{ref:s,align:t,sideOffset:n,className:Y("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));yh.displayName=j2.displayName;const p7=({isOpen:e,onClose:t,onTaskCreated:n})=>{const[r,s]=m.useState({title:"",description:"",task_type:"",priority:"medium",assigned_to:"",estimated_time_minutes:"",due_date:void 0,printer_id:"",order_number:""}),{toast:i}=ke(),a=[{value:"assembly",label:"Assembly",icon:to},{value:"filament_change",label:"Filament Change",icon:xa},{value:"collection",label:"Collection",icon:at},{value:"maintenance",label:"Maintenance",icon:to},{value:"quality_check",label:"Quality Check",icon:Ir}],l=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],c=()=>{if(!r.title.trim()||!r.task_type){i({title:"Error",description:"Please fill in the title and task type.",variant:"destructive"});return}const u={title:r.title.trim(),description:r.description.trim()||void 0,task_type:r.task_type,priority:r.priority,assigned_to:r.assigned_to||void 0,estimated_time_minutes:r.estimated_time_minutes?parseInt(r.estimated_time_minutes):void 0,due_date:r.due_date?r.due_date.toISOString():void 0,printer_id:r.printer_id||void 0,order_number:r.order_number.trim()||void 0};n(u),s({title:"",description:"",task_type:"",priority:"medium",assigned_to:"",estimated_time_minutes:"",due_date:void 0,printer_id:"",order_number:""}),t()};return o.jsx(zt,{open:e,onOpenChange:t,children:o.jsxs(Et,{className:"sm:max-w-[600px]",children:[o.jsx(Pt,{children:o.jsx(Tt,{children:"Create Task"})}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"title",children:"Title *"}),o.jsx(le,{id:"title",value:r.title,onChange:u=>s({...r,title:u.target.value}),placeholder:"Enter task title"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"task_type",children:"Task Type *"}),o.jsxs(Ye,{value:r.task_type,onValueChange:u=>s({...r,task_type:u}),children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select task type"})}),o.jsx(Ve,{children:a.map(u=>{const d=u.icon;return o.jsx(fe,{value:u.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(d,{className:"h-4 w-4"}),o.jsx("span",{children:u.label})]})},u.value)})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"priority",children:"Priority"}),o.jsxs(Ye,{value:r.priority,onValueChange:u=>s({...r,priority:u}),children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select priority"})}),o.jsx(Ve,{children:l.map(u=>o.jsx(fe,{value:u.value,children:u.label},u.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"estimated_time",children:"Estimated Time (minutes)"}),o.jsx(le,{id:"estimated_time",type:"number",min:"1",value:r.estimated_time_minutes,onChange:u=>s({...r,estimated_time_minutes:u.target.value}),placeholder:"e.g. 30"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"description",children:"Description"}),o.jsx(Jc,{id:"description",value:r.description,onChange:u=>s({...r,description:u.target.value}),placeholder:"Task description (optional)",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{children:"Due Date"}),o.jsxs(cy,{children:[o.jsx(uy,{asChild:!0,children:o.jsxs(L,{variant:"outline",className:Y("w-full justify-start text-left font-normal",!r.due_date&&"text-muted-foreground"),children:[o.jsx(Dc,{className:"mr-2 h-4 w-4"}),r.due_date?Wn(r.due_date,"PPP"):o.jsx("span",{children:"Pick a date"})]})}),o.jsx(yh,{className:"w-auto p-0",align:"start",children:o.jsx(xh,{mode:"single",selected:r.due_date,onSelect:u=>s({...r,due_date:u}),initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"order_number",children:"Order Number"}),o.jsx(le,{id:"order_number",value:r.order_number,onChange:u=>s({...r,order_number:u.target.value}),placeholder:"Order #123 (optional)"})]})]})]}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:t,children:"Cancel"}),o.jsxs(L,{onClick:c,children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Task"]})]})]})})},g7=()=>{const{tasks:e,loading:t,startTask:n,completeTask:r,cancelTask:s,getElapsedTime:i,createTask:a}=tz();ke();const[l,c]=m.useState({}),[u,d]=m.useState(!1);m.useEffect(()=>{const j=setInterval(()=>{const N={};e.filter(C=>C.status==="in_progress"&&C.started_at).forEach(C=>{N[C.id]=i(C.started_at)}),c(N)},6e4);return()=>clearInterval(j)},[e]),m.useEffect(()=>{const j={};e.filter(N=>N.status==="in_progress"&&N.started_at).forEach(N=>{j[N.id]=i(N.started_at)}),c(j)},[e]);const f=j=>{switch(j){case"high":return"destructive";case"medium":return"warning";case"low":return"secondary";default:return"secondary"}},h=j=>{switch(j){case"completed":return o.jsx(Ir,{className:"h-4 w-4 text-green-500"});case"in_progress":return o.jsx(rr,{className:"h-4 w-4 text-blue-500"});case"pending":return o.jsx(Op,{className:"h-4 w-4 text-yellow-500"});case"cancelled":return o.jsx(no,{className:"h-4 w-4 text-red-500"});default:return o.jsx(rr,{className:"h-4 w-4"})}},p=j=>{switch(j){case"filament_change":return o.jsx(xa,{className:"h-4 w-4"});case"collection":return o.jsx(at,{className:"h-4 w-4"});case"assembly":return o.jsx(to,{className:"h-4 w-4"});case"maintenance":return o.jsx(to,{className:"h-4 w-4"});case"quality_check":return o.jsx(Ir,{className:"h-4 w-4"});default:return o.jsx(rr,{className:"h-4 w-4"})}},y=j=>{if(!j)return"No due date";const N=new Date(j),C=new Date,_=Math.ceil((N.getTime()-C.getTime())/(1e3*60*60));return _<0?"Overdue":_<1?"Due now":_<24?`Due in ${_}h`:`Due ${N.toLocaleDateString()}`},g=j=>{if(j<60)return`${j}m`;const N=Math.floor(j/60),C=j%60;return`${N}h ${C}m`},v=({task:j})=>o.jsxs(se,{className:"mb-4",children:[o.jsx(ce,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[p(j.task_type),o.jsxs("div",{children:[o.jsx(ue,{className:"text-lg",children:j.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(re,{variant:f(j.priority),children:j.priority.toUpperCase()}),o.jsxs("div",{className:"flex items-center gap-1",children:[h(j.status),o.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:j.status==="pending"?"To Do":j.status.replace("_"," ")})]})]})]})]}),o.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[o.jsx("div",{children:y(j.due_date)}),o.jsxs("div",{children:["~",j.estimated_time_minutes||"N/A"," min"]}),j.status==="in_progress"&&l[j.id]&&o.jsxs("div",{className:"font-medium text-blue-600",children:["Elapsed: ",g(l[j.id])]}),j.status==="completed"&&j.actual_time_minutes&&o.jsxs("div",{className:"font-medium text-green-600",children:["Completed in: ",g(j.actual_time_minutes)]})]})]})}),o.jsxs(ie,{children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:j.description}),j.status!=="completed"&&j.status!=="cancelled"&&o.jsxs("div",{className:"flex gap-2",children:[j.status==="pending"&&o.jsx(L,{onClick:()=>n(j.id),variant:"outline",children:"Start Task"}),j.status==="in_progress"&&o.jsxs(o.Fragment,{children:[o.jsx(L,{onClick:()=>s(j.id),variant:"outline",children:"Cancel"}),o.jsx(L,{onClick:()=>r(j.id),children:"Complete"})]}),j.status==="pending"&&o.jsx(L,{onClick:()=>r(j.id),variant:"secondary",children:"Mark Complete"})]})]})]}),x=e.filter(j=>j.status==="pending"),w=e.filter(j=>j.status==="in_progress"),b=e.filter(j=>j.status==="completed");return t?o.jsx("div",{children:"Loading worklist..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Worklist"}),o.jsx("p",{className:"text-muted-foreground",children:"Tasks and actions that require human intervention"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:x.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"To Do Tasks"})]}),o.jsx(Op,{className:"h-8 w-8 text-yellow-500"})]})})}),o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:w.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"})]}),o.jsx(rr,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:b.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Today"})]}),o.jsx(Ir,{className:"h-8 w-8 text-green-500"})]})})})]}),o.jsxs(Xa,{defaultValue:"pending",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ai,{children:[o.jsxs(mt,{value:"pending",children:["To Do (",x.length,")"]}),o.jsxs(mt,{value:"in_progress",children:["In Progress (",w.length,")"]}),o.jsxs(mt,{value:"completed",children:["Completed (",b.length,")"]})]}),o.jsxs(L,{onClick:()=>d(!0),children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Create Task"]})]}),o.jsx($t,{value:"pending",className:"mt-6",children:x.length===0?o.jsx(se,{children:o.jsx(ie,{className:"pt-6 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No tasks to do"})})}):x.map(j=>o.jsx(v,{task:j},j.id))}),o.jsx($t,{value:"in_progress",className:"mt-6",children:w.length===0?o.jsx(se,{children:o.jsx(ie,{className:"pt-6 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No tasks in progress"})})}):w.map(j=>o.jsx(v,{task:j},j.id))}),o.jsx($t,{value:"completed",className:"mt-6",children:b.length===0?o.jsx(se,{children:o.jsx(ie,{className:"pt-6 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No completed tasks today"})})}):b.map(j=>o.jsx(v,{task:j},j.id))})]}),o.jsx(p7,{isOpen:u,onClose:()=>d(!1),onTaskCreated:a})]})},_2=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{toast:s}=ke(),{tenant:i}=Vn(),a=async()=>{if(i!=null&&i.id)try{const f=await fetch("/api/print-jobs-sync/");if(!f.ok)throw new Error(`Failed to fetch print jobs: ${f.statusText}`);const p=(await f.json()).map(y=>bi(y)).sort((y,g)=>new Date(g.timeSubmitted).getTime()-new Date(y.timeSubmitted).getTime());t(p)}catch(f){console.error("Error fetching print jobs:",f),s({title:"Error",description:f instanceof Error?f.message:"Failed to load print jobs from database.",variant:"destructive"}),t([])}finally{r(!1)}},l=async f=>{try{const h=await fetch("/api/print-jobs-sync/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printer_id:f.printerId,print_file_id:f.printFileId,file_name:f.fileName,status:"queued",color:f.color,filament_type:f.filamentType,material_type:f.materialType,number_of_units:f.numberOfUnits||1,filament_needed_grams:f.filamentNeededGrams,estimated_print_time_minutes:f.estimatedPrintTimeMinutes,priority:f.priority||0,progress_percentage:0})});if(!h.ok)throw new Error(`Failed to create print job: ${h.statusText}`);const p=await h.json();if(!p.success)throw new Error(p.message||"Failed to create print job");const y=bi(p.print_job);return t(g=>[y,...g]),s({title:"Success",description:`Print job for ${f.fileName} has been created.`}),y}catch(h){throw console.error("Error adding print job:",h),s({title:"Error",description:"Failed to create print job.",variant:"destructive"}),h}},c=async(f,h)=>{try{const p=V8(h),y=await fetch(`/api/print-jobs-sync/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!y.ok)throw new Error(`Failed to update print job: ${y.statusText}`);const g=await y.json();if(!g.success)throw new Error(g.message||"Failed to update print job");const v=bi(g.print_job);return t(x=>x.map(w=>w.id===f?v:w)),s({title:"Success",description:"Print job updated successfully."}),v}catch(p){throw console.error("Error updating print job:",p),s({title:"Error",description:"Failed to update print job.",variant:"destructive"}),p}},u=async f=>{try{console.log(`Deleting print job: ${f}`);const h=new AbortController,p=setTimeout(()=>h.abort(),1e4),y=await fetch(`/api/print-jobs-sync/${f}`,{method:"DELETE",signal:h.signal,headers:{"Content-Type":"application/json"}});if(clearTimeout(p),!y.ok){const v=await y.text();throw new Error(`HTTP ${y.status}: ${v||y.statusText}`)}const g=await y.json();if(!g.success)throw new Error(g.message||"Server reported failure to delete print job");t(v=>v.filter(x=>x.id!==f)),console.log(`Successfully deleted print job: ${f}`)}catch(h){throw console.error("Error deleting print job:",h),h.name==="AbortError"?new Error("Delete request timed out. Please try again."):h}},d=async(f,h)=>{try{const p=await fetch(`/api/print-jobs-sync/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"cancelled",failure_reason:h,time_completed:new Date().toISOString()})});if(!p.ok)throw new Error(`Failed to cancel print job: ${p.statusText}`);const y=await p.json();if(!y.success)throw new Error(y.message||"Failed to cancel print job");const g=bi(y.print_job);return t(v=>v.map(x=>x.id===f?g:x)),s({title:"Success",description:"Print job cancelled successfully."}),g}catch(p){throw console.error("Error cancelling print job:",p),s({title:"Error",description:"Failed to cancel print job.",variant:"destructive"}),p}};return m.useEffect(()=>{if(!(i!=null&&i.id)){console.log("usePrintJobs: No tenant ID, skipping subscription");return}console.log("usePrintJobs: Setting up real-time subscription for tenant:",i.id),a();const f=G.channel("print-job-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"print_jobs",filter:`tenant_id=eq.${i.id}`},h=>{console.log(" Print job inserted via real-time:",h);const p=bi(h.new);t(y=>(console.log("Adding new job to list:",p),[p,...y]))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"print_jobs",filter:`tenant_id=eq.${i.id}`},h=>{console.log(" Print job updated via real-time:",h);const p=bi(h.new);t(y=>(console.log("Updating job in list:",p),y.map(g=>g.id===p.id?p:g)))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"print_jobs",filter:`tenant_id=eq.${i.id}`},h=>{console.log("Print job deleted:",h),t(p=>p.filter(y=>y.id!==h.old.id))}).subscribe(h=>{console.log("Print jobs subscription status:",h)});return()=>{console.log("Cleaning up print jobs subscription"),G.removeChannel(f)}},[i==null?void 0:i.id]),{printJobs:e,loading:n,addPrintJob:l,updatePrintJob:c,deletePrintJob:u,cancelPrintJob:d,refetch:a}},v7=({job:e,isOpen:t,onClose:n})=>{if(!e)return null;const r=i=>{switch(i){case"Printing":return"default";case"Completed":return"secondary";case"Queued":return"outline";case"Failed":return"destructive";default:return"outline"}},s=e.color||"Galaxy Black|#1a1a1a";return o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"sm:max-w-[600px]",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(Df,{className:"h-5 w-5"}),"Job Details - ",e.fileName]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"File Name"}),o.jsx("p",{className:"text-lg",children:e.fileName})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),o.jsx("div",{children:o.jsx(re,{variant:r(e.status),children:e.status})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Source"}),o.jsx("p",{className:"text-lg",children:e.source||"Manual"})]})]}),o.jsx(Dr,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Job Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(at,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"SKU"}),o.jsxs("p",{className:"font-medium",children:["SKU-",e.fileName.replace(/\.[^/.]+$/,"").slice(0,6).toUpperCase()]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dc,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Submitted"}),o.jsx("p",{className:"font-medium",children:"2 hours ago"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rr,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Est. Print Time"}),o.jsx("p",{className:"font-medium",children:"2h 30m"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:s,size:"sm"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Color"}),o.jsx("p",{className:"font-medium",children:s.split("|")[0]})]})]})]})]}),e.status==="Printing"&&o.jsxs(o.Fragment,{children:[o.jsx(Dr,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Progress"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Completion"}),o.jsxs("span",{children:[e.progress,"%"]})]}),o.jsx(Wa,{value:e.progress,className:"h-3"}),o.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[o.jsx("span",{children:"Layer 125 of 180"}),o.jsx("span",{children:"1h 15m remaining"})]})]})]})]}),o.jsx(Dr,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"File Properties"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"File Size:"}),o.jsx("span",{children:"15.2 MB"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Material:"}),o.jsx("span",{children:"PLA"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Number of Units:"}),o.jsx("span",{children:"3"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Filament Needed:"}),o.jsx("span",{children:"450g"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(L,{variant:"outline",onClick:n,children:"Close"}),e.status==="Queued"&&o.jsx(L,{variant:"destructive",children:"Cancel Job"})]})]})]})})},x7=({job:e,isOpen:t,onClose:n})=>{const{toast:r}=ke(),{deletePrintJob:s}=_2(),[i,a]=m.useState(""),[l,c]=m.useState(!1);if(!e)return null;const u=async()=>{try{c(!0),i.trim()&&console.log(`Print job ${e.id} (${e.fileName}) cancelled with reason: ${i}`),console.log(`Attempting to delete job ${e.id} (${e.fileName})`),await s(e.id),r({title:"Job Cancelled Successfully",description:`${e.fileName} has been cancelled and removed from the queue. Any active print has been stopped.`}),n()}catch(d){console.error("Error cancelling job:",d);const f=d instanceof Error?d.message:"Unknown error occurred";r({title:"Failed to Cancel Job",description:`Could not cancel ${e.fileName}: ${f}. Please try again or contact support if the issue persists.`,variant:"destructive"})}finally{c(!1)}};return o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"sm:max-w-[500px]",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(eA,{className:"h-5 w-5 text-red-500"}),"Cancel Job - ",e.fileName]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[o.jsx(Fc,{className:"h-4 w-4 text-red-600"}),o.jsx("p",{className:"text-sm text-red-800",children:"This action cannot be undone. The job will be permanently removed from the queue."})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"reason",children:"Cancellation Reason (Optional)"}),o.jsx(Jc,{id:"reason",value:i,onChange:d=>a(d.target.value),placeholder:"Enter the reason for cancelling this job...",rows:4})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(L,{variant:"outline",onClick:n,disabled:l,children:"Keep Job"}),o.jsx(L,{variant:"destructive",onClick:u,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(va,{className:"mr-2 h-4 w-4 animate-spin"}),"Cancelling..."]}):"Cancel Job"})]})]})]})})},y7=({value:e,onValueChange:t,disabled:n=!1})=>o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{children:"Job Type *"}),o.jsxs("div",{className:"flex items-center gap-1 rounded-lg bg-muted p-1",children:[o.jsx(L,{type:"button",variant:e==="print_file"?"secondary":"ghost",size:"sm",onClick:()=>t("print_file"),disabled:n,className:"h-8 flex-1",children:"Print File"}),o.jsx(L,{type:"button",variant:e==="product"?"secondary":"ghost",size:"sm",onClick:()=>t("product"),disabled:n,className:"h-8 flex-1",children:"Product"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e==="print_file"?"Select from available 3MF files stored on Pi":"Select from configured products with linked files"})]}),w7=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{toast:s}=ke(),i=async()=>{try{r(!0);const a=window.location.hostname;let l;a==="192.168.4.45"||a==="localhost"||a==="127.0.0.1"?l=`${window.location.protocol}//${window.location.host}`:l="http://192.168.4.45:8080";const c=await fetch(`${l}/api/available-files/print-files`);if(!c.ok)throw new Error(`Failed to fetch available files: ${c.status} ${c.statusText}`);const u=await c.json();if(u.success)t(u.files||[]);else throw new Error(u.message||"Failed to fetch available files")}catch(a){console.error("Error fetching available files:",a),s({title:"Error",description:"Failed to load available print files from Pi",variant:"destructive"}),t([])}finally{r(!1)}};return m.useEffect(()=>{i()},[]),{printFiles:e,loading:n,refetch:i}},b7=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{toast:s}=ke(),i=async()=>{var a;try{r(!0);const l=window.location.hostname;let c;l==="192.168.4.45"||l==="localhost"||l==="127.0.0.1"?c=`${window.location.protocol}//${window.location.host}`:c="http://192.168.4.45:8080";const u=await fetch(`${c}/api/available-files/products-with-files`);if(!u.ok)throw new Error(`Failed to fetch available products: ${u.status} ${u.statusText}`);const d=await u.json();if(d.success)t(((a=d.products)==null?void 0:a.available)||[]);else throw new Error(d.message||"Failed to fetch available products")}catch(l){console.error("Error fetching available products:",l),s({title:"Error",description:"Failed to load available products from Pi",variant:"destructive"}),t([])}finally{r(!1)}};return m.useEffect(()=>{i()},[]),{products:e,loading:n,refetch:i}},j7=({value:e,onValueChange:t,disabled:n=!1})=>{const{printFiles:r,loading:s}=w7(),i=l=>l<1024*1024?`${Math.round(l/1024)} KB`:`${Math.round(l/(1024*1024)*10)/10} MB`,a=l=>{try{const c=new Date(l);return c.toLocaleDateString()+" "+c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}};return o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"print-file",children:"Print File *"}),o.jsxs(Ye,{value:e,onValueChange:t,disabled:n||s,children:[o.jsx(He,{id:"print-file",children:o.jsx(Qe,{placeholder:s?"Loading files from Pi...":r.length===0?"No files available on Pi":"Select print file"})}),o.jsxs(Ve,{children:[r.length===0&&!s&&o.jsxs("div",{className:"flex items-center gap-2 p-2 text-sm text-muted-foreground",children:[o.jsx(D0,{className:"h-4 w-4"}),o.jsx("span",{children:"No 3MF files found on Pi"})]}),r.map(l=>o.jsx(fe,{value:l.id,children:o.jsxs("div",{className:"flex items-start gap-2 w-full",children:[o.jsx(Df,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:l.filename.replace(".3mf","")}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(D0,{className:"h-3 w-3"}),i(l.size_bytes)]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(rr,{className:"h-3 w-3"}),a(l.created_at)]})]})]})]})},l.id))]})]}),r.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.length," file",r.length!==1?"s":""," available on Pi"]}),r.length===0&&!s&&o.jsx("p",{className:"text-xs text-orange-600",children:"No 3MF files found on Pi. Upload files through the Products page first."})]})},_7=({value:e,onValueChange:t,disabled:n=!1})=>{const{products:r,loading:s}=b7(),i=l=>l<1024*1024?`${Math.round(l/1024)} KB`:`${Math.round(l/(1024*1024)*10)/10} MB`,a=l=>{try{const c=new Date(l);return c.toLocaleDateString()+" "+c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}};return o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"product",children:"Product *"}),o.jsxs(Ye,{value:e,onValueChange:t,disabled:n||s,children:[o.jsx(He,{id:"product",children:o.jsx(Qe,{placeholder:s?"Loading products...":r.length===0?"No products with files available":"Select product"})}),o.jsxs(Ve,{children:[r.length===0&&!s&&o.jsxs("div",{className:"flex items-center gap-2 p-2 text-sm text-muted-foreground",children:[o.jsx(at,{className:"h-4 w-4"}),o.jsx("span",{children:"No products with print files found"})]}),r.map(l=>o.jsx(fe,{value:l.id,children:o.jsxs("div",{className:"flex items-start gap-2 w-full",children:[o.jsx(at,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:l.name}),l.description&&o.jsx("div",{className:"text-xs text-muted-foreground truncate mb-1",children:l.description}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[l.category&&o.jsx("span",{className:"px-1.5 py-0.5 bg-muted rounded text-xs",children:l.category}),l.file_info&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Df,{className:"h-3 w-3"}),i(l.file_info.size_bytes)]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(rr,{className:"h-3 w-3"}),a(l.file_info.created_at)]})]})]}),l.requires_assembly&&o.jsx("div",{className:"text-xs text-amber-600 mt-1",children:" Requires assembly"})]})]})},l.id))]})]}),r.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.length," product",r.length!==1?"s":""," with available files"]}),r.length===0&&!s&&o.jsx("p",{className:"text-xs text-orange-600",children:"No products with print files found. Create products and upload files first."})]})},N7=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(!1),{toast:s}=ke(),i=()=>{const d=window.location.hostname;return d==="192.168.4.45"||d==="localhost"||d==="127.0.0.1"?`${window.location.protocol}//${window.location.host}`:"http://192.168.4.45:8080"},a=async d=>{try{r(!0);const{data:{session:f}}=await G.auth.getSession(),h={"Content-Type":"application/json"};f!=null&&f.access_token&&(h.Authorization=`Bearer ${f.access_token}`);const p=i(),y=await fetch(`${p}/api/enhanced-print-jobs/validate`,{method:"POST",headers:h,body:JSON.stringify(d)});if(!y.ok)throw new Error(`Validation failed: ${y.status} ${y.statusText}`);const g=await y.json();if(g.success)return g.validation;throw new Error(g.message||"Validation failed")}catch(f){return console.error("Error validating job request:",f),{valid:!1,errors:[f.message||"Failed to validate job request"],warnings:[]}}finally{r(!1)}};return{processing:e,validating:n,createEnhancedJob:async d=>{try{t(!0);const f=await a(d);if(!f.valid){const x=f.errors.join(", ");return s({title:"Validation Error",description:x,variant:"destructive"}),{success:!1,message:x,error_details:f.errors.join(`
`)}}f.warnings.length>0&&f.warnings.forEach(x=>{s({title:"Warning",description:x,variant:"default"})});const{data:{session:h}}=await G.auth.getSession(),p={"Content-Type":"application/json"};h!=null&&h.access_token&&(p.Authorization=`Bearer ${h.access_token}`);const y=i(),g=await fetch(`${y}/api/enhanced-print-jobs/create`,{method:"POST",headers:p,body:JSON.stringify(d)});if(!g.ok){let x=`Job creation failed: ${g.status} ${g.statusText}`;try{const w=await g.json();w.detail?x=w.detail:w.message&&(x=w.message)}catch{try{const w=await g.text();w&&(x+=` - ${w}`)}catch{}}throw new Error(x)}const v=await g.json();return v.success?(console.log("Job created successfully:",v),v):(console.error("Job creation failed:",v),{success:!1,message:v.message||"Job creation failed",error_details:v.error_details,job_id:v.job_id})}catch(f){return console.error("Error creating enhanced job:",f),{success:!1,message:f.message||"Network error - failed to create print job",error_details:`Network or communication error: ${f.message}`,network_error:!0}}finally{t(!1)}},validateJobRequest:a,getJobStatus:async d=>{try{const{data:{session:f}}=await G.auth.getSession(),h={};f!=null&&f.access_token&&(h.Authorization=`Bearer ${f.access_token}`);const p=i(),y=await fetch(`${p}/api/enhanced-print-jobs/status/${d}`,{headers:h});if(!y.ok)throw new Error(`Failed to get job status: ${y.status} ${y.statusText}`);return await y.json()}catch(f){return console.error("Error getting job status:",f),null}},testConnection:async()=>{try{const d=i();return(await fetch(`${d}/health`,{signal:AbortSignal.timeout(5e3)})).ok}catch(d){return console.warn("Pi connection test failed:",d),!1}}}},S7=({isOpen:e,onClose:t,onJobCreated:n})=>{const[r,s]=m.useState({jobType:"print_file",targetId:"",printerId:"",color:""}),{toast:i}=ke(),{tenant:a}=Vn(),{colorPresets:l}=go(),{printers:c,loading:u,refetch:d}=qx(),{processing:f,createEnhancedJob:h,testConnection:p}=N7();m.useEffect(()=>{e&&s({jobType:"print_file",targetId:"",printerId:"",color:""})},[e]);const y=async()=>{var C;if(!(a!=null&&a.id)){i({title:"Error",description:"You must be logged in to create print jobs.",variant:"destructive"});return}if(!r.targetId){i({title:"Error",description:`Please select a ${r.jobType==="product"?"product":"print file"}.`,variant:"destructive"});return}if(!r.printerId){i({title:"Error",description:"Please select a printer.",variant:"destructive"});return}if(!r.color){i({title:"Error",description:"Please select a filament color.",variant:"destructive"});return}const[v,x]=r.color.split("|"),w=l.find(_=>_.color_name===v&&_.hex_code===x);if(!w){i({title:"Error",description:"Selected color preset not found.",variant:"destructive"});return}if(!await p()){i({title:"Connection Error",description:"Cannot connect to Pi. Check network connection and try again.",variant:"destructive"});return}const j=c.find(_=>_.id===r.printerId);if(!j||!j.printerId){i({title:"Error",description:"Selected printer not found or invalid printer ID.",variant:"destructive"});return}const N={job_type:r.jobType,target_id:r.targetId,printer_id:j.printerId.toString(),color:r.color,filament_type:w.filament_type,material_type:w.filament_type,copies:1,start_print:!0};try{const _=await h(N);if(_.success)i({title:"Success",description:`Job created successfully! ${(C=_.processing_status)!=null&&C.auto_start?"Print should start automatically.":"File uploaded to printer."}`}),t(),n&&n();else{let k=_.message||"Unknown error occurred";_.error_details&&(k+=`. Details: ${_.error_details}`),i({title:"Job Creation Failed",description:k,variant:"destructive"})}}catch(_){console.error("Job creation error:",_),i({title:"Network Error",description:"Failed to communicate with printer. Check your connection and try again.",variant:"destructive"})}},g=v=>{s(x=>({...x,...v}))};return o.jsx(zt,{open:e,onOpenChange:t,children:o.jsxs(Et,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(Lv,{className:"h-5 w-5"}),"Create Enhanced Print Job"]})}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsx(y7,{value:r.jobType,onValueChange:v=>g({jobType:v,targetId:""}),disabled:f}),r.jobType==="print_file"?o.jsx(j7,{value:r.targetId,onValueChange:v=>g({targetId:v}),disabled:f}):o.jsx(_7,{value:r.targetId,onValueChange:v=>g({targetId:v}),disabled:f}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Q,{htmlFor:"printer",children:"Printer *"}),o.jsx(L,{type:"button",variant:"ghost",size:"sm",onClick:d,disabled:f||u,className:"h-6 px-2",children:o.jsx(pA,{className:`h-3 w-3 ${u?"animate-spin":""}`})})]}),o.jsxs(Ye,{value:r.printerId,onValueChange:v=>g({printerId:v}),disabled:f||u,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:u?"Loading printers...":"Select printer"})}),o.jsx(Ve,{children:c.map(v=>o.jsx(fe,{value:v.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${v.connected||v.status==="idle"||v.status==="printing"?"bg-green-500":"bg-gray-400"}`}),o.jsxs("span",{children:[v.name," (",v.model,")"]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",v.printerId,")"]}),!v.connected&&v.status==="offline"&&o.jsx("span",{className:"text-xs text-muted-foreground",children:"(offline)"})]})},v.id))})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for printing. Click refresh to update connection status."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"color",children:"Filament Color *"}),o.jsxs(Ye,{value:r.color,onValueChange:v=>g({color:v}),disabled:f,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select color"})}),o.jsx(Ve,{children:l.map(v=>o.jsx(fe,{value:`${v.color_name}|${v.hex_code}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:`${v.color_name}|${v.hex_code}`,size:"sm"}),o.jsx("span",{children:v.color_name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",v.filament_type,")"]})]})},v.id))})]})]}),f&&o.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50 border-blue-200",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[o.jsx(va,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Processing print job..."})]}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Preparing and uploading to printer. This may take several minutes."})]})]}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:t,disabled:f,children:"Cancel"}),o.jsx(L,{onClick:y,disabled:!(a!=null&&a.id)||f||u,children:f?o.jsxs(o.Fragment,{children:[o.jsx(va,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Create & Process Job"]})})]})]})})},N2=e=>{switch(e.toLowerCase()){case"printing":return o.jsx(re,{className:"bg-blue-600 text-white hover:bg-blue-700",children:e});case"completed":return o.jsx(re,{className:"bg-green-600 text-white hover:bg-green-700",children:e});case"queued":return o.jsx(re,{className:"bg-orange-500 text-white hover:bg-orange-600",children:e});case"processing":return o.jsx(re,{className:"bg-purple-500 text-white hover:bg-purple-600",children:e});case"uploaded":return o.jsx(re,{className:"bg-cyan-500 text-white hover:bg-cyan-600",children:e});case"failed":return o.jsx(re,{variant:"destructive",children:e});case"cancelled":return o.jsx(re,{className:"bg-gray-500 text-white hover:bg-gray-600",children:e});default:return o.jsx(re,{children:e})}},C7=({title:e,jobs:t,status:n,onViewDetails:r,onCancelJob:s})=>{const i=t.filter(a=>a.status.toLowerCase()===n.toLowerCase());return o.jsxs("div",{className:"flex flex-col min-h-[600px] bg-muted/20 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-sm uppercase tracking-wide text-muted-foreground",children:e}),o.jsx(re,{variant:"secondary",children:i.length})]}),o.jsx("div",{className:"space-y-3 flex-1",children:i.map(a=>o.jsxs(se,{className:"cursor-move hover:shadow-md transition-shadow",children:[o.jsxs(ce,{className:"pb-2",children:[o.jsx(ue,{className:"text-sm truncate cursor-pointer hover:text-primary",onClick:()=>r(a),children:a.fileName}),o.jsx(Fa,{className:"text-xs",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:a.color,size:"sm"}),o.jsx("span",{children:a.color.split("|")[0]})]})})]}),o.jsxs(ie,{className:"pb-3",children:[a.status==="Printing"&&o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Wa,{value:a.progress,className:"flex-1"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.progress,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[N2(a.status),o.jsxs(dr,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{"aria-haspopup":"true",size:"icon",variant:"ghost",className:"h-6 w-6",children:o.jsx(Vo,{className:"h-3 w-3"})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsx(Ge,{onClick:()=>r(a),children:"View Details"}),o.jsx(Ge,{onClick:()=>s(a),children:"Cancel Job"})]})]})]})]})]},a.id))})]})},k7=()=>{const{printJobs:e,loading:t,addPrintJob:n}=_2(),{data:r}=Nx(),[s,i]=m.useState("table"),[a,l]=m.useState(null),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(!1),y=j=>{l(j),u(!0)},g=j=>{l(j),f(!0)},v=()=>{p(!1)},w=(()=>{const j=[...e];return r&&(j.forEach(N=>{var _;const C=r.find(k=>{var E,R;return((E=k.current_job)==null?void 0:E.filename)===N.fileName&&k.printer_id===((R=N.printerId)==null?void 0:R.toString())});if(C&&C.status==="printing"){const k=((_=C.progress)==null?void 0:_.percentage)||0;k>N.progressPercentage&&(N.progressPercentage=k),N.liveData=C}}),r.forEach(N=>{var C;N.current_job&&N.status==="printing"&&(j.find(k=>{var E,R;return k.fileName===((E=N.current_job)==null?void 0:E.filename)&&((R=k.printerId)==null?void 0:R.toString())===N.printer_id})||j.unshift({id:`external_${N.printer_id}`,fileName:N.current_job.filename,status:"printing",progressPercentage:((C=N.progress)==null?void 0:C.percentage)||0,printerId:parseInt(N.printer_id),color:"Unknown|#808080",filamentType:"Unknown",materialType:"Unknown",numberOfUnits:1,priority:0,timeSubmitted:new Date().toISOString(),tenantId:"",isExternalJob:!0,liveData:N}))})),j})(),b=[{title:"Queued",status:"queued"},{title:"Processing",status:"processing"},{title:"Uploaded",status:"uploaded"},{title:"Printing",status:"printing"},{title:"Completed",status:"completed"},{title:"Failed",status:"failed"}];return o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Print Job Queue"}),o.jsx("p",{className:"text-muted-foreground",children:"View and manage all print jobs."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(L,{onClick:()=>p(!0),children:[o.jsx(lr,{className:"h-4 w-4 mr-2"}),"Create Job"]}),o.jsxs("div",{className:"flex items-center gap-1 rounded-lg bg-muted p-1",children:[o.jsxs(L,{variant:s==="table"?"secondary":"ghost",size:"sm",onClick:()=>i("table"),className:"h-8",children:[o.jsx(Lf,{className:"h-4 w-4 mr-2"}),"Table"]}),o.jsxs(L,{variant:s==="kanban"?"secondary":"ghost",size:"sm",onClick:()=>i("kanban"),className:"h-8",children:[o.jsx(iA,{className:"h-4 w-4 mr-2"}),"Kanban"]})]})]})]}),s==="table"?o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs(Ga,{children:[o.jsx(Ya,{children:o.jsxs(gr,{children:[o.jsx(Re,{children:"File Name"}),o.jsx(Re,{children:"Status"}),o.jsx(Re,{className:"hidden md:table-cell",children:"Color"}),o.jsx(Re,{children:"Progress"}),o.jsx(Re,{children:o.jsx("span",{className:"sr-only",children:"Actions"})})]})}),o.jsx(Qa,{children:w.map(j=>{var N,C,_,k;return o.jsxs(gr,{children:[o.jsxs(Pe,{className:"font-medium truncate max-w-48 cursor-pointer hover:text-primary",onClick:()=>y(j),children:[j.fileName,j.isExternalJob&&o.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-1 rounded",children:"Live"})]}),o.jsx(Pe,{children:N2(j.status)}),o.jsx(Pe,{className:"hidden md:table-cell",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:j.color,size:"sm"}),o.jsx("span",{className:"text-sm",children:j.color.split("|")[0]})]})}),o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wa,{value:j.progressPercentage||0,className:"w-20"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[j.progressPercentage||0,"%"]}),((C=(N=j.liveData)==null?void 0:N.progress)==null?void 0:C.current_layer)&&((k=(_=j.liveData)==null?void 0:_.progress)==null?void 0:k.total_layers)&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",j.liveData.progress.current_layer,"/",j.liveData.progress.total_layers,")"]})]})}),o.jsx(Pe,{children:o.jsxs(dr,{children:[o.jsx(fr,{asChild:!0,children:o.jsxs(L,{"aria-haspopup":"true",size:"icon",variant:"ghost",children:[o.jsx(Vo,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsx(Ge,{onClick:()=>y(j),children:"View Details"}),!j.isExternalJob&&o.jsx(Ge,{onClick:()=>g(j),children:"Cancel Job"})]})]})})]},j.id)})})]})})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:b.map(j=>o.jsx(C7,{title:j.title,jobs:w,status:j.status,onViewDetails:y,onCancelJob:g},j.status))}),o.jsx(v7,{job:a,isOpen:c,onClose:()=>u(!1)}),o.jsx(x7,{job:a,isOpen:d,onClose:()=>f(!1)}),o.jsx(S7,{isOpen:h,onClose:()=>p(!1),onJobCreated:v})]})},S2=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{toast:s}=ke(),{tenant:i}=Vn(),a=async()=>{if(i!=null&&i.id)try{r(!0);const d=["Filament","Packaging","Components","Printer Parts"],f=[];for(const h of d)if(h==="Filament"){const{data:p,error:y}=await G.from("filament_inventory").select("*").eq("tenant_id",i==null?void 0:i.id).order("created_at",{ascending:!1});if(y)throw y;const g=(p||[]).map(v=>({...v,category:h,remaining:v.remaining_grams,spoolSize:v.remaining_grams,usageHistory:[]}));f.push(...g)}else if(h==="Packaging"){const{data:p,error:y}=await G.from("packaging_inventory").select("*").eq("tenant_id",i==null?void 0:i.id).order("created_at",{ascending:!1});if(y)throw y;const g=(p||[]).map(v=>({...v,color:"",category:h,remaining:v.remaining_units,spoolSize:v.remaining_units,usageHistory:[]}));f.push(...g)}else if(h==="Components"){const{data:p,error:y}=await G.from("accessories_inventory").select("*").eq("tenant_id",i==null?void 0:i.id).order("created_at",{ascending:!1});if(y)throw y;const g=(p||[]).map(v=>({...v,color:"",category:h,remaining:v.remaining_units,spoolSize:v.remaining_units,usageHistory:[]}));f.push(...g)}else if(h==="Printer Parts"){const{data:p,error:y}=await G.from("printer_parts_inventory").select("*").eq("tenant_id",i==null?void 0:i.id).order("created_at",{ascending:!1});if(y)throw y;const g=(p||[]).map(v=>({...v,color:"",category:h,remaining:v.remaining_units,spoolSize:v.remaining_units,usageHistory:[]}));f.push(...g)}t(f)}catch(d){console.error("Error fetching materials:",d),(d==null?void 0:d.code)!=="PGRST116"&&(d==null?void 0:d.code)!=="42P01"&&s({title:"Error",description:"Failed to load materials from database.",variant:"destructive"}),t([])}finally{r(!1)}},l=async(d,f)=>{try{const h={type:f.type,brand:f.brand,location:f.location,cost_per_unit:f.cost_per_unit,low_threshold:f.low_threshold,reorder_link:f.reorder_link,tenant_id:i==null?void 0:i.id,status:f.remaining===0?"out_of_stock":f.remaining<=(f.low_threshold||100)?"low":"in_stock"};d==="Filament"&&(h.color=f.color);let p,y;if(d==="Filament"){h.remaining_grams=f.remaining,h.diameter=f.diameter||"1.75mm";const v=await G.from("filament_inventory").insert(h).select().single();p=v.data,y=v.error}else if(d==="Packaging"){h.remaining_units=f.remaining,delete h.color;const v=await G.from("packaging_inventory").insert(h).select().single();p=v.data,y=v.error}else if(d==="Components"){h.remaining_units=f.remaining,delete h.color;const v=await G.from("accessories_inventory").insert(h).select().single();p=v.data,y=v.error}else if(d==="Printer Parts"){h.remaining_units=f.remaining,delete h.color;const v=await G.from("printer_parts_inventory").insert(h).select().single();p=v.data,y=v.error}if(y)throw y;const g={...p,category:d,remaining:d==="Filament"?p.remaining_grams:p.remaining_units,spoolSize:d==="Filament"?p.remaining_grams:p.remaining_units,usageHistory:[]};return t(v=>[g,...v]),s({title:"Success",description:`${f.type} has been added to ${d} inventory.`}),g}catch(h){throw console.error("Error adding material:",h),s({title:"Error",description:"Failed to add material to database.",variant:"destructive"}),h}},c=async(d,f,h)=>{try{const p={...h};h.remaining!==void 0&&(f==="Filament"?(p.remaining_grams=h.remaining,delete p.remaining):(p.remaining_units=h.remaining,delete p.remaining)),delete p.category,delete p.spoolSize,delete p.usageHistory,delete p.id,delete p.tenant_id,delete p.created_at,delete p.updated_at;let y,g;if(f==="Filament"){const x=await G.from("filament_inventory").update(p).eq("id",d).select().single();y=x.data,g=x.error}else if(f==="Packaging"){const x=await G.from("packaging_inventory").update(p).eq("id",d).select().single();y=x.data,g=x.error}else if(f==="Components"){const x=await G.from("accessories_inventory").update(p).eq("id",d).select().single();y=x.data,g=x.error}else if(f==="Printer Parts"){const x=await G.from("printer_parts_inventory").update(p).eq("id",d).select().single();y=x.data,g=x.error}if(g)throw g;const v={...y,category:f,remaining:f==="Filament"?y.remaining_grams:y.remaining_units,spoolSize:f==="Filament"?y.remaining_grams:y.remaining_units,usageHistory:[]};return t(x=>x.map(w=>w.id===d?v:w)),s({title:"Success",description:"Material updated successfully."}),v}catch(p){throw console.error("Error updating material:",p),s({title:"Error",description:"Failed to update material.",variant:"destructive"}),p}},u=async(d,f)=>{try{let h;if(f==="Filament"?h=(await G.from("filament_inventory").delete().eq("id",d)).error:f==="Packaging"?h=(await G.from("packaging_inventory").delete().eq("id",d)).error:f==="Components"?h=(await G.from("accessories_inventory").delete().eq("id",d)).error:f==="Printer Parts"&&(h=(await G.from("printer_parts_inventory").delete().eq("id",d)).error),h)throw h;t(p=>p.filter(y=>y.id!==d)),s({title:"Success",description:"Material deleted successfully."})}catch(h){throw console.error("Error deleting material:",h),s({title:"Error",description:"Failed to delete material.",variant:"destructive"}),h}};return m.useEffect(()=>{i!=null&&i.id&&a()},[i==null?void 0:i.id]),{materials:e,loading:n,addMaterial:l,updateMaterial:c,deleteMaterial:u,refetch:a}};var C2="AlertDialog",[E7,RH]=Hn(C2,[IC]),hs=IC(),k2=e=>{const{__scopeAlertDialog:t,...n}=e,r=hs(t);return o.jsx(JC,{...r,...n,modal:!0})};k2.displayName=C2;var P7="AlertDialogTrigger",T7=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hs(n);return o.jsx(XC,{...s,...r,ref:t})});T7.displayName=P7;var R7="AlertDialogPortal",E2=e=>{const{__scopeAlertDialog:t,...n}=e,r=hs(t);return o.jsx(ZC,{...r,...n})};E2.displayName=R7;var M7="AlertDialogOverlay",P2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hs(n);return o.jsx(Px,{...s,...r,ref:t})});P2.displayName=M7;var Qi="AlertDialogContent",[A7,O7]=E7(Qi),T2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=hs(n),a=m.useRef(null),l=ye(t,a),c=m.useRef(null);return o.jsx(e6,{contentName:Qi,titleName:R2,docsSlug:"alert-dialog",children:o.jsx(A7,{scope:n,cancelRef:c,children:o.jsxs(Tx,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:K(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(Tv,{children:r}),o.jsx(D7,{contentRef:a})]})})})});T2.displayName=Qi;var R2="AlertDialogTitle",M2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hs(n);return o.jsx(Rx,{...s,...r,ref:t})});M2.displayName=R2;var A2="AlertDialogDescription",O2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hs(n);return o.jsx(Mx,{...s,...r,ref:t})});O2.displayName=A2;var I7="AlertDialogAction",I2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hs(n);return o.jsx(Ax,{...s,...r,ref:t})});I2.displayName=I7;var D2="AlertDialogCancel",F2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=O7(D2,n),i=hs(n),a=ye(t,s);return o.jsx(Ax,{...i,...r,ref:a})});F2.displayName=D2;var D7=({contentRef:e})=>{const t=`\`${Qi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qi}\` by passing a \`${A2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},F7=k2,L7=E2,L2=P2,$2=T2,U2=I2,z2=F2,B2=M2,W2=O2;const $7=F7,U7=L7,H2=m.forwardRef(({className:e,...t},n)=>o.jsx(L2,{className:Y("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));H2.displayName=L2.displayName;const V2=m.forwardRef(({className:e,...t},n)=>o.jsxs(U7,{children:[o.jsx(H2,{}),o.jsx($2,{ref:n,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));V2.displayName=$2.displayName;const q2=({className:e,...t})=>o.jsx("div",{className:Y("flex flex-col space-y-2 text-center sm:text-left",e),...t});q2.displayName="AlertDialogHeader";const K2=({className:e,...t})=>o.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});K2.displayName="AlertDialogFooter";const G2=m.forwardRef(({className:e,...t},n)=>o.jsx(B2,{ref:n,className:Y("text-lg font-semibold",e),...t}));G2.displayName=B2.displayName;const Y2=m.forwardRef(({className:e,...t},n)=>o.jsx(W2,{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));Y2.displayName=W2.displayName;const Q2=m.forwardRef(({className:e,...t},n)=>o.jsx(U2,{ref:n,className:Y(gc(),e),...t}));Q2.displayName=U2.displayName;const J2=m.forwardRef(({className:e,...t},n)=>o.jsx(z2,{ref:n,className:Y(gc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));J2.displayName=z2.displayName;const jb=({isOpen:e,onClose:t,onSubmit:n,activeTab:r,materialData:s,onMaterialDataChange:i,materialTypeOptions:a,onAddNewType:l,onRemoveType:c,isEditMode:u=!1})=>{const{colorPresets:d}=go(),[f,h]=m.useState([]),[p,y]=m.useState([]);return ke(),m.useEffect(()=>{if(r==="Filament"&&d.length>0){const g=[...new Set(d.map(v=>v.filament_type))];h(g)}},[r,d]),m.useEffect(()=>{if(s.type&&r==="Filament"){const g=d.filter(v=>v.filament_type===s.type);y(g),s.color&&!g.find(v=>v.color_name===s.color)&&i({...s,color:""})}else y([])},[s.type,d,r,s.color,i]),o.jsx(zt,{open:e,onOpenChange:t,children:o.jsxs(Et,{className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[o.jsxs(Pt,{children:[o.jsx(Tt,{children:u?"Edit Material":`Add New ${r}`}),o.jsx(Qo,{children:u?"Update material information.":`Add a new ${r.toLowerCase()} to your inventory.`})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[r==="Filament"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"type",className:"text-right",children:"Type *"}),o.jsx("div",{className:"col-span-3",children:o.jsxs(Ye,{value:s.type,onValueChange:g=>i({...s,type:g,color:""}),children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select filament type"})}),o.jsx(Ve,{children:f.map(g=>o.jsx(fe,{value:g,children:g},g))})]})})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"color",className:"text-right",children:"Color *"}),o.jsx("div",{className:"col-span-3",children:o.jsxs(Ye,{value:s.color,onValueChange:g=>i({...s,color:g}),disabled:!s.type,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:s.type?"Select color":"Select type first"})}),o.jsx(Ve,{children:p.map(g=>o.jsx(fe,{value:g.color_name,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded-full border border-border",style:{backgroundColor:g.hex_code}}),g.color_name]})},g.id))})]})})]})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"type",className:"text-right",children:"Type *"}),o.jsx("div",{className:"col-span-3",children:o.jsx(le,{id:"type",value:s.type,onChange:g=>i({...s,type:g.target.value}),placeholder:"Enter type"})})]})}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"brand",className:"text-right",children:"Brand"}),o.jsx(le,{id:"brand",value:s.brand,onChange:g=>i({...s,brand:g.target.value}),className:"col-span-3",placeholder:"e.g. Hatchbox, eSUN"})]}),r==="Filament"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"spoolSize",className:"text-right",children:"Spool Size (g) *"}),o.jsx(le,{id:"spoolSize",type:"number",value:s.spoolSize,onChange:g=>i({...s,spoolSize:g.target.value}),className:"col-span-3",placeholder:"1000"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"diameter",className:"text-right",children:"Diameter"}),o.jsx(le,{id:"diameter",value:s.diameter,onChange:g=>i({...s,diameter:g.target.value}),className:"col-span-3",placeholder:"1.75mm"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"costPerSpool",className:"text-right",children:"Cost Per Spool ($)"}),o.jsx(le,{id:"costPerSpool",type:"number",step:"0.01",value:s.costPerSpool,onChange:g=>i({...s,costPerSpool:g.target.value}),className:"col-span-3",placeholder:"25.99"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"remaining",className:"text-right",children:"Current Amount (g) *"}),o.jsx(le,{id:"remaining",type:"number",value:s.remaining,onChange:g=>i({...s,remaining:g.target.value}),className:"col-span-3",placeholder:"1000"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"lowThreshold",className:"text-right",children:"Low Threshold (g)"}),o.jsx(le,{id:"lowThreshold",type:"number",value:s.lowThreshold,onChange:g=>i({...s,lowThreshold:g.target.value}),className:"col-span-3",placeholder:"150"})]})]}),r!=="Filament"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"costPerUnit",className:"text-right",children:"Cost Per Unit ($)"}),o.jsx(le,{id:"costPerUnit",type:"number",step:"0.01",value:s.costPerSpool,onChange:g=>i({...s,costPerSpool:g.target.value}),className:"col-span-3",placeholder:"25.99"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"remaining",className:"text-right",children:"Current Stock (units) *"}),o.jsx(le,{id:"remaining",type:"number",value:s.remaining,onChange:g=>i({...s,remaining:g.target.value}),className:"col-span-3",placeholder:"100"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"lowThreshold",className:"text-right",children:"Low Threshold (units)"}),o.jsx(le,{id:"lowThreshold",type:"number",value:s.lowThreshold,onChange:g=>i({...s,lowThreshold:g.target.value}),className:"col-span-3",placeholder:"10"})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"reorderLink",className:"text-right",children:"Reorder Link"}),o.jsx("div",{className:"col-span-3",children:s.reorderLink&&!s.isEditingLink&&u?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{type:"button",onClick:()=>window.open(s.reorderLink,"_blank"),className:"flex-1",children:"Reorder"}),o.jsx(L,{type:"button",variant:"outline",onClick:()=>i({...s,isEditingLink:!0}),children:"Edit Link"})]}):o.jsxs("div",{className:"flex gap-2",children:[o.jsx(le,{id:"reorderLink",value:s.reorderLink||"",onChange:g=>i({...s,reorderLink:g.target.value}),placeholder:"https://example.com/product",className:"flex-1"}),s.isEditingLink&&u&&o.jsx(L,{type:"button",variant:"outline",onClick:()=>i({...s,isEditingLink:!1}),children:"Cancel"})]})})]})]}),o.jsx(hr,{children:o.jsx(L,{type:"submit",onClick:n,children:u?"Update Material":`Add ${r}`})})]})})},z7=e=>{switch(e){case"in_stock":return o.jsx(re,{className:"bg-green-600 text-white hover:bg-green-700",children:"In Stock"});case"low":return o.jsx(re,{className:"bg-yellow-500 text-black hover:bg-yellow-600",children:"Low"});case"out_of_stock":return o.jsx(re,{variant:"destructive",children:"Out of Stock"});default:return o.jsx(re,{children:e})}},B7=({materials:e,category:t,onSort:n,onEdit:r,onDelete:s})=>o.jsxs(Ga,{children:[o.jsx(Ya,{children:o.jsxs(gr,{children:[o.jsx(Re,{className:"cursor-pointer",onClick:()=>n("type"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Type",o.jsx(ml,{className:"h-4 w-4"})]})}),t==="Filament"&&o.jsx(Re,{className:"cursor-pointer",onClick:()=>n("color"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Color",o.jsx(ml,{className:"h-4 w-4"})]})}),o.jsx(Re,{className:"cursor-pointer",onClick:()=>n("brand"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Brand",o.jsx(ml,{className:"h-4 w-4"})]})}),o.jsx(Re,{className:"cursor-pointer",onClick:()=>n("remaining"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Remaining",o.jsx(ml,{className:"h-4 w-4"})]})}),o.jsx(Re,{className:"cursor-pointer",onClick:()=>n("status"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Status",o.jsx(ml,{className:"h-4 w-4"})]})}),o.jsx(Re,{children:o.jsx("span",{className:"sr-only",children:"Actions"})})]})}),o.jsx(Qa,{children:e.map(i=>{var a;return o.jsxs(gr,{children:[o.jsx(Pe,{className:"font-medium",children:i.type}),t==="Filament"&&o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:i.color||"",filamentType:t==="Filament"?i.type:void 0}),((a=i.color)==null?void 0:a.split("|")[0])||i.color]})}),o.jsx(Pe,{children:i.brand||"-"}),o.jsxs(Pe,{children:[i.remaining,t==="Filament"?"g":" units"]}),o.jsx(Pe,{children:z7(i.status||"")}),o.jsx(Pe,{children:i.reorder_link&&o.jsx(L,{variant:"outline",size:"sm",onClick:()=>window.open(i.reorder_link,"_blank"),className:"mr-2",children:"Reorder"})}),o.jsx(Pe,{children:o.jsxs(dr,{children:[o.jsx(fr,{asChild:!0,children:o.jsxs(L,{"aria-haspopup":"true",size:"icon",variant:"ghost",children:[o.jsx(Vo,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsxs(Ge,{onClick:()=>r(i),children:["Edit ",t]}),o.jsxs(Ge,{onClick:()=>s(i),className:"text-red-600",children:["Delete ",t]})]})]})})]},i.id)})})]}),W7={Filament:["PLA","ABS","PETG","TPU","Resin","Wood Fill","Metal Fill"],Packaging:["Bubble Wrap","Cardboard Box","Tape","Labels","Foam Insert"],Components:["Keychain","Double-sided Tape","Screws","Magnets","O-rings","Washers"],"Printer Parts":["Belt","Motor","Hotend","Extruder","Sensor","Fan"]},H7=()=>{var H;const{materials:e,loading:t,addMaterial:n,updateMaterial:r,deleteMaterial:s}=S2(),[i,a]=m.useState("Filament"),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[p,y]=m.useState(null),[g,v]=m.useState(""),[x,w]=m.useState(null),[b,j]=m.useState("asc"),[N,C]=m.useState(W7),[_,k]=m.useState({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1}),{toast:E}=ke(),R=(V,J)=>{const ve=J||150;return V===0?"out_of_stock":V<=ve?"low":"in_stock"},M=m.useMemo(()=>{let V=e.filter(J=>J.category===i&&(J.type.toLowerCase().includes(g.toLowerCase())||J.color.toLowerCase().includes(g.toLowerCase())||J.brand&&J.brand.toLowerCase().includes(g.toLowerCase())||J.status.toLowerCase().includes(g.toLowerCase())));return x&&V.sort((J,ve)=>{const X=J[x],$=ve[x];return X==null?1:$==null?-1:typeof X=="string"&&typeof $=="string"?b==="asc"?X.localeCompare($):$.localeCompare(X):typeof X=="number"&&typeof $=="number"?b==="asc"?X-$:$-X:0}),V},[e,g,x,b,i]),O=V=>{x===V?j(b==="asc"?"desc":"asc"):(w(V),j("asc"))},A=V=>{C({...N,[i]:[...N[i],V]}),E({title:"Type Added",description:`${V} has been added to ${i} types.`})},I=V=>{C({...N,[i]:N[i].filter(J=>J!==V)}),_.type===V&&k({..._,type:""}),E({title:"Type Removed",description:`${V} has been removed from ${i} types.`})},W=async()=>{if(!(i==="Filament"?_.type&&_.color&&_.remaining:_.type&&_.remaining)){E({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}const J=parseInt(_.remaining),ve=_.lowThreshold?parseInt(_.lowThreshold):150;try{await n(i,{type:_.type,color:_.color,brand:_.brand||void 0,remaining:J,diameter:_.diameter||void 0,location:_.location||void 0,cost_per_unit:_.costPerSpool?parseFloat(_.costPerSpool):void 0,low_threshold:ve,reorder_link:_.reorderLink||void 0}),k({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1}),c(!1)}catch{}},U=async()=>{if(!p||!(i==="Filament"?_.type&&_.color&&_.remaining:_.type&&_.remaining)){E({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}const J=parseInt(_.remaining),ve=_.lowThreshold?parseInt(_.lowThreshold):p.low_threshold||150;try{await r(p.id,p.category,{type:_.type,color:_.color,brand:_.brand||void 0,remaining:J,diameter:_.diameter||void 0,location:_.location||void 0,cost_per_unit:_.costPerSpool?parseFloat(_.costPerSpool):void 0,low_threshold:ve,reorder_link:_.reorderLink||void 0,status:R(J,ve)}),d(!1),y(null)}catch{}},D=async()=>{if(p)try{await s(p.id,p.category),h(!1),y(null)}catch{}},S=()=>{const J=[["Category","Type","Color","Brand","Spool Size","Diameter","Cost Per Spool","Reorder Link","Remaining","Status","Low Threshold"].join(","),...e.filter(Z=>Z.category===i).map(Z=>[Z.category,Z.type,Z.color.split("|")[0]||Z.color,Z.brand||"",Z.spoolSize,Z.diameter||"",Z.cost_per_unit||"",Z.reorder_link||"",Z.remaining,Z.status,Z.low_threshold||150].join(","))].join(`
`),ve=new Blob([J],{type:"text/csv"}),X=window.URL.createObjectURL(ve),$=document.createElement("a");$.href=X,$.download=`${i.toLowerCase()}-inventory.csv`,$.click(),window.URL.revokeObjectURL(X),E({title:"Export Complete",description:`${i} inventory exported to CSV file.`})},T=()=>{k({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1}),c(!0)},z=V=>{var J,ve,X;y(V),k({type:V.type,color:V.color||"",brand:V.brand||"",spoolSize:((J=V.remaining)==null?void 0:J.toString())||"",diameter:V.diameter||"",costPerSpool:((ve=V.cost_per_unit)==null?void 0:ve.toString())||"",location:V.location||"",remaining:((X=V.remaining)==null?void 0:X.toString())||"",lowThreshold:(V.low_threshold||150).toString(),image:"",reorderLink:V.reorder_link||"",isEditingLink:!1}),d(!0)},B=V=>{y(V),h(!0)};return o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Material Inventory"}),o.jsx("p",{className:"text-muted-foreground",children:"Track your filament, packaging, components, and printer parts."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(L,{variant:"outline",onClick:S,children:[o.jsx(nA,{className:"mr-2 h-4 w-4"}),"Export CSV"]}),o.jsxs(L,{onClick:T,children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add ",i]})]})]}),o.jsxs(Xa,{value:i,onValueChange:V=>{a(V),k({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1})},className:"w-full",children:[o.jsxs(ai,{className:"grid w-full grid-cols-4",children:[o.jsx(mt,{value:"Filament",children:"Filament"}),o.jsx(mt,{value:"Packaging",children:"Packaging"}),o.jsx(mt,{value:"Components",children:"Components"}),o.jsx(mt,{value:"Printer Parts",children:"Printer Parts"})]}),["Filament","Packaging","Components","Printer Parts"].map(V=>o.jsxs($t,{value:V,className:"mt-4 space-y-4",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(E_,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(le,{placeholder:`Search ${V.toLowerCase()}...`,value:g,onChange:J=>v(J.target.value),className:"pl-8"})]})}),o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsx(B7,{materials:M,category:V,onSort:O,onEdit:z,onDelete:B})})})]},V))]}),o.jsx(jb,{isOpen:l,onClose:()=>{c(!1),k({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1})},onSubmit:W,activeTab:i,materialData:_,onMaterialDataChange:k,materialTypeOptions:N,onAddNewType:A,onRemoveType:I}),o.jsx(jb,{isOpen:u,onClose:()=>{d(!1),k({type:"",color:"",brand:"",spoolSize:"",diameter:"",costPerSpool:"",location:"",remaining:"",lowThreshold:"",image:"",reorderLink:"",isEditingLink:!1})},onSubmit:U,activeTab:i,materialData:_,onMaterialDataChange:k,materialTypeOptions:N,onAddNewType:A,onRemoveType:I,isEditMode:!0}),o.jsx($7,{open:f,onOpenChange:h,children:o.jsxs(V2,{children:[o.jsxs(q2,{children:[o.jsx(G2,{children:"Are you sure?"}),o.jsxs(Y2,{children:["This will permanently delete ",p==null?void 0:p.type," (",((H=p==null?void 0:p.color)==null?void 0:H.split("|")[0])||(p==null?void 0:p.color),") from your inventory. This action cannot be undone."]})]}),o.jsxs(K2,{children:[o.jsx(J2,{children:"Cancel"}),o.jsx(Q2,{onClick:D,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},V7=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{tenant:s}=Vn(),{toast:i}=ke(),a=async()=>{if(s!=null&&s.id)try{r(!0);const{data:u,error:d}=await G.from("products").select(`
          id,
          name,
          requires_assembly,
          image_url,
          product_skus!inner (
            id,
            sku,
            color,
            price,
            finished_goods (
              id,
              current_stock,
              unit_price,
              assembly_status,
              status,
              material
            )
          )
        `).eq("tenant_id",s==null?void 0:s.id).eq("is_active",!0).eq("product_skus.is_active",!0).order("created_at",{ascending:!1});if(d)throw d;const f=(u||[]).map(h=>{const p=h.product_skus.map(v=>{var w;const x=(w=v.finished_goods)==null?void 0:w[0];return{id:(x==null?void 0:x.id)||`sku-${v.id}`,skuId:v.id,sku:v.sku,color:v.color,currentStock:(x==null?void 0:x.current_stock)||0,unitPrice:(x==null?void 0:x.unit_price)||v.price||0,assemblyStatus:(x==null?void 0:x.assembly_status)||"printed",status:(x==null?void 0:x.status)||"out_of_stock",material:(x==null?void 0:x.material)||"PLA"}}),y=p.reduce((v,x)=>v+x.currentStock,0),g=p.reduce((v,x)=>v+x.currentStock*x.unitPrice,0);return{productId:h.id,productName:h.name,requiresAssembly:h.requires_assembly,totalStock:y,totalValue:g,imageUrl:h.image_url,skus:p}});t(f)}catch(u){console.error("Error fetching product inventory:",u),i({title:"Error",description:"Failed to load product inventory",variant:"destructive"}),t([])}finally{r(!1)}},l=async(u,d)=>{try{const{error:f}=await G.from("finished_goods").update({current_stock:d,status:d===0?"out_of_stock":d<5?"low_stock":"in_stock"}).eq("id",u);if(f)throw f;i({title:"Success",description:"Stock updated successfully"}),await a()}catch(f){console.error("Error updating stock:",f),i({title:"Error",description:"Failed to update stock",variant:"destructive"})}};return m.useEffect(()=>{s!=null&&s.id&&a()},[s==null?void 0:s.id]),{productInventory:e,loading:n,updateStock:l,refetch:a,getFilteredInventory:u=>u==="all"?e:e.map(d=>({...d,skus:d.skus.filter(f=>u==="assembled"?f.assemblyStatus==="assembled":u==="needs_assembly"?f.assemblyStatus==="needs_assembly":!0)})).filter(d=>d.skus.length>0)}},q7=({product:e,isOpen:t,onClose:n,onAdjust:r})=>{const{toast:s}=ke(),[i,a]=m.useState("add"),[l,c]=m.useState(""),u=()=>{if(!l){s({title:"Error",description:"Please enter an adjustment amount.",variant:"destructive"});return}const d=parseInt(l);let f=e.quantity;switch(i){case"add":f+=d;break;case"remove":f=Math.max(0,f-d);break;case"set":f=d;break}r(e.id,f),c(""),n(),s({title:"Stock Adjusted",description:`Stock for ${e.name} has been updated to ${f} units.`})};return e?o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"sm:max-w-[425px]",children:[o.jsxs(Pt,{children:[o.jsxs(Tt,{className:"flex items-center gap-2",children:[o.jsx(at,{className:"h-5 w-5"}),"Adjust Stock - ",e.name]}),o.jsxs(Qo,{children:["Current stock: ",e.quantity," units"]})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"adjustment-type",className:"text-right",children:"Action *"}),o.jsxs(Ye,{value:i,onValueChange:d=>a(d),children:[o.jsx(He,{className:"col-span-3",children:o.jsx(Qe,{})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"add",children:"Add Stock"}),o.jsx(fe,{value:"remove",children:"Remove Stock"}),o.jsx(fe,{value:"set",children:"Set Stock"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Q,{htmlFor:"adjustment-amount",className:"text-right",children:i==="set"?"New Quantity *":"Amount *"}),o.jsx(le,{id:"adjustment-amount",type:"number",value:l,onChange:d=>c(d.target.value),className:"col-span-3",placeholder:"0"})]})]}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:n,children:"Cancel"}),o.jsx(L,{onClick:u,children:"Adjust Stock"})]})]})}):null},K7=()=>{const{productInventory:e,loading:t,updateStock:n,getFilteredInventory:r}=V7(),[s,i]=m.useState(new Set),[a,l]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState("all");ke();const h=C=>{const _=new Set(s);_.has(C)?_.delete(C):_.add(C),i(_)},p=C=>{u(C),l(!0)},y=async(C,_)=>{await n(C,_),u(null)},g=r(d),v=e.length,x=e.reduce((C,_)=>C+_.skus.length,0),w=e.reduce((C,_)=>C+_.totalStock,0),b=e.reduce((C,_)=>C+_.totalValue,0),j=e.reduce((C,_)=>C+_.skus.filter(k=>k.assemblyStatus==="assembled").length,0),N=e.reduce((C,_)=>C+_.skus.filter(k=>k.assemblyStatus==="needs_assembly").length,0);return o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Finished Goods Inventory"}),o.jsx("p",{className:"text-muted-foreground",children:"Track printed items, assembly tasks, and ready products."})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(_c,{type:"single",value:d,onValueChange:C=>C&&f(C),children:[o.jsx(xn,{value:"all","aria-label":"All Products",children:"All Products"}),o.jsx(xn,{value:"assembled","aria-label":"Assembled",children:"Assembled"}),o.jsx(xn,{value:"needs_assembly","aria-label":"Needs Assembly",children:"Needs Assembly"})]})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Products"}),o.jsx(at,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:v}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[x," total SKUs"]})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Assembled"}),o.jsx(Ir,{className:"h-4 w-4 text-green-600"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:j}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"ready for sale"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Needs Assembly"}),o.jsx(to,{className:"h-4 w-4 text-orange-500"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:N}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"awaiting assembly"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Total Value"}),o.jsx(at,{className:"h-4 w-4 text-blue-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",b.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[w," units"]})]})]})]}),o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"grid grid-cols-12 gap-4 pb-4 border-b border-border",children:[o.jsx("div",{className:"col-span-6 text-left text-sm font-medium text-muted-foreground",children:"Product"}),o.jsx("div",{className:"col-span-2 text-center text-sm font-medium text-muted-foreground",children:"Stock"}),o.jsx("div",{className:"col-span-2 text-center text-sm font-medium text-muted-foreground",children:"SKUs"}),o.jsx("div",{className:"col-span-2 text-right text-sm font-medium text-muted-foreground",children:"Value"})]}),o.jsxs("div",{className:"divide-y divide-border",children:[g.map(C=>o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-12 gap-4 py-4 hover:bg-muted/50 cursor-pointer",onClick:()=>h(C.productId),children:[o.jsxs("div",{className:"col-span-6 flex items-center gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:s.has(C.productId)?o.jsx(Af,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(Of,{className:"h-4 w-4 text-muted-foreground"})}),o.jsx("div",{className:"flex-shrink-0",children:C.imageUrl?o.jsx("img",{src:C.imageUrl,alt:C.productName,className:"w-10 h-10 rounded object-cover"}):o.jsx("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center",children:o.jsx(at,{className:"h-5 w-5 text-muted-foreground"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:C.productName}),o.jsx("div",{className:"text-sm text-muted-foreground",children:C.requiresAssembly?"Requires Assembly":"Ready to Print"})]})]}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:C.totalStock}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"units"})]}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:C.skus.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"variants"})]}),o.jsx("div",{className:"col-span-2 flex items-center justify-end gap-2",children:o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-medium",children:["$",C.totalValue.toFixed(2)]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"total value"})]})})]}),s.has(C.productId)&&o.jsx("div",{className:"bg-muted/25 border-l-4 border-primary/20",children:C.skus.map(_=>o.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 pl-8 hover:bg-muted/50",children:[o.jsx("div",{className:"col-span-6 flex items-center gap-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-sm",children:_.sku}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[_.color,"  ",_.material,"  $",_.unitPrice.toFixed(2),"/unit"]})]})}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:_.currentStock}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"units"})]}),o.jsx("div",{className:"col-span-2"}),o.jsxs("div",{className:"col-span-2 flex items-center justify-end gap-2",children:[o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"font-medium",children:["$",(_.currentStock*_.unitPrice).toFixed(2)]})}),o.jsxs(dr,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{size:"icon",variant:"ghost",children:o.jsx(Vo,{className:"h-4 w-4"})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsx(Ge,{onClick:()=>p(_),children:"Adjust Stock"}),_.assemblyStatus==="needs_assembly"&&o.jsx(Ge,{children:"View Assembly Task"})]})]})]})]},_.id))})]},C.productId)),g.length===0&&o.jsx("div",{className:"py-8 text-center text-muted-foreground",children:d==="all"?"No products found. Create products and SKUs to see inventory here.":`No products found with ${d==="assembled"?"assembled":"needs assembly"} status.`})]})]})})}),o.jsx(q7,{product:c?{id:c.id,name:c.sku,quantity:c.currentStock}:null,isOpen:a,onClose:()=>l(!1),onAdjust:y})]})};function wh(){return(wh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X2(e,t){if(e==null)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(s[n]=e[n]);return s}function Rg(e){var t=m.useRef(e),n=m.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var Sc=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},ql=function(e){return"touches"in e},Mg=function(e){return e&&e.ownerDocument.defaultView||self},_b=function(e,t,n){var r=e.getBoundingClientRect(),s=ql(t)?function(i,a){for(var l=0;l<i.length;l++)if(i[l].identifier===a)return i[l];return i[0]}(t.touches,n):t;return{left:Sc((s.pageX-(r.left+Mg(e).pageXOffset))/r.width),top:Sc((s.pageY-(r.top+Mg(e).pageYOffset))/r.height)}},Nb=function(e){!ql(e)&&e.preventDefault()},Z2=F.memo(function(e){var t=e.onMove,n=e.onKey,r=X2(e,["onMove","onKey"]),s=m.useRef(null),i=Rg(t),a=Rg(n),l=m.useRef(null),c=m.useRef(!1),u=m.useMemo(function(){var p=function(v){Nb(v),(ql(v)?v.touches.length>0:v.buttons>0)&&s.current?i(_b(s.current,v,l.current)):g(!1)},y=function(){return g(!1)};function g(v){var x=c.current,w=Mg(s.current),b=v?w.addEventListener:w.removeEventListener;b(x?"touchmove":"mousemove",p),b(x?"touchend":"mouseup",y)}return[function(v){var x=v.nativeEvent,w=s.current;if(w&&(Nb(x),!function(j,N){return N&&!ql(j)}(x,c.current)&&w)){if(ql(x)){c.current=!0;var b=x.changedTouches||[];b.length&&(l.current=b[0].identifier)}w.focus(),i(_b(w,x,l.current)),g(!0)}},function(v){var x=v.which||v.keyCode;x<37||x>40||(v.preventDefault(),a({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},g]},[a,i]),d=u[0],f=u[1],h=u[2];return m.useEffect(function(){return h},[h]),F.createElement("div",wh({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:s,onKeyDown:f,tabIndex:0,role:"slider"}))}),dy=function(e){return e.filter(Boolean).join(" ")},eP=function(e){var t=e.color,n=e.left,r=e.top,s=r===void 0?.5:r,i=dy(["react-colorful__pointer",e.className]);return F.createElement("div",{className:i,style:{top:100*s+"%",left:100*n+"%"}},F.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},St=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},G7=function(e){return Z7(Ag(e))},Ag=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?St(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?St(parseInt(e.substring(6,8),16)/255,2):1}},Y7=function(e){return X7(J7(e))},Q7=function(e){var t=e.s,n=e.v,r=e.a,s=(200-t)*n/100;return{h:St(e.h),s:St(s>0&&s<200?t*n/100/(s<=100?s:200-s)*100:0),l:St(s/2),a:St(r,2)}},Og=function(e){var t=Q7(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},J7=function(e){var t=e.h,n=e.s,r=e.v,s=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),a=r*(1-n),l=r*(1-(t-i)*n),c=r*(1-(1-t+i)*n),u=i%6;return{r:St(255*[r,l,a,a,c,r][u]),g:St(255*[c,r,r,l,a,a][u]),b:St(255*[a,a,c,r,r,l][u]),a:St(s,2)}},zu=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},X7=function(e){var t=e.r,n=e.g,r=e.b,s=e.a,i=s<1?zu(St(255*s)):"";return"#"+zu(t)+zu(n)+zu(r)+i},Z7=function(e){var t=e.r,n=e.g,r=e.b,s=e.a,i=Math.max(t,n,r),a=i-Math.min(t,n,r),l=a?i===t?(n-r)/a:i===n?2+(r-t)/a:4+(t-n)/a:0;return{h:St(60*(l<0?l+6:l)),s:St(i?a/i*100:0),v:St(i/255*100),a:s}},eW=F.memo(function(e){var t=e.hue,n=e.onChange,r=dy(["react-colorful__hue",e.className]);return F.createElement("div",{className:r},F.createElement(Z2,{onMove:function(s){n({h:360*s.left})},onKey:function(s){n({h:Sc(t+360*s.left,0,360)})},"aria-label":"Hue","aria-valuenow":St(t),"aria-valuemax":"360","aria-valuemin":"0"},F.createElement(eP,{className:"react-colorful__hue-pointer",left:t/360,color:Og({h:t,s:100,v:100,a:1})})))}),tW=F.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Og({h:t.h,s:100,v:100,a:1})};return F.createElement("div",{className:"react-colorful__saturation",style:r},F.createElement(Z2,{onMove:function(s){n({s:100*s.left,v:100-100*s.top})},onKey:function(s){n({s:Sc(t.s+100*s.left,0,100),v:Sc(t.v-100*s.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+St(t.s)+"%, Brightness "+St(t.v)+"%"},F.createElement(eP,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Og(t)})))}),tP=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},nW=function(e,t){return e.toLowerCase()===t.toLowerCase()||tP(Ag(e),Ag(t))};function rW(e,t,n){var r=Rg(n),s=m.useState(function(){return e.toHsva(t)}),i=s[0],a=s[1],l=m.useRef({color:t,hsva:i});m.useEffect(function(){if(!e.equal(t,l.current.color)){var u=e.toHsva(t);l.current={hsva:u,color:t},a(u)}},[t,e]),m.useEffect(function(){var u;tP(i,l.current.hsva)||e.equal(u=e.fromHsva(i),l.current.color)||(l.current={hsva:i,color:u},r(u))},[i,e,r]);var c=m.useCallback(function(u){a(function(d){return Object.assign({},d,u)})},[]);return[i,c]}var sW=typeof window<"u"?m.useLayoutEffect:m.useEffect,oW=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Sb=new Map,iW=function(e){sW(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Sb.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Sb.set(t,n);var r=oW();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},aW=function(e){var t=e.className,n=e.colorModel,r=e.color,s=r===void 0?n.defaultColor:r,i=e.onChange,a=X2(e,["className","colorModel","color","onChange"]),l=m.useRef(null);iW(l);var c=rW(n,s,i),u=c[0],d=c[1],f=dy(["react-colorful",t]);return F.createElement("div",wh({},a,{ref:l,className:f}),F.createElement(tW,{hsva:u,onChange:d}),F.createElement(eW,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},lW={defaultColor:"000",toHsva:G7,fromHsva:function(e){return Y7({h:e.h,s:e.s,v:e.v,a:1})},equal:nW},cW=function(e){return F.createElement(aW,wh({},e,{colorModel:lW}))};const uW=({isOpen:e,onClose:t})=>{const{colorPresets:n,loading:r,createColorPreset:s,updateColorPreset:i,deleteColorPreset:a,refetch:l}=go(),[c,u]=m.useState(null),[d,f]=m.useState({colorName:"",hexCode:"#ff0000",filamentType:""}),[h,p]=m.useState(!1),[y,g]=m.useState(null),v=["PLA","ABS","PETG","TPU","ASA","PC","Nylon","PVA","HIPS","Wood Fill","Metal Fill"];m.useEffect(()=>{},[e]);const x=async()=>{if(!d.colorName.trim()||!d.filamentType)return;let _=!1;c?_=await i(c.id,d.colorName,d.hexCode,d.filamentType):_=await s(d.colorName,d.hexCode,d.filamentType),_&&(f({colorName:"",hexCode:"#ff0000",filamentType:""}),u(null),p(!1))},w=_=>{u(_),f({colorName:_.color_name,hexCode:_.hex_code,filamentType:_.filament_type}),p(!0)},b=_=>{g(_)},j=async()=>{y&&(await a(y.id),g(null))},N=()=>{g(null)},C=()=>{f({colorName:"",hexCode:"#ff0000",filamentType:""}),u(null),p(!1)};return o.jsxs(o.Fragment,{children:[o.jsx(zt,{open:e,onOpenChange:t,children:o.jsxs(Et,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[o.jsx(Pt,{children:o.jsx(Tt,{children:"Manage Filament Colors & Types"})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(Q,{children:"Current Color Presets"}),o.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto border rounded-md p-4",children:[n.map(_=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full border border-border",style:{backgroundColor:_.hex_code}}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-medium",children:_.color_name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:_.filament_type})]})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(L,{size:"sm",variant:"ghost",onClick:()=>w(_),className:"h-8 w-8 p-0",children:o.jsx(Od,{className:"h-4 w-4"})}),o.jsx(L,{size:"sm",variant:"ghost",onClick:()=>b(_),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:o.jsx(eo,{className:"h-4 w-4"})})]})]},_.id)),n.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No color presets yet. Add one below."})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Q,{children:c?"Edit Color Preset":"Add New Color Preset"}),o.jsxs(L,{variant:"outline",size:"sm",onClick:()=>p(!h),children:[o.jsx(mA,{className:"h-4 w-4 mr-2"}),h?"Hide":"Show"," Color Picker"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"filament-type",children:"Filament Type"}),o.jsxs(Ye,{value:d.filamentType,onValueChange:_=>f({...d,filamentType:_}),children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select type"})}),o.jsx(Ve,{children:v.map(_=>o.jsx(fe,{value:_,children:_},_))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"color-name",children:"Color Name"}),o.jsx(le,{id:"color-name",value:d.colorName,onChange:_=>f({...d,colorName:_.target.value}),placeholder:"e.g. Metallic Silver"})]})]}),h&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(cW,{color:d.hexCode,onChange:_=>f({...d,hexCode:_})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-border",style:{backgroundColor:d.hexCode}}),o.jsx(le,{value:d.hexCode,onChange:_=>f({...d,hexCode:_.target.value}),className:"font-mono",placeholder:"#000000"})]})]})]})]}),o.jsxs(hr,{className:"gap-2",children:[o.jsx(L,{variant:"outline",onClick:t,children:"Close"}),c&&o.jsx(L,{variant:"outline",onClick:C,children:"Cancel Edit"}),o.jsx(L,{onClick:x,children:c?"Update Color":o.jsxs(o.Fragment,{children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Color"]})})]})]})}),o.jsx(zt,{open:!!y,onOpenChange:()=>g(null),children:o.jsxs(Et,{className:"sm:max-w-[400px]",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(Fc,{className:"h-5 w-5"}),"Delete Color Preset"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to permanently delete this color preset?"}),y&&o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[o.jsx("div",{className:"w-6 h-6 rounded-full border border-border",style:{backgroundColor:y.hex_code}}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:y.color_name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:y.filament_type})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This action cannot be undone. The color preset will be permanently removed from your account."})]}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:N,children:"Cancel"}),o.jsxs(L,{variant:"destructive",onClick:j,children:[o.jsx(eo,{className:"mr-2 h-4 w-4"}),"Delete Permanently"]})]})]})})]})},dW=ni("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fy=m.forwardRef(({className:e,variant:t,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:Y(dW({variant:t}),e),...n}));fy.displayName="Alert";const fW=m.forwardRef(({className:e,...t},n)=>o.jsx("h5",{ref:n,className:Y("mb-1 font-medium leading-none tracking-tight",e),...t}));fW.displayName="AlertTitle";const hy=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:Y("text-sm [&_p]:leading-relaxed",e),...t}));hy.displayName="AlertDescription";const hW=()=>{const{tenant:e,user:t,profile:n}=si(),{toast:r}=ke(),s=rx(),[i,a]=m.useState(!1),[l,c]=m.useState({email:"",fullName:"",role:"operator"}),{data:u,isLoading:d}=UI({queryKey:["tenant-users",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:x,error:w}=await G.from("profiles").select("*").eq("tenant_id",e.id).order("created_at",{ascending:!1});if(w)throw w;return x},enabled:!!e}),f=am({mutationFn:async x=>{if(!e)throw new Error("No tenant context");const{error:w}=await G.auth.admin.inviteUserByEmail(x.email,{data:{full_name:x.fullName,tenant_id:e.id},redirectTo:`${window.location.origin}/`});if(w)throw w;return x},onSuccess:()=>{r({title:"User Invited",description:"The user has been sent an invitation email."}),a(!1),c({email:"",fullName:"",role:"operator"}),s.invalidateQueries({queryKey:["tenant-users",e==null?void 0:e.id]})},onError:x=>{r({title:"Invitation Failed",description:x.message,variant:"destructive"})}}),h=am({mutationFn:async({userId:x,role:w})=>{if(!e)throw new Error("No tenant context");if((n==null?void 0:n.role)!=="admin")throw new Error("Only administrators can change user roles");const{error:b}=await G.from("profiles").update({role:w}).eq("id",x).eq("tenant_id",e.id);if(b)throw b},onSuccess:()=>{r({title:"User Updated",description:"User role has been updated successfully."}),s.invalidateQueries({queryKey:["tenant-users",e==null?void 0:e.id]})},onError:x=>{r({title:"Update Failed",description:x.message,variant:"destructive"})}}),p=am({mutationFn:async x=>{if(!e)throw new Error("No tenant context");const{error:w}=await G.from("profiles").delete().eq("id",x).eq("tenant_id",e.id);if(w)throw w;const{error:b}=await G.from("profiles").update({is_active:!1}).eq("id",x);if(b)throw b},onSuccess:()=>{r({title:"User Removed",description:"User has been removed from the organization."}),s.invalidateQueries({queryKey:["tenant-users",e==null?void 0:e.id]})},onError:x=>{r({title:"Delete Failed",description:x.message,variant:"destructive"})}});if(!e||!n||n.role!=="admin")return o.jsxs(fy,{children:[o.jsx(L0,{className:"h-4 w-4"}),o.jsx(hy,{children:"You need admin privileges to access user management."})]});const y=x=>{x.preventDefault(),f.mutate(l)},g=x=>{switch(x){case"admin":return o.jsx(L0,{className:"h-4 w-4 text-red-500"});case"operator":return o.jsx(Dd,{className:"h-4 w-4 text-blue-500"});case"viewer":return o.jsx(bA,{className:"h-4 w-4 text-gray-500"});default:return o.jsx(Dd,{className:"h-4 w-4"})}},v=x=>{switch(x){case"admin":return"destructive";case"operator":return"default";case"viewer":return"secondary";default:return"outline"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),o.jsxs("p",{className:"text-muted-foreground",children:["Manage users and permissions for ",e.company_name]})]}),o.jsxs(zt,{open:i,onOpenChange:a,children:[o.jsx(ek,{asChild:!0,children:o.jsxs(L,{children:[o.jsx(wA,{className:"mr-2 h-4 w-4"}),"Invite User"]})}),o.jsxs(Et,{children:[o.jsxs(Pt,{children:[o.jsx(Tt,{children:"Invite New User"}),o.jsxs(Qo,{children:["Send an invitation to a new user to join ",e.company_name,"."]})]}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"invite-name",children:"Full Name"}),o.jsx(le,{id:"invite-name",value:l.fullName,onChange:x=>c({...l,fullName:x.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"invite-email",children:"Email"}),o.jsx(le,{id:"invite-email",type:"email",value:l.email,onChange:x=>c({...l,email:x.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"invite-role",children:"Role"}),o.jsxs(Ye,{value:l.role,onValueChange:x=>c({...l,role:x}),children:[o.jsx(He,{children:o.jsx(Qe,{})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"viewer",children:"Viewer - Read only access"}),o.jsx(fe,{value:"operator",children:"Operator - Standard access"}),o.jsx(fe,{value:"admin",children:"Admin - Full access"})]})]})]}),o.jsx(hr,{children:o.jsx(L,{type:"submit",disabled:f.isPending,children:f.isPending?"Sending...":"Send Invitation"})})]})]})]})]}),o.jsx(Dr,{}),o.jsxs(se,{children:[o.jsxs(ce,{children:[o.jsx(ue,{children:"Organization Members"}),o.jsxs(Fa,{children:[(u==null?void 0:u.length)||0," members in ",e.company_name]})]}),o.jsx(ie,{children:d?o.jsx("div",{className:"text-center py-4",children:"Loading users..."}):o.jsxs(Ga,{children:[o.jsx(Ya,{children:o.jsxs(gr,{children:[o.jsx(Re,{children:"Name"}),o.jsx(Re,{children:"Email"}),o.jsx(Re,{children:"Role"}),o.jsx(Re,{children:"Status"}),o.jsx(Re,{children:"Joined"}),o.jsx(Re,{children:"Actions"})]})}),o.jsx(Qa,{children:u==null?void 0:u.map(x=>o.jsxs(gr,{children:[o.jsxs(Pe,{className:"font-medium",children:[x.first_name," ",x.last_name]}),o.jsx(Pe,{children:x.email}),o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[g(x.role||"operator"),o.jsx(re,{variant:v(x.role||"operator"),children:x.role||"operator"})]})}),o.jsx(Pe,{children:o.jsx(re,{variant:x.is_active?"success":"secondary",children:x.is_active?"Active":"Inactive"})}),o.jsx(Pe,{children:x.created_at?new Date(x.created_at).toLocaleDateString():"N/A"}),o.jsx(Pe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[x.id!==(t==null?void 0:t.id)&&o.jsxs(o.Fragment,{children:[o.jsxs(Ye,{value:x.role||"operator",onValueChange:w=>h.mutate({userId:x.id,role:w}),disabled:(n==null?void 0:n.role)!=="admin",children:[o.jsx(He,{className:"w-32",children:o.jsx(Qe,{})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"viewer",children:"Viewer"}),o.jsx(fe,{value:"operator",children:"Operator"}),o.jsx(fe,{value:"admin",children:"Admin"})]})]}),o.jsx(L,{variant:"destructive",size:"sm",onClick:()=>p.mutate(x.id),disabled:p.isPending||(n==null?void 0:n.role)!=="admin",children:o.jsx(eo,{className:"h-4 w-4"})})]}),x.id===(t==null?void 0:t.id)&&o.jsx(re,{variant:"outline",children:"You"})]})})]},x.id))})]})})]})]})},mW=()=>{const{toast:e}=ke(),{setTheme:t,theme:n}=Bv(),{profile:r}=si(),[s,i]=m.useState(!1),a=()=>{e({title:"Settings Updated",description:"Your settings have been successfully updated."})};return o.jsxs("div",{className:"flex flex-col gap-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Configure your 3D printing management preferences."})]}),o.jsxs(Xa,{defaultValue:"general",className:"space-y-8",children:[o.jsxs(ai,{children:[o.jsx(mt,{value:"general",children:"General"}),(r==null?void 0:r.role)==="admin"&&o.jsx(mt,{value:"users",children:"User Management"})]}),o.jsxs($t,{value:"general",className:"space-y-8",children:[o.jsxs("div",{className:"rounded-lg border p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"General Settings"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Configure general preferences for your print farm."}),o.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"theme",children:"Theme"}),o.jsxs(Ye,{value:n||"system",onValueChange:l=>t(l),children:[o.jsx(He,{children:o.jsx(Qe,{})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"light",children:"Light"}),o.jsx(fe,{value:"dark",children:"Dark"}),o.jsx(fe,{value:"system",children:"System"})]})]})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{children:"Filament Colors & Types"}),o.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"Manage the filament types and colors available for selection across the system"}),o.jsx(L,{variant:"outline",onClick:()=>i(!0),className:"w-fit",children:"Manage Colors & Types"})]})})]})]}),o.jsxs("div",{className:"rounded-lg border p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Billing & Account"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Manage your subscription, billing, and account details."}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Account Details"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View past invoices, change billing address, or manage current subscriptions."}),o.jsx(L,{variant:"outline",className:"w-fit",children:"Open Billing Portal"})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Method"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Add new payment methods to your account."}),o.jsx(L,{variant:"outline",className:"w-fit",children:"Manage Payment Method"})]})})]}),o.jsx("div",{className:"mt-8 p-4 bg-muted/50 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium",children:"Current Printers"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Active printers on your plan"})]}),o.jsx("div",{className:"text-2xl font-bold",children:"1/"})]})}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Subscription & Plans"}),o.jsxs("div",{className:"flex items-center justify-center mb-6",children:[o.jsx("span",{className:"text-sm font-medium mr-3",children:"Monthly"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"checkbox",id:"billing-toggle",className:"sr-only",onChange:()=>{}}),o.jsx("label",{htmlFor:"billing-toggle",className:"flex items-center cursor-pointer",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"block bg-muted w-14 h-8 rounded-full"}),o.jsx("div",{className:"dot absolute left-1 top-1 bg-background w-6 h-6 rounded-full transition"})]})})]}),o.jsx("span",{className:"text-sm font-medium ml-3",children:"Annual (Save up to 20%)"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"border rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Monthly Plan"}),o.jsxs("div",{className:"text-3xl font-bold mb-2",children:["$29.99",o.jsx("span",{className:"text-lg font-normal",children:"/printer/mo"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Billed monthly per printer"}),o.jsx(L,{className:"w-full",children:"Current Plan"})]})}),o.jsxs("div",{className:"border rounded-lg p-6 relative",children:[o.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:o.jsx("span",{className:"bg-primary text-primary-foreground px-3 py-1 rounded-full text-sm font-medium",children:"Save 20%"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Annual Plan"}),o.jsxs("div",{className:"text-3xl font-bold mb-2",children:["$23.99",o.jsx("span",{className:"text-lg font-normal",children:"/printer/mo"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Billed annually per printer"}),o.jsx(L,{variant:"outline",className:"w-full",children:"Switch to Annual"})]})]})]}),o.jsx("div",{className:"mt-8 p-4 border rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Extra Printers"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Add additional printers to your plan"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(L,{variant:"outline",size:"icon",children:"-"}),o.jsx("span",{className:"font-medium w-8 text-center",children:"0"}),o.jsx(L,{variant:"outline",size:"icon",children:"+"}),o.jsx("span",{className:"text-sm text-muted-foreground ml-4",children:"x $29.99/mo"})]})]})})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(L,{onClick:a,children:"Save Settings"})})]}),(r==null?void 0:r.role)==="admin"&&o.jsx($t,{value:"users",children:o.jsx(hW,{})})]}),o.jsx(uW,{isOpen:s,onClose:()=>i(!1)})]})},pW=()=>{const[e,t]=m.useState(""),[n,r]=m.useState("all"),s=Da(),i=[{id:1,name:"SUNLU PLA+ Filament",brand:"SUNLU",material:"PLA+",color:"Black",price:25.99,weight:"1kg",diameter:"1.75mm",inStock:!0,image:"/placeholder.svg"},{id:2,name:"Bambu Lab ABS Filament",brand:"Bambu Lab",material:"ABS",color:"White",price:29.99,weight:"1kg",diameter:"1.75mm",inStock:!0,image:"/placeholder.svg"},{id:3,name:"eSUN PETG Filament",brand:"eSUN",material:"PETG",color:"Clear",price:32.99,weight:"1kg",diameter:"1.75mm",inStock:!1,image:"/placeholder.svg"},{id:4,name:"Hatchbox TPU Flexible",brand:"Hatchbox",material:"TPU",color:"Red",price:45.99,weight:"1kg",diameter:"1.75mm",inStock:!0,image:"/placeholder.svg"}],a=[{id:1,name:"Build Plate",brand:"Bambu Lab",type:"Print Surface",price:39.99,compatibility:"A1 Series",inStock:!0,image:"/placeholder.svg"},{id:2,name:"Nozzle Set (0.2-0.8mm)",brand:"Generic",type:"Printer Parts",price:24.99,compatibility:"Universal",inStock:!0,image:"/placeholder.svg"},{id:3,name:"PTFE Tube",brand:"Capricorn",type:"Printer Parts",price:12.99,compatibility:"Universal",inStock:!0,image:"/placeholder.svg"},{id:4,name:"Cleaning Kit",brand:"PrintClean",type:"Maintenance",price:18.99,compatibility:"Universal",inStock:!1,image:"/placeholder.svg"}],l=[{id:1,name:"Digital Calipers",brand:"Mitutoyo",type:"Measurement",price:89.99,accuracy:"0.02mm",inStock:!0,image:"/placeholder.svg"},{id:2,name:"Print Removal Tool Set",brand:"Craftsman",type:"Hand Tools",price:15.99,material:"Steel",inStock:!0,image:"/placeholder.svg"},{id:3,name:"Heat Gun",brand:"Wagner",type:"Power Tools",price:35.99,temperature:"300-1200F",inStock:!0,image:"/placeholder.svg"}],c=i.filter(p=>p.name.toLowerCase().includes(e.toLowerCase())&&(n==="all"||n==="filaments")),u=a.filter(p=>p.name.toLowerCase().includes(e.toLowerCase())&&(n==="all"||n==="accessories")),d=l.filter(p=>p.name.toLowerCase().includes(e.toLowerCase())&&(n==="all"||n==="tools")),f=[...c.map(p=>({...p,type:"filament",category:"filaments"})),...u.map(p=>({...p,type:"accessory",category:"accessories"})),...d.map(p=>({...p,type:"tool",category:"tools"}))].filter(p=>{const y=p.name.toLowerCase().includes(e.toLowerCase()),g=n==="all"||n===p.category;return y&&g}),h=({product:p})=>o.jsx("div",{className:"group cursor-pointer",onClick:()=>s(`/store/product/${p.id}?type=${p.type}`),children:o.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[o.jsxs("div",{className:"aspect-square bg-gray-50 flex items-center justify-center relative",children:[p.id===1&&o.jsx(re,{className:"absolute top-2 left-2 bg-red-500 hover:bg-red-500 text-white",children:"SALE"}),o.jsx("span",{className:"text-gray-400 text-sm",children:"Product Image"})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium text-gray-900 text-sm mb-1 line-clamp-2",children:p.name}),o.jsxs("p",{className:"text-gray-900 font-semibold",children:["$",p.price]})]})]})});return o.jsx("div",{className:"min-h-screen bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(E_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(le,{placeholder:"Search products...",value:e,onChange:p=>t(p.target.value),className:"pl-10 border-gray-200 focus:border-gray-300"})]}),o.jsxs(Ye,{value:n,onValueChange:r,children:[o.jsx(He,{className:"w-full sm:w-48 border-gray-200",children:o.jsx(Qe,{placeholder:"Category"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"all",children:"All Categories"}),o.jsx(fe,{value:"filaments",children:"Filaments"}),o.jsx(fe,{value:"accessories",children:"Accessories"}),o.jsx(fe,{value:"tools",children:"Tools"})]})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:f.map(p=>o.jsx(h,{product:p},`${p.type}-${p.id}`))})]})})};function gW({children:e,...t}){return o.jsx(iO,{...t,children:e})}const nP=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{tenant:s}=Vn(),{toast:i}=ke(),a=m.useCallback(async()=>{if(!(s!=null&&s.id)){console.log("No tenant ID available, setting loading to false"),r(!1);return}try{r(!0),console.log("Fetching products for tenant:",s==null?void 0:s.id);const g=await fetch("/api/products-sync/");if(!g.ok)throw new Error(`Failed to fetch products: ${g.statusText}`);const v=await g.json();console.log("Products fetched successfully:",(v==null?void 0:v.length)||0,"products");const x=await fetch("/api/print-files-sync/");if(!x.ok)throw new Error(`Failed to fetch print files: ${x.statusText}`);const w=await x.json(),b=await fetch("/api/product-skus-sync/");if(!b.ok)throw new Error(`Failed to fetch product SKUs: ${b.statusText}`);const j=await b.json(),{data:N,error:C}=await G.from("product_components").select("*").eq("tenant_id",s==null?void 0:s.id);if(C)throw C;const _=(v||[]).map(k=>{const E=w.find(R=>R.id===k.print_file_id);return{...k,skus:(j||[]).filter(R=>R.product_id===k.id),components:(N||[]).filter(R=>R.product_id===k.id),print_file:E?{id:E.id,name:E.name}:null}});console.log("Final products with details:",_.length),t(_)}catch(g){console.error("Error fetching products:",g),(g==null?void 0:g.code)!=="PGRST116"&&(g==null?void 0:g.code)!=="42P01"&&i({title:"Error",description:"Failed to load products",variant:"destructive"})}finally{r(!1)}},[s==null?void 0:s.id,i]);m.useEffect(()=>{if(!(s!=null&&s.id))return;const g=G.channel("product-supabase-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"finished_goods",filter:`tenant_id=eq.${s.id}`},v=>{console.log("Finished goods stock updated:",v),a()}).on("postgres_changes",{event:"*",schema:"public",table:"product_components",filter:`tenant_id=eq.${s.id}`},v=>{console.log("Product components changed:",v),a()}).subscribe();return()=>{G.removeChannel(g)}},[s==null?void 0:s.id,a]);const l=m.useCallback(async g=>{if(!(s!=null&&s.id)){i({title:"Error",description:"No tenant context available",variant:"destructive"});return}try{const{components:v,skus:x,...w}=g;console.log("Adding product with data:",w);const b=await fetch("/api/products-sync/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...w})});if(!b.ok)throw new Error(`Failed to create product: ${b.statusText}`);const j=await b.json();if(!j.success)throw new Error(j.message||"Failed to create product");const N=j.product;if(console.log("Product created successfully:",N),v&&v.length>0){const C=v.map(k=>({product_id:N.id,component_name:k.component_name,component_type:k.component_type,quantity_required:k.quantity_required,notes:k.notes,tenant_id:s==null?void 0:s.id})),{error:_}=await G.from("product_components").insert(C);_&&console.error("Error saving components:",_)}if(x&&x.length>0)for(const C of x)try{const _=await fetch("/api/product-skus-sync/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_id:N.id,sku:C.sku,color:C.color,filament_type:C.filament_type,hex_code:C.hex_code,quantity:C.quantity,stock_level:C.stock_level||0,price:C.price})});if(!_.ok)throw new Error(`Failed to create SKU: ${_.statusText}`);const k=await _.json();if(!k.success)throw new Error(k.message||"Failed to create SKU")}catch(_){console.error("Error saving SKU:",_)}return i({title:"Success",description:"Product added successfully"}),await a(),N}catch(v){console.error("Error adding product:",v),i({title:"Error",description:"Failed to add product",variant:"destructive"})}},[s==null?void 0:s.id,i,a]),c=m.useCallback(async(g,v)=>{try{const{components:x,skus:w,...b}=v,j=e.find(M=>M.id===g),N=j==null?void 0:j.print_file_id,C=b.print_file_id,_=N!==C;console.log("Updating product:",{productId:g,oldPrintFileId:N,newPrintFileId:C,isPrintFileChanged:_});const k=await fetch(`/api/products-sync/${g}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!k.ok)throw new Error(`Failed to update product: ${k.statusText}`);const E=await k.json();if(!E.success)throw new Error(E.message||"Failed to update product");const R=E.product;if(_&&N)try{const M=await fetch(`/api/print-files-sync/${N}`,{method:"DELETE"});!M.ok||!(await M.json()).success?(console.error("Failed to delete old print file via API"),i({title:"Warning",description:"Old file may not have been cleaned up properly",variant:"default"})):console.log("Successfully deleted old print file:",N)}catch(M){console.error("Error during print file cleanup:",M)}if(x!==void 0&&(await G.from("product_components").delete().eq("product_id",g),x.length>0)){const M=x.map(A=>({product_id:g,component_name:A.component_name,component_type:A.component_type,quantity_required:A.quantity_required,notes:A.notes,tenant_id:s==null?void 0:s.id})),{error:O}=await G.from("product_components").insert(M);O&&console.error("Error updating components:",O)}if(w!=null&&Array.isArray(w)){console.log("Updating SKUs for product:",g,w);const{data:M,error:O}=await G.from("product_skus").select("*").eq("product_id",g);if(O)throw console.error("Error fetching current SKUs:",O),O;const A=new Map;M==null||M.forEach(S=>{A.set(S.id,S)});const I=new Map,W=[],U=[];w.forEach(S=>{if(S.id&&S.id.startsWith("temp-"))W.push({product_id:g,sku:S.sku,color:S.color,filament_type:S.filament_type,hex_code:S.hex_code,quantity:S.quantity,stock_level:S.stock_level||0,price:S.price,tenant_id:s==null?void 0:s.id});else if(S.id&&A.has(S.id)){const T=A.get(S.id);I.set(S.id,S),(T.sku!==S.sku||T.color!==S.color||T.filament_type!==S.filament_type||T.hex_code!==S.hex_code||T.quantity!==S.quantity||T.stock_level!==S.stock_level||T.price!==S.price)&&U.push({id:S.id,sku:S.sku,color:S.color,filament_type:S.filament_type,hex_code:S.hex_code,quantity:S.quantity,stock_level:S.stock_level||0,price:S.price})}});const D=[];if(M==null||M.forEach(S=>{!I.has(S.id)&&!w.some(T=>T.id===S.id)&&D.push(S.id)}),W.length>0){const{error:S}=await G.from("product_skus").insert(W);if(S)throw console.error("Error inserting new SKUs:",S),S}for(const S of U){const{id:T,...z}=S,{error:B}=await G.from("product_skus").update(z).eq("id",T);if(B)throw console.error("Error updating SKU:",B),B}if(D.length>0){const{error:S}=await G.from("product_skus").delete().in("id",D);if(S)throw console.error("Error deleting SKUs:",S),S}console.log("SKU operations completed:",{inserted:W.length,updated:U.length,deleted:D.length})}else console.log("No SKUs to update - preserving existing SKUs for product:",g);return i({title:"Success",description:"Product updated successfully"}),await a(),R}catch(x){throw console.error("Error updating product:",x),i({title:"Error",description:"Failed to update product",variant:"destructive"}),x}},[s==null?void 0:s.id,i,a,e]),u=m.useCallback(async g=>{try{const v=e.find(b=>b.id===g),x=await fetch(`/api/products-sync/${g}`,{method:"DELETE"});if(!x.ok)throw new Error(`Failed to delete product: ${x.statusText}`);const w=await x.json();if(!w.success)throw new Error(w.message||"Failed to delete product");if(v!=null&&v.print_file_id)try{const b=await fetch(`/api/print-files-sync/${v.print_file_id}`,{method:"DELETE"});(!b.ok||!(await b.json()).success)&&console.warn("Failed to delete associated print file via API")}catch(b){console.warn("Failed to delete associated print file:",b)}if(v!=null&&v.components&&v.components.length>0){const{error:b}=await G.from("product_components").delete().eq("product_id",g);b&&console.warn("Failed to delete product components:",b)}try{const b=window.location.hostname;let j;b==="192.168.4.45"||b==="localhost"||b==="127.0.0.1"?j=`${window.location.protocol}//${window.location.host}`:j="http://192.168.4.45:8080";const N=await fetch(`${j}/api/available-files/maintenance/cleanup-orphaned`,{method:"POST",headers:{"Content-Type":"application/json"}});if(N.ok){const C=await N.json();console.log("Cleanup successful:",C)}else console.warn("Failed to trigger cleanup:",N.status)}catch(b){console.warn("Error triggering cleanup:",b)}i({title:"Success",description:"Product, associated SKUs, and print file deleted successfully"}),await a()}catch(v){console.error("Error deleting product:",v),i({title:"Error",description:"Failed to delete product",variant:"destructive"})}},[i,a]),d=m.useCallback(async g=>{console.log("addSku called with:",g);try{const{data:v,error:x}=await G.from("product_skus").insert({...g,tenant_id:s==null?void 0:s.id}).select().single();if(x)throw console.error("Supabase error in addSku:",x),x;console.log("addSku successful, data:",v);const{error:w}=await G.from("finished_goods").insert({tenant_id:s==null?void 0:s.id,product_sku_id:v.id,sku:g.sku,color:g.color,material:g.filament_type||"PLA",current_stock:g.stock_level||0,assembly_status:"printed",unit_price:g.price||0,status:(g.stock_level||0)>0?(g.stock_level||0)<=5?"low_stock":"in_stock":"out_of_stock"});return w&&console.warn("Warning: Could not create finished_goods record:",w),i({title:"Success",description:"SKU added successfully"}),await a(),v}catch(v){throw console.error("Error adding SKU:",v),i({title:"Error",description:"Failed to add SKU",variant:"destructive"}),v}},[s==null?void 0:s.id,i,a]),f=m.useCallback(async(g,v)=>{console.log("updateSku called with:",g,v);try{const{data:x,error:w}=await G.from("product_skus").update(v).eq("id",g).select().single();if(w)throw console.error("Supabase error in updateSku:",w),w;return console.log("updateSku successful, data:",x),i({title:"Success",description:"SKU updated successfully"}),await a(),x}catch(x){throw console.error("Error updating SKU:",x),i({title:"Error",description:"Failed to update SKU",variant:"destructive"}),x}},[i,a]),h=m.useCallback(async g=>{try{const{error:v}=await G.from("product_skus").delete().eq("id",g);if(v)throw v;const{error:x}=await G.from("finished_goods").delete().eq("product_sku_id",g);x&&console.warn("Warning: Could not delete finished_goods record:",x),i({title:"Success",description:"SKU deleted successfully"}),await a()}catch(v){console.error("Error deleting SKU:",v),i({title:"Error",description:"Failed to delete SKU",variant:"destructive"})}},[i,a]),p=m.useCallback(async g=>{try{const{data:v,error:x}=await G.from("product_components").insert({...g,tenant_id:s==null?void 0:s.id}).select().single();if(x)throw x;return i({title:"Success",description:"Component added successfully"}),await a(),v}catch(v){console.error("Error adding component:",v),i({title:"Error",description:"Failed to add component",variant:"destructive"})}},[s==null?void 0:s.id,i,a]),y=m.useCallback(async g=>{try{const{error:v}=await G.from("product_components").delete().eq("id",g);if(v)throw v;i({title:"Success",description:"Component deleted successfully"}),await a()}catch(v){console.error("Error deleting component:",v),i({title:"Error",description:"Failed to delete component",variant:"destructive"})}},[i,a]);return m.useEffect(()=>{a()},[a]),{products:e,loading:n,addProduct:l,updateProduct:c,deleteProduct:u,addSku:d,updateSku:f,deleteSku:h,addComponent:p,deleteComponent:y,refetch:a}};var my="Switch",[vW,MH]=Hn(my),[xW,yW]=vW(my),rP=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),y=ye(t,b=>p(b)),g=m.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,w]=zn({prop:s,defaultProp:i,onChange:u});return o.jsxs(xW,{scope:n,checked:x,disabled:l,children:[o.jsx(ae.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":iP(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:K(e.onClick,b=>{w(j=>!j),v&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),v&&o.jsx(wW,{control:h,bubbles:!g.current,name:r,value:c,checked:x,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});rP.displayName=my;var sP="SwitchThumb",oP=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=yW(sP,n);return o.jsx(ae.span,{"data-state":iP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});oP.displayName=sP;var wW=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,i=m.useRef(null),a=sk(n),l=Q_(t);return m.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[a,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function iP(e){return e?"checked":"unchecked"}var aP=rP,bW=oP;const Ig=m.forwardRef(({className:e,...t},n)=>o.jsx(aP,{className:Y("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(bW,{className:Y("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ig.displayName=aP.displayName;function jW(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var py="ScrollArea",[lP,AH]=Hn(py),[_W,qn]=lP(py),cP=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,y]=m.useState(null),[g,v]=m.useState(null),[x,w]=m.useState(0),[b,j]=m.useState(0),[N,C]=m.useState(!1),[_,k]=m.useState(!1),E=ye(t,M=>c(M)),R=za(s);return o.jsx(_W,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:N,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:k,onCornerWidthChange:w,onCornerHeightChange:j,children:o.jsx(ae.div,{dir:R,...a,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});cP.displayName=py;var uP="ScrollAreaViewport",dP=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...a}=e,l=qn(uP,n),c=m.useRef(null),u=ye(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),o.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...a,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:AW({asChild:s,children:r},d=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});dP.displayName=uP;var zr="ScrollAreaScrollbar",gy=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=qn(zr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(NW,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(SW,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(fP,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(vy,{...r,ref:t}):null});gy.displayName=zr;var NW=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=qn(zr,e.__scopeScrollArea),[i,a]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Rt,{present:n||i,children:o.jsx(fP,{"data-state":i?"visible":"hidden",...r,ref:t})})}),SW=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=qn(zr,e.__scopeScrollArea),i=e.orientation==="horizontal",a=jh(()=>c("SCROLL_END"),100),[l,c]=jW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),a()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,a]),o.jsx(Rt,{present:n||l!=="hidden",children:o.jsx(vy,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:K(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:K(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fP=m.forwardRef((e,t)=>{const n=qn(zr,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,a]=m.useState(!1),l=e.orientation==="horizontal",c=jh(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return Sa(n.viewport,c),Sa(n.content,c),o.jsx(Rt,{present:r||i,children:o.jsx(vy,{"data-state":i?"visible":"hidden",...s,ref:t})})}),vy=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=qn(zr,e.__scopeScrollArea),i=m.useRef(null),a=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=vP(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,p){return RW(h,a.current,l,p)}return n==="horizontal"?o.jsx(CW,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,p=Cb(h,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?o.jsx(kW,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,p=Cb(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),CW=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=qn(zr,e.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=ye(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mP,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bh(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),yP(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ff(a.paddingLeft),paddingEnd:ff(a.paddingRight)}})}})}),kW=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=qn(zr,e.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=ye(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mP,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bh(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),yP(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ff(a.paddingTop),paddingEnd:ff(a.paddingBottom)}})}})}),[EW,hP]=lP(zr),mP=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=qn(zr,n),[y,g]=m.useState(null),v=ye(t,E=>g(E)),x=m.useRef(null),w=m.useRef(""),b=p.viewport,j=r.content-r.viewport,N=Ke(d),C=Ke(c),_=jh(f,10);function k(E){if(x.current){const R=E.clientX-x.current.left,M=E.clientY-x.current.top;u({x:R,y:M})}}return m.useEffect(()=>{const E=R=>{const M=R.target;(y==null?void 0:y.contains(M))&&N(R,j)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[b,y,j,N]),m.useEffect(C,[r,C]),Sa(y,_),Sa(p.content,_),o.jsx(EW,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:Ke(i),onThumbPointerUp:Ke(a),onThumbPositionChange:C,onThumbPointerDown:Ke(l),children:o.jsx(ae.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:K(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(E))}),onPointerMove:K(e.onPointerMove,k),onPointerUp:K(e.onPointerUp,E=>{const R=E.target;R.hasPointerCapture(E.pointerId)&&R.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),df="ScrollAreaThumb",pP=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=hP(df,e.__scopeScrollArea);return o.jsx(Rt,{present:n||s.hasThumb,children:o.jsx(PW,{ref:t,...r})})}),PW=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=qn(df,n),a=hP(df,n),{onThumbPositionChange:l}=a,c=ye(t,f=>a.onThumbChange(f)),u=m.useRef(),d=jh(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=MW(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),o.jsx(ae.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:K(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,g=f.clientY-p.top;a.onThumbPointerDown({x:y,y:g})}),onPointerUp:K(e.onPointerUp,a.onThumbPointerUp)})});pP.displayName=df;var xy="ScrollAreaCorner",gP=m.forwardRef((e,t)=>{const n=qn(xy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(TW,{...e,ref:t}):null});gP.displayName=xy;var TW=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=qn(xy,n),[i,a]=m.useState(0),[l,c]=m.useState(0),u=!!(i&&l);return Sa(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Sa(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?o.jsx(ae.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ff(e){return e?parseInt(e,10):0}function vP(e,t){const n=e/t;return isNaN(n)?0:n}function bh(e){const t=vP(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function RW(e,t,n,r="ltr"){const s=bh(n),i=s/2,a=t||i,l=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return xP([c,u],f)(e)}function Cb(e,t,n="ltr"){const r=bh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=yg(e,c);return xP([0,a],[0,l])(u)}function xP(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function yP(e,t){return e>0&&e<t}var MW=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function jh(e,t){const n=Ke(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Sa(e,t){const n=Ke(t);pt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function AW(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=m.Children.only(r);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var wP=cP,OW=dP,IW=gP;const bP=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(wP,{ref:r,className:Y("relative overflow-hidden",e),...n,children:[o.jsx(OW,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(jP,{}),o.jsx(IW,{})]}));bP.displayName=wP.displayName;const jP=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(gy,{ref:r,orientation:t,className:Y("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(pP,{className:"relative flex-1 rounded-full bg-border"})}));jP.displayName=gy.displayName;const DW=({productId:e,components:t,onComponentsChange:n,readOnly:r=!1,title:s="Assembly Components",icon:i="package",emptyMessage:a,showAddButton:l=!0})=>{const[c,u]=m.useState(t),[d,f]=m.useState(!1),[h,p]=m.useState(null),[y,g]=m.useState({component_name:"",quantity_required:1}),{toast:v}=ke(),{materials:x,loading:w}=S2();m.useEffect(()=>{u(t)},[t]);const b=x.filter(M=>M.category==="Components"),j=()=>{g({component_name:"",quantity_required:1}),f(!0)},N=()=>{if(!y.component_name.trim()){v({title:"Error",description:"Component name is required",variant:"destructive"});return}const M=[...c,y];u(M),n(M),f(!1),g({component_name:"",quantity_required:1})},C=M=>{const O=c.filter((A,I)=>I!==M);u(O),n(O)},_=M=>{p(M)},k=(M,O)=>{const A=c.map((I,W)=>W===M?O:I);u(A),n(A),p(null)},E=M=>b.find(A=>A.type===M),R=i==="package"?at:T_;return o.jsx(o.Fragment,{children:o.jsxs(se,{children:[o.jsx(ce,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ue,{className:"flex items-center gap-2",children:[o.jsx(R,{className:"h-5 w-5"}),s]}),!r&&l&&o.jsxs(L,{onClick:j,size:"sm",variant:"outline",children:[o.jsx(lr,{className:"h-4 w-4 mr-1"}),"Add Component"]})]})}),o.jsxs(ie,{className:"space-y-4",children:[c.length>0?o.jsx("div",{className:"space-y-2",children:c.map((M,O)=>{const A=E(M.component_name);return o.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:h===O&&!r?o.jsx(FW,{component:M,componentsInventory:b,onSave:I=>k(O,I),onCancel:()=>p(null)}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:M.component_name}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:["Qty Required: ",M.quantity_required]}),A&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{children:["In Stock: ",A.remaining_units||0]}),A.cost_per_unit&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{children:["$",A.cost_per_unit," each"]})]})]})]})]}),A&&o.jsxs("div",{className:"text-right mr-4",children:[o.jsx("div",{className:"font-medium",children:A.remaining_units||0}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"available"})]})]})}),!r&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{size:"sm",variant:"outline",onClick:()=>_(O),children:o.jsx(k_,{className:"h-4 w-4"})}),o.jsx(L,{size:"sm",variant:"outline",onClick:()=>C(O),children:o.jsx(eo,{className:"h-4 w-4"})})]})]})},O)})}):o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No components added yet"}),!r&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-component",children:"Component"}),o.jsxs(Ye,{value:y.component_name,onValueChange:M=>g({...y,component_name:M}),disabled:w,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select component"})}),o.jsx(Ve,{children:b.map(M=>o.jsx(fe,{value:M.type,children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsx("span",{children:M.type}),o.jsxs("span",{className:"text-muted-foreground text-xs ml-2",children:["(",M.remaining_units||0," available)"]})]})},M.id))})]})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-quantity",children:"Quantity Required"}),o.jsx(le,{id:"new-quantity",type:"number",value:y.quantity_required,onChange:M=>g({...y,quantity_required:parseInt(M.target.value)||1}),min:"1"})]})]}),o.jsxs(L,{onClick:N,disabled:!y.component_name||w,className:"w-full",children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Component"]})]})]})]})})},FW=({component:e,componentsInventory:t,onSave:n,onCancel:r})=>{const[s,i]=m.useState(e);return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"space-y-3 mb-3",children:o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-component",className:"text-xs font-medium text-muted-foreground",children:"Component"}),o.jsxs(Ye,{value:s.component_name,onValueChange:a=>i({...s,component_name:a}),children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select component"})}),o.jsx(Ve,{children:t.map(a=>o.jsx(fe,{value:a.type,children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsx("span",{children:a.type}),o.jsxs("span",{className:"text-muted-foreground text-xs ml-2",children:["(",a.remaining_units||0," available)"]})]})},a.id))})]})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-quantity",className:"text-xs font-medium text-muted-foreground",children:"Quantity Required"}),o.jsx(le,{id:"edit-quantity",type:"number",value:s.quantity_required,onChange:a=>i({...s,quantity_required:parseInt(a.target.value)||1}),min:"1"})]})]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{size:"sm",onClick:()=>n(s),disabled:!s.component_name,children:o.jsx(uc,{className:"h-4 w-4"})}),o.jsx(L,{size:"sm",variant:"outline",onClick:r,children:"Cancel"})]})]})},LW=({productId:e,skus:t,onSkusChange:n,readOnly:r=!1})=>{Vn();const{colorPresets:s,loading:i}=go();nP(),ke();const[a,l]=m.useState([]),[c,u]=m.useState(null),[d,f]=m.useState({sku:"",color:"",quantity:1,stock_level:0,price:0});m.useEffect(()=>{console.log(" useEffect triggered - productId:",e,"skus.length:",t.length);const v=t.map(x=>({id:x.id,sku:x.sku,color:x.color,filament_type:x.filament_type,hex_code:x.hex_code,quantity:x.quantity,stock_level:x.stock_level,price:x.price||0,current_stock:x.stock_level||0}));l(v)},[t]),m.useEffect(()=>{e===void 0&&(u(null),f({sku:"",color:"",filament_type:"",hex_code:"",quantity:1,stock_level:0,price:0}))},[e]);const h=()=>{if(!d.sku||!d.color)return;console.log("Adding SKU, current localSkus:",a);const v={id:`temp-${Date.now()}`,sku:d.sku,color:d.color,filament_type:d.filament_type||"",hex_code:d.hex_code||"",quantity:d.quantity,stock_level:d.stock_level,price:d.price,current_stock:d.stock_level};console.log("Adding temp SKU:",v);const x=[...a,v];console.log("Updated SKUs array:",x),l(x),n&&n(x),f({sku:"",color:"",filament_type:"",hex_code:"",quantity:1,stock_level:0,price:0})},p=v=>{u(v)},y=(v,x)=>{const w=a.map((b,j)=>j===v?{...x,current_stock:x.stock_level}:b);l(w),n&&n(w),u(null)},g=v=>{const x=a.filter((w,b)=>b!==v);l(x),n&&n(x)};return o.jsxs(se,{children:[o.jsx(ce,{children:o.jsxs(ue,{className:"flex items-center gap-2",children:[o.jsx(T_,{className:"h-5 w-5"}),"SKUs"]})}),o.jsxs(ie,{className:"space-y-4",children:[a.length>0?o.jsx("div",{className:"space-y-2",children:a.map((v,x)=>{var w;return o.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:c===x&&!r?o.jsx($W,{sku:v,onSave:b=>y(x,b),onCancel:()=>u(null)}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:v.sku}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(fn,{color:v.hex_code||v.color,filamentType:v.filament_type,size:"sm"}),o.jsxs("span",{children:[v.color,v.filament_type?` (${v.filament_type})`:""]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["Qty per Print: ",v.quantity]}),o.jsx("span",{children:""}),o.jsxs("span",{children:["$",(w=v.price)==null?void 0:w.toFixed(2)]})]})]}),o.jsxs("div",{className:"text-right mr-4",children:[o.jsx("div",{className:"font-medium",children:v.stock_level||0}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"stock level"})]})]})}),!r&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{size:"sm",variant:"outline",onClick:()=>p(x),children:o.jsx(k_,{className:"h-4 w-4"})}),o.jsx(L,{size:"sm",variant:"outline",onClick:()=>g(x),children:o.jsx(eo,{className:"h-4 w-4"})})]})]})},x)})}):o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No SKUs added yet"}),!r&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-sku",children:"SKU"}),o.jsx(le,{id:"new-sku",value:d.sku,onChange:v=>f({...d,sku:v.target.value}),placeholder:"e.g., PC-RED-001"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-filament",children:"Filament"}),o.jsxs(Ye,{value:d.color?`${d.color}|${d.filament_type}`:"",onValueChange:v=>{const[x,w]=v.split("|"),b=s.find(j=>j.color_name===x&&j.filament_type===w);f({...d,color:x,filament_type:w,hex_code:(b==null?void 0:b.hex_code)||""})},disabled:i,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select filament"})}),o.jsx(Ve,{children:s.map(v=>o.jsx(fe,{value:`${v.color_name}|${v.filament_type}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:v.hex_code,size:"sm"}),o.jsxs("span",{children:[v.color_name," (",v.filament_type,")"]})]})},`${v.color_name}-${v.filament_type}`))})]})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-quantity",children:"Quantity per Print"}),o.jsx(le,{id:"new-quantity",type:"number",value:d.quantity,onChange:v=>f({...d,quantity:parseInt(v.target.value)||1}),min:"1"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-stock",children:"Stock Level"}),o.jsx(le,{id:"new-stock",type:"number",value:d.stock_level,onChange:v=>f({...d,stock_level:parseInt(v.target.value)||0}),min:"0"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"new-price",children:"Price ($)"}),o.jsx(le,{id:"new-price",type:"number",step:"0.01",value:d.price,onChange:v=>f({...d,price:parseFloat(v.target.value)||0}),min:"0"})]})]}),o.jsxs(L,{onClick:h,disabled:!d.sku||!d.color,className:"w-full",children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add SKU"]})]})]})]})},$W=({sku:e,onSave:t,onCancel:n})=>{const[r,s]=m.useState(e),{colorPresets:i,loading:a}=go();return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"space-y-3 mb-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-sku",className:"text-xs font-medium text-muted-foreground",children:"SKU"}),o.jsx(le,{id:"edit-sku",value:r.sku,onChange:l=>s({...r,sku:l.target.value}),placeholder:"Enter SKU"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-filament",className:"text-xs font-medium text-muted-foreground",children:"Filament"}),o.jsxs(Ye,{value:r.color&&r.filament_type?`${r.color}|${r.filament_type}`:"",onValueChange:l=>{const[c,u]=l.split("|"),d=i.find(f=>f.color_name===c&&f.filament_type===u);s({...r,color:c,filament_type:u,hex_code:(d==null?void 0:d.hex_code)||""})},disabled:a,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select filament"})}),o.jsx(Ve,{children:i.map(l=>o.jsx(fe,{value:`${l.color_name}|${l.filament_type}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:l.hex_code,size:"sm"}),o.jsxs("span",{children:[l.color_name," (",l.filament_type,")"]})]})},`${l.color_name}-${l.filament_type}`))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-quantity",className:"text-xs font-medium text-muted-foreground",children:"Quantity per Print"}),o.jsx(le,{id:"edit-quantity",type:"number",value:r.quantity,onChange:l=>s({...r,quantity:parseInt(l.target.value)||1}),min:"1"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-stock",className:"text-xs font-medium text-muted-foreground",children:"Stock Level"}),o.jsx(le,{id:"edit-stock",type:"number",value:r.stock_level,onChange:l=>s({...r,stock_level:parseInt(l.target.value)||0}),min:"0"})]}),o.jsxs("div",{children:[o.jsx(Q,{htmlFor:"edit-price",className:"text-xs font-medium text-muted-foreground",children:"Price ($)"}),o.jsx(le,{id:"edit-price",type:"number",step:"0.01",value:r.price,onChange:l=>s({...r,price:parseFloat(l.target.value)||0}),min:"0"})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{size:"sm",onClick:()=>t(r),children:"Save"}),o.jsx(L,{size:"sm",variant:"outline",onClick:n,children:"Cancel"})]})]})};class UW{constructor(){xt(this,"PI_BASE_URL");const t=window.location.hostname;t==="192.168.4.45"||t==="localhost"||t==="127.0.0.1"?this.PI_BASE_URL=`${window.location.protocol}//${window.location.host}`:this.PI_BASE_URL="http://192.168.4.45:8080",console.log(`[PiFileService] Initialized with base URL: ${this.PI_BASE_URL}`)}async uploadFile(t,n){const r=[".3mf",".stl",".gcode",".obj",".amf"],s=t.name.toLowerCase(),i=s.substring(s.lastIndexOf("."));if(!r.includes(i))throw console.error(`[PiFileService] Invalid file type: ${i}`),new Error(`Invalid file type. Supported formats: ${r.join(", ")}`);const a=100*1024*1024;if(t.size>a)throw console.error(`[PiFileService] File too large: ${t.size} bytes`),new Error(`File size exceeds 100MB limit. Current size: ${(t.size/(1024*1024)).toFixed(2)}MB`);const l=new FormData;if(l.append("file",t),console.log(`[PiFileService] Attempting to upload file to Pi: ${n}, size: ${t.size} bytes, type: ${i}`),console.log(`[PiFileService] Using URL: ${this.PI_BASE_URL}/api/file-operations/upload/${n}`),!await this.checkConnection())throw console.warn("[PiFileService] Pi is not reachable - file will be synced later from Supabase"),new Error("Cannot reach Pi API - please check network connection");try{const u=await fetch(`${this.PI_BASE_URL}/api/file-operations/upload/${n}`,{method:"POST",body:l,headers:{}});if(console.log(`[PiFileService] Upload response status: ${u.status} ${u.statusText}`),!u.ok){const f=await u.text().catch(()=>"Unable to read error response");throw console.error(`[PiFileService] Upload failed with status ${u.status}:`,f),u.status===400&&f.includes("File must be")?new Error("Invalid file format for Pi storage"):u.status===413?new Error("File too large for Pi storage"):u.status>=500?new Error("Pi server error - file saved to cloud, will sync later"):new Error(`Pi upload failed (${u.status}) - file saved to cloud`)}const d=await u.json();if(console.log("[PiFileService] Upload result:",d),!d.success)throw new Error(`Pi upload failed: ${d.message||"Unknown error"}`);return console.log(`[PiFileService] Upload successful, file path: ${d.file_path}`),d.file_path||""}catch(u){throw console.error("[PiFileService] Upload error:",u),u instanceof TypeError&&u.message.includes("fetch")?new Error("Unable to connect to Pi - check network connection and Pi availability"):u}}async replaceFile(t,n){return this.uploadFile(t,n)}async deleteFile(t){try{const n=await fetch(`${this.PI_BASE_URL}/api/file-operations/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`Pi delete failed: ${n.status} ${n.statusText}`);const r=await n.json();if(!r.success)throw new Error(`Pi delete failed: ${r.message||"Unknown error"}`)}catch(n){throw n instanceof TypeError&&n.message.includes("fetch")?new Error("Unable to connect to Pi - network error"):n}}async checkConnection(){try{return(await fetch(`${this.PI_BASE_URL}/health`,{method:"GET",signal:AbortSignal.timeout(5e3)})).ok}catch{return!1}}}const Bu=new UW;class zW{constructor(){xt(this,"tempFiles",new Map);xt(this,"tempPrintFiles",new Map)}generateTempId(){return`temp_${Date.now()}_${Math.random().toString(36).substring(2)}`}addTempImage(t,n){const r={id:this.generateTempId(),file:t,name:t.name,type:"image",url:URL.createObjectURL(t),originalUrl:n};return this.tempFiles.set(r.id,r),r}addTempPrintFile(t,n,r){const s={id:this.generateTempId(),name:n,notes:r,file:t,url:URL.createObjectURL(t)};return this.tempPrintFiles.set(s.id,s),s}getTempFile(t){return this.tempFiles.get(t)}getTempPrintFile(t){return this.tempPrintFiles.get(t)}getAllTempFiles(){return Array.from(this.tempFiles.values())}getAllTempPrintFiles(){return Array.from(this.tempPrintFiles.values())}removeTempFile(t){var r;const n=this.tempFiles.get(t);(r=n==null?void 0:n.url)!=null&&r.startsWith("blob:")&&URL.revokeObjectURL(n.url),this.tempFiles.delete(t)}removeTempPrintFile(t){var r;const n=this.tempPrintFiles.get(t);(r=n==null?void 0:n.url)!=null&&r.startsWith("blob:")&&URL.revokeObjectURL(n.url),this.tempPrintFiles.delete(t)}clearAll(){this.tempFiles.forEach(t=>{var n;(n=t.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(t.url)}),this.tempPrintFiles.forEach(t=>{var n;(n=t.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(t.url)}),this.tempFiles.clear(),this.tempPrintFiles.clear()}async processTempImages(t){const n=new Map;for(const[r,s]of this.tempFiles)if(s.type==="image")try{const i=await this.uploadImageToStorage(s.file,t);n.set(r,i),s.originalUrl&&await this.deleteFromStorage(s.originalUrl,"inventory-photos")}catch(i){throw console.error(`Failed to upload temp image ${r}:`,i),new Error(`Failed to upload image: ${s.name}`)}return n}async processTempPrintFiles(t){var r,s,i,a,l;const n=new Map;for(const[c,u]of this.tempPrintFiles)try{const d=await this.uploadPrintFileToStorage(u.file,t),f=await this.createPrintFileRecord(u,d,t);try{console.log(`[TempFileManager] Attempting Pi upload for print_file_id: ${f}`);const h=await Bu.uploadFile(u.file,f);console.log(`[TempFileManager] Successfully uploaded file to Pi: ${h}`)}catch(h){console.warn(`[TempFileManager] Pi upload failed for print_file_id ${f}:`,h);const p=(h==null?void 0:h.message)||"";p.includes("network")||p.includes("connect")||p.includes("reach")?console.warn("[TempFileManager] Pi appears to be offline - file will sync later via Supabase"):p.includes("File must be")?console.warn("[TempFileManager] File format issue - file saved to Supabase, manual sync may be needed"):console.warn("[TempFileManager] Unexpected Pi upload error - file saved to Supabase")}n.set(c,f)}catch(d){throw console.error(`Failed to upload temp print file ${c}:`,d),(d==null?void 0:d.code)==="23505"||(r=d==null?void 0:d.message)!=null&&r.includes("duplicate")||(s=d==null?void 0:d.message)!=null&&s.includes("unique")?new Error(`A file named "${u.name}" already exists. The system will automatically rename it and retry.`):(i=d==null?void 0:d.message)!=null&&i.includes("storage")?new Error(`Storage error: Unable to save ${u.name}. Please check your connection and try again.`):(a=d==null?void 0:d.message)!=null&&a.includes("size")?new Error(`File too large: ${u.name} exceeds the maximum file size limit.`):(l=d==null?void 0:d.message)!=null&&l.includes("Failed to create print file record")?new Error(`Unable to save file "${u.name}" after multiple attempts. Please try with a different file name.`):(console.error("Actual error details:",d),new Error(`Failed to save print file: ${u.name}. Error: ${(d==null?void 0:d.message)||"Unknown error"}`))}return n}async uploadImageToStorage(t,n){const{default:r}=await La(async()=>{const{default:d}=await import("./browser-image-compression-CBVwGt6Q.js");return{default:d}},[]),s=await r(t,{maxSizeMB:.1,maxWidthOrHeight:800,useWebWorker:!0,initialQuality:.7}),i=t.name.split(".").pop(),a=`${n}/${Date.now()}-${Math.random().toString(36).substring(2)}.${i}`,{data:l,error:c}=await G.storage.from("inventory-photos").upload(a,s,{cacheControl:"3600",upsert:!1});if(c)throw c;const{data:{publicUrl:u}}=G.storage.from("inventory-photos").getPublicUrl(l.path);return u}async uploadPrintFileToStorage(t,n){const r=`${n}/print-files/${Date.now()}-${t.name}`,{data:s,error:i}=await G.storage.from("print-files").upload(r,t,{cacheControl:"3600",upsert:!1});if(i)throw i;const{data:{publicUrl:a}}=G.storage.from("print-files").getPublicUrl(s.path);return a}async createPrintFileRecord(t,n,r){var u,d;let s=t.name,i=0,a=null,l=null;for(;i<3&&!a;)try{const{data:f,error:h}=await G.from("print_files").insert({name:s,file_size_bytes:t.file.size,number_of_units:1,tenant_id:r}).select().single();if(h){if(h.code==="23505"||(u=h.message)!=null&&u.includes("duplicate")||(d=h.message)!=null&&d.includes("unique")){i++;const p=Date.now(),y=Math.random().toString(36).substring(2,6),g=t.name.lastIndexOf(".");if(g>0){const v=t.name.substring(0,g),x=t.name.substring(g);s=`${v}_${p}_${y}${x}`}else s=`${t.name}_${p}_${y}`;console.log(`[TempFileManager] File name conflict detected. Trying with unique name: ${s}`),l=h;continue}throw h}a=f}catch(f){throw i>=2&&l||f}if(!a)throw new Error(`Failed to create print file record after ${i} attempts`);const{error:c}=await G.from("print_file_versions").insert({print_file_id:a.id,version_number:1,file_url:n,notes:t.notes||"Initial upload",is_current_version:!0});return c&&console.warn("Failed to create version record:",c),a.id}async deleteFromStorage(t,n){try{if(t.includes(n)){const r=t.split("/").slice(-2).join("/");await G.storage.from(n).remove([r])}}catch(r){console.warn("Failed to delete old file from storage:",r)}}async replaceExistingPrintFile(t,n,r){try{const s=await this.uploadPrintFileToStorage(n,r),{error:i}=await G.from("print_files").update({file_size_bytes:n.size,updated_at:new Date().toISOString()}).eq("id",t);if(i)throw i;const{error:a}=await G.from("print_file_versions").insert({print_file_id:t,version_number:Date.now(),file_url:s,notes:"File replaced",is_current_version:!0});a&&console.warn("Failed to create version record:",a);try{await Bu.replaceFile(n,t),console.log(`Successfully replaced file on Pi for print_file_id: ${t}`)}catch(l){console.warn(`Pi file replacement failed for print_file_id ${t}:`,l),console.warn("File will be available via Supabase sync later")}return s}catch(s){throw console.error(`Failed to replace print file ${t}:`,s),new Error(`Failed to replace print file: ${s instanceof Error?s.message:"Unknown error"}`)}}async replaceProductPrintFile(t,n,r){try{if(t)try{await this.deleteExistingPrintFile(t),console.log(`Deleted old print file: ${t}`)}catch(l){console.warn(`Failed to delete old print file ${t}:`,l)}const s={id:this.generateTempId(),name:n.name,notes:"Product file replacement",file:n,url:URL.createObjectURL(n)},i=await this.uploadPrintFileToStorage(n,r),a=await this.createPrintFileRecord(s,i,r);try{await Bu.uploadFile(n,a),console.log(`Successfully uploaded replacement file to Pi: ${a}`)}catch(l){console.warn(`Pi upload failed for replacement file ${a}:`,l)}return a}catch(s){throw console.error("Failed to replace product print file:",s),new Error(`Failed to replace product file: ${s instanceof Error?s.message:"Unknown error"}`)}}async deleteExistingPrintFile(t){try{const{data:n,error:r}=await G.from("print_files").select("*").eq("id",t).single();if(r)throw r;try{await Bu.deleteFile(t),console.log(`Successfully deleted file from Pi for print_file_id: ${t}`)}catch(i){console.warn(`Pi file deletion failed for print_file_id ${t}:`,i)}const{error:s}=await G.from("print_files").delete().eq("id",t);if(s)throw s}catch(n){throw console.error(`Failed to delete print file ${t}:`,n),new Error("Failed to delete print file")}}async cleanupUploadedFiles(t,n){const r=n==="image"?"inventory-photos":"print-files";for(const s of t.values())if(n==="image")await this.deleteFromStorage(s,r);else try{const{error:i}=await G.from("print_files").delete().eq("id",s);i&&console.warn("Failed to cleanup print file record:",i)}catch(i){console.warn("Failed to cleanup print file:",i)}}}const Lt=new zW,BW=({currentImageUrl:e,onImageChange:t,label:n="Image",value:r})=>{const[s,i]=m.useState(e||null),[a,l]=m.useState(null),c=m.useRef(null),{toast:u}=ke();m.useEffect(()=>{if(r!=null&&r.startsWith("temp_")){const p=Lt.getTempFile(r);p&&(i(p.url||null),l(r))}else i(e||null),l(null)},[e,r]),m.useEffect(()=>()=>{a&&Lt.removeTempFile(a)},[]);const d=p=>{if(!["image/jpeg","image/jpg","image/png"].includes(p.type))throw new Error("Only JPG, JPEG, and PNG files are allowed");if(p.size>10*1024*1024)throw new Error("File size must be less than 10MB")},f=async p=>{var g;const y=(g=p.target.files)==null?void 0:g[0];if(y)try{d(y),a&&Lt.removeTempFile(a);const v=Lt.addTempImage(y,e);i(v.url||null),l(v.id),t(v.id,v.url||null)}catch(v){console.error("File selection error:",v),u({title:"Invalid File",description:v instanceof Error?v.message:"Failed to select image",variant:"destructive"})}finally{c.current&&(c.current.value="")}},h=()=>{a&&(Lt.removeTempFile(a),l(null)),i(null),t(null,null)};return o.jsxs("div",{className:"space-y-4",children:[o.jsx(Q,{children:n}),s?o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:s,alt:"Preview",className:"w-full h-24 object-cover rounded-md border"}),o.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-md flex items-center justify-center gap-2",children:[o.jsxs(L,{size:"sm",variant:"secondary",onClick:()=>{var p;return(p=c.current)==null?void 0:p.click()},children:[o.jsx(Dp,{className:"h-4 w-4 mr-1"}),"Replace"]}),o.jsxs(L,{size:"sm",variant:"destructive",onClick:h,children:[o.jsx(no,{className:"h-4 w-4 mr-1"}),"Remove"]})]})]}):o.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-md p-4 text-center hover:border-muted-foreground/50 transition-colors cursor-pointer",onClick:()=>{var p;return(p=c.current)==null?void 0:p.click()},children:[o.jsx(oA,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Click to upload an image"}),o.jsx("p",{className:"text-xs text-muted-foreground/75",children:"JPG, JPEG, PNG up to 10MB"}),o.jsxs(L,{size:"sm",variant:"outline",className:"mt-2 h-7 text-xs",children:[o.jsx(Dp,{className:"h-3 w-3 mr-1"}),"Select Image"]})]}),o.jsx(le,{ref:c,type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:f,className:"hidden"})]})},WW=({currentPrintFileId:e,currentPrintFileName:t,onPrintFileChange:n,value:r,allowReplace:s=!1,allowDelete:i=!1,onFileReplaced:a,onFileDeleted:l})=>{var O;const[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(!1),[y,g]=m.useState(null),v=m.useRef(null),{toast:x}=ke(),{tenantId:w}=Vn(),b=r==null?void 0:r.startsWith("temp_"),j=b?(O=Lt.getTempPrintFile(r))==null?void 0:O.name:t,N=A=>{var U;const I=[".stl",".gcode",".3mf",".obj",".amf"],W="."+((U=A.name.split(".").pop())==null?void 0:U.toLowerCase());if(!I.includes(W))throw new Error("Only STL, GCODE, 3MF, OBJ, and AMF files are allowed");if(A.size>100*1024*1024)throw new Error("File size must be less than 100MB")},C=async A=>{var W;const I=(W=A.target.files)==null?void 0:W[0];if(I)try{u(!0),N(I),b&&r&&Lt.removeTempPrintFile(r);const U=I.name.replace(/\.[^/.]+$/,""),D=Lt.addTempPrintFile(I,U,"Uploaded file");g(D),n(D.id,D.name)}catch(U){console.error("File selection error:",U),x({title:"Invalid File",description:U instanceof Error?U.message:"Failed to select file",variant:"destructive"})}finally{u(!1),v.current&&(v.current.value="")}},_=()=>{b&&r&&Lt.removeTempPrintFile(r),g(null),n(null,null)},k=async A=>{var W;const I=(W=A.target.files)==null?void 0:W[0];if(!(!I||!e||!w))try{f(!0),N(I),await Lt.replaceExistingPrintFile(e,I,w),x({title:"File Replaced",description:"Print file has been successfully replaced",variant:"default"}),a&&a(e)}catch(U){console.error("File replacement error:",U),x({title:"Replacement Failed",description:U instanceof Error?U.message:"Failed to replace file",variant:"destructive"})}finally{f(!1),v.current&&(v.current.value="")}},E=async()=>{if(e)try{p(!0),await Lt.deleteExistingPrintFile(e),x({title:"File Deleted",description:"Print file has been successfully deleted",variant:"default"}),l&&l(e)}catch(A){console.error("File deletion error:",A),x({title:"Deletion Failed",description:A instanceof Error?A.message:"Failed to delete file",variant:"destructive"})}finally{p(!1)}},R=b||e,M=c||d||h;return o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"print_file",children:"Print File"}),o.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-md p-3 text-center",children:[o.jsx("input",{ref:v,type:"file",accept:".stl,.gcode,.3mf,.obj,.amf",onChange:C,className:"hidden",id:"print-file-upload",disabled:M}),o.jsx("input",{type:"file",accept:".stl,.gcode,.3mf,.obj,.amf",onChange:k,className:"hidden",id:"print-file-replace",disabled:M}),M?o.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 text-blue-600",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsxs("span",{className:"text-sm",children:[c&&"Processing...",d&&"Replacing file...",h&&"Deleting file..."]})]}):R?o.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 text-green-600",children:[o.jsx(Ff,{className:"h-6 w-6"}),o.jsx("span",{className:"text-sm font-medium",children:b?"File Ready for Upload":"File Attached"}),o.jsx("span",{className:"text-xs text-green-700",children:j||"File attached"}),o.jsx("div",{className:"flex gap-2 mt-1",children:b?o.jsxs(o.Fragment,{children:[o.jsx(L,{size:"sm",variant:"outline",onClick:()=>{var A;return(A=v.current)==null?void 0:A.click()},disabled:M,children:"Replace File"}),o.jsx(L,{size:"sm",variant:"destructive",onClick:_,disabled:M,children:o.jsx(no,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[s&&o.jsxs(L,{size:"sm",variant:"outline",onClick:()=>{var A;return(A=document.getElementById("print-file-replace"))==null?void 0:A.click()},disabled:M,children:[o.jsx(gA,{className:"h-4 w-4 mr-1"}),"Replace"]}),i&&o.jsxs(L,{size:"sm",variant:"destructive",onClick:E,disabled:M,children:[o.jsx(eo,{className:"h-4 w-4 mr-1"}),"Delete"]}),!s&&!i&&o.jsx(L,{size:"sm",variant:"outline",onClick:()=>{var A;return(A=v.current)==null?void 0:A.click()},disabled:M,children:"Replace File"})]})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Dp,{className:"h-6 w-6 mx-auto text-muted-foreground mb-1"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"STL, GCODE, 3MF, OBJ, AMF files"}),o.jsx(L,{size:"sm",variant:"outline",onClick:()=>{var A;return(A=v.current)==null?void 0:A.click()},disabled:M,children:"Choose File"})]})]})]})},HW=({product:e,isOpen:t,onClose:n,onSave:r,onDelete:s,initialEditMode:i=!1})=>{var A,I;const{tenantId:a}=Vn(),{toast:l}=ke(),[c,u]=m.useState(!1),[d,f]=m.useState({name:"",description:"",requires_assembly:!1,image_url:"",print_file_id:null,file_name:null}),[h,p]=m.useState([]),[y,g]=m.useState([]),[v,x]=m.useState(null),[w,b]=m.useState(null),[j,N]=m.useState(!1),[C,_]=m.useState(!1);m.useEffect(()=>{t&&(e?(u(i),f({name:e.name,description:e.description||"",requires_assembly:e.requires_assembly,image_url:e.image_url||"",is_active:e.is_active,print_file_id:e.print_file_id||null,file_name:e.file_name||null}),p(e.components||[]),g(e.skus||[])):(u(!0),f({name:"",description:"",requires_assembly:!1,image_url:"",print_file_id:null,file_name:null}),p([]),g([])),x(null),b(null),N(!1),_(!1))},[e,t,i]),m.useEffect(()=>{t||Lt.clearAll()},[t]);const k=()=>{Lt.clearAll(),_(!1),n()},E=()=>{e&&s&&(s(e.id),k())},R=(W,U)=>{x(W),W&&f(D=>({...D,image_url:""}))},M=(W,U)=>{b(W),W&&f(D=>({...D,print_file_id:null,file_name:U}))},O=async()=>{if(!a){l({title:"Error",description:"Tenant information not available",variant:"destructive"});return}try{N(!0);let W=d.image_url,U=d.print_file_id,D=d.file_name;if(v)try{const z=(await Lt.processTempImages(a)).get(v);z&&(W=z)}catch(T){console.error("Failed to upload image:",T),l({title:"Upload Failed",description:"Failed to upload image. Please try again.",variant:"destructive"});return}if(w)try{const z=(await Lt.processTempPrintFiles(a)).get(w);z&&(U=z)}catch(T){console.error("Failed to upload print file:",T),l({title:"Upload Failed",description:"Failed to upload print file. Please try again.",variant:"destructive"});return}const S={...d,image_url:W,print_file_id:U||null,file_name:D||null,components:h,skus:y.length>0?y:void 0};await r(S),Lt.clearAll(),k()}catch(W){console.error("Error saving product:",W);const U=W instanceof Error?W.message:"Failed to save product";l({title:"Error",description:U,variant:"destructive"})}finally{N(!1)}};return o.jsxs(zt,{open:t,onOpenChange:k,children:[o.jsxs(Et,{className:"max-w-4xl max-h-[85vh]",children:[o.jsx(Pt,{className:"pr-12",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Tt,{children:e?c?"Edit Product":e.name:"Add New Product"}),o.jsx(Qo,{children:e&&!c?"View product details and manage components":"Complete product information including assembly components."})]}),e&&!c&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(L,{onClick:()=>u(!0),variant:"outline",size:"sm",children:"Edit Product"}),s&&o.jsxs(L,{onClick:()=>_(!0),variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:[o.jsx(eo,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),o.jsx(bP,{className:"max-h-[calc(85vh-180px)]",children:o.jsxs("div",{className:"space-y-4 pr-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"name",children:"Product Name *"}),c?o.jsx(le,{id:"name",value:d.name,onChange:W=>f({...d,name:W.target.value}),placeholder:"Enter product name"}):o.jsx("p",{className:"font-medium",children:d.name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"description",children:"Description"}),c?o.jsx(Jc,{id:"description",value:d.description,onChange:W=>f({...d,description:W.target.value}),placeholder:"Enter product description",rows:2}):o.jsx("p",{className:"text-muted-foreground",children:d.description||"No description provided"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"space-y-2",children:c?o.jsx(WW,{currentPrintFileId:d.print_file_id,currentPrintFileName:(A=e==null?void 0:e.print_file)==null?void 0:A.name,onPrintFileChange:M,value:w||d.print_file_id}):o.jsxs(o.Fragment,{children:[o.jsx(Q,{htmlFor:"print_file",children:"Print File"}),o.jsxs("div",{className:`flex items-center gap-2 p-2 border rounded-md ${d.print_file_id?"border-green-200 bg-green-50":"border-gray-200"}`,children:[o.jsx(Ff,{className:`h-4 w-4 ${d.print_file_id?"text-green-600":"text-muted-foreground"}`}),o.jsx("span",{className:"text-sm",children:d.file_name||((I=e==null?void 0:e.print_file)==null?void 0:I.name)||(d.print_file_id?"File attached":"No file attached")})]})]})}),o.jsx("div",{})]}),o.jsxs("div",{className:"flex items-center gap-8",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ig,{id:"requires_assembly",checked:d.requires_assembly,onCheckedChange:W=>f({...d,requires_assembly:W}),disabled:!c}),o.jsx(Q,{htmlFor:"requires_assembly",children:"Assembly Required"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ig,{id:"is_active",checked:d.is_active,onCheckedChange:W=>f({...d,is_active:W}),disabled:!c}),o.jsx(Q,{htmlFor:"is_active",children:"Active"})]})]}),c&&o.jsx("div",{className:"space-y-2",children:o.jsx(BW,{currentImageUrl:d.image_url,onImageChange:R,label:"Product Image",value:v||d.image_url},(e==null?void 0:e.id)||"new-product")}),o.jsx(LW,{productId:e==null?void 0:e.id,skus:e?e.skus||[]:y,onSkusChange:g,readOnly:!c},(e==null?void 0:e.id)||"new-product"),o.jsx(DW,{productId:e==null?void 0:e.id,components:h,onComponentsChange:p,readOnly:!c})]})}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:k,children:e&&!c?"Close":"Cancel"}),(c||!e)&&o.jsxs(L,{onClick:O,disabled:!d.name.trim()||j,children:[j?"Saving...":e?"Update":"Create"," Product"]})]})]}),o.jsx(zt,{open:C,onOpenChange:_,children:o.jsxs(Et,{children:[o.jsxs(Pt,{children:[o.jsx(Tt,{children:"Delete Product"}),o.jsxs(Qo,{children:['Are you sure you want to delete "',e==null?void 0:e.name,'"? This action cannot be undone and will permanently delete the product and all associated SKUs. Components are separate and will not be affected.']})]}),o.jsxs(hr,{children:[o.jsx(L,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),o.jsxs(L,{variant:"destructive",onClick:E,children:[o.jsx(eo,{className:"mr-2 h-4 w-4"}),"Delete Product"]})]})]})})]})},VW=({sku:e,productId:t,isOpen:n,onClose:r,onSave:s})=>{const{colorPresets:i,loading:a}=go(),[l,c]=m.useState({product_id:t,sku:"",color:"",filament_type:"",hex_code:"",quantity:1,stock_level:0,price:0});m.useEffect(()=>{c(e?{product_id:e.product_id,sku:e.sku,color:e.color,filament_type:e.filament_type||"",hex_code:e.hex_code||"",quantity:e.quantity,stock_level:e.stock_level,price:e.price||0,is_active:e.is_active}:{product_id:t,sku:"",color:"",filament_type:"",hex_code:"",quantity:1,stock_level:0,price:0})},[e,t,n]);const u=()=>{s(l),r()};return o.jsx(zt,{open:n,onOpenChange:r,children:o.jsxs(Et,{className:"max-w-md",children:[o.jsx(Pt,{children:o.jsx(Tt,{children:e?"Edit SKU":"Add New SKU"})}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"sku",children:"SKU"}),o.jsx(le,{id:"sku",value:l.sku,onChange:d=>c({...l,sku:d.target.value}),placeholder:"Enter SKU"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"filament",children:"Filament"}),o.jsxs(Ye,{value:l.color&&l.filament_type?`${l.color}|${l.filament_type}`:"",onValueChange:d=>{const[f,h]=d.split("|"),p=i.find(y=>y.color_name===f&&y.filament_type===h);c({...l,color:f,filament_type:h,hex_code:(p==null?void 0:p.hex_code)||""})},disabled:a,children:[o.jsx(He,{children:o.jsx(Qe,{placeholder:"Select filament"})}),o.jsx(Ve,{children:i.map(d=>o.jsx(fe,{value:`${d.color_name}|${d.filament_type}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fn,{color:d.hex_code,size:"sm"}),o.jsxs("span",{children:[d.color_name," (",d.filament_type,")"]})]})},`${d.color_name}-${d.filament_type}`))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"quantity",children:"Quantity per Print"}),o.jsx(le,{id:"quantity",type:"number",value:l.quantity,onChange:d=>c({...l,quantity:parseInt(d.target.value)||1}),min:"1"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"stock_level",children:"Stock Level"}),o.jsx(le,{id:"stock_level",type:"number",value:l.stock_level,onChange:d=>c({...l,stock_level:parseInt(d.target.value)||0}),min:"0"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"price",children:"Price ($)"}),o.jsx(le,{id:"price",type:"number",step:"0.01",value:l.price,onChange:d=>c({...l,price:parseFloat(d.target.value)||0}),min:"0"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(L,{variant:"outline",onClick:r,children:"Cancel"}),o.jsxs(L,{onClick:u,children:[e?"Update":"Create"," SKU"]})]})]})})},qW=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{toast:s}=ke(),{tenant:i}=Vn(),a=async()=>{if(i!=null&&i.id)try{const h=await fetch("/api/products-sync/");if(!h.ok)throw new Error(`Failed to fetch products: ${h.statusText}`);const y=(await h.json()).filter(_=>_.is_active&&_.print_file_id),g=y.map(_=>_.print_file_id),v=new Map(y.map(_=>[_.print_file_id,{productName:_.name,originalFileName:_.file_name}])),x=await fetch("/api/print-files-sync/");if(!x.ok)throw new Error(`Failed to fetch print files: ${x.statusText}`);const b=(await x.json()).filter(_=>g.includes(_.id));b.sort((_,k)=>new Date(k.created_at).getTime()-new Date(_.created_at).getTime());const{data:j,error:N}=await G.from("print_file_versions").select("*").order("version_number",{ascending:!1});if(N)throw N;const C=(b||[]).map(_=>{const k=(j||[]).filter(O=>O.print_file_id===_.id),E=km(_),R=v.get(_.id),M=R?`${R.productName} (${R.originalFileName||_.name})`:_.name;return{...E,name:M,versions:k.map(O=>({id:O.id,printFileId:O.print_file_id,versionNumber:O.version_number,fileUrl:O.file_url,notes:O.notes,isCurrentVersion:O.is_current_version,createdAt:O.created_at}))}});t(C)}catch(h){console.error("Error fetching print files:",h),s({title:"Error",description:"Failed to load print files from database.",variant:"destructive"})}finally{r(!1)}},l=async h=>{try{const p=await fetch("/api/print-files-sync/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h.name,file_size_bytes:h.fileSizeBytes,number_of_units:h.numberOfUnits||1})});if(!p.ok)throw new Error(`Failed to create print file: ${p.statusText}`);const y=await p.json();if(!y.success)throw new Error(y.message||"Failed to create print file");const g=y.print_file,{data:v,error:x}=await G.from("print_file_versions").insert({print_file_id:g.id,version_number:1,notes:h.notes||"Initial upload",is_current_version:!0}).select().single();if(x)throw x;const b={...km(g),versions:[{id:v.id,printFileId:v.print_file_id,versionNumber:v.version_number,fileUrl:v.file_url,notes:v.notes,isCurrentVersion:v.is_current_version,createdAt:v.created_at}]};return t(j=>[b,...j]),s({title:"Success",description:`${h.name} has been added to your library.`}),b}catch(p){throw console.error("Error adding print file:",p),s({title:"Error",description:"Failed to add print file to database.",variant:"destructive"}),p}},c=async(h,p)=>{try{const y=H8(p),g=await fetch(`/api/print-files-sync/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!g.ok)throw new Error(`Failed to update print file: ${g.statusText}`);const v=await g.json();if(!v.success)throw new Error(v.message||"Failed to update print file");const x=v.print_file,w=km(x);return t(b=>b.map(j=>j.id===h?{...j,...w}:j)),s({title:"Success",description:"Print file updated successfully."}),x}catch(y){throw console.error("Error updating print file:",y),s({title:"Error",description:"Failed to update print file.",variant:"destructive"}),y}},u=async(h,p,y)=>{try{const g={notes:y.notes,is_current_version:y.isCurrentVersion},{data:v,error:x}=await G.from("print_file_versions").update(g).eq("id",p).select().single();if(x)throw x;return await a(),s({title:"Success",description:"File version updated successfully."}),v}catch(g){throw console.error("Error updating file version:",g),s({title:"Error",description:"Failed to update file version.",variant:"destructive"}),g}},d=async h=>{try{const p=await fetch(`/api/print-files-sync/${h}`,{method:"DELETE"});if(!p.ok)throw new Error(`Failed to delete print file: ${p.statusText}`);const y=await p.json();if(!y.success)throw new Error(y.message||"Failed to delete print file");t(g=>g.filter(v=>v.id!==h)),s({title:"Success",description:"Print file deleted successfully."})}catch(p){throw console.error("Error deleting print file:",p),s({title:"Error",description:"Failed to delete print file.",variant:"destructive"}),p}};return m.useEffect(()=>{i!=null&&i.id&&a()},[i==null?void 0:i.id]),{printFiles:e,loading:n,addPrintFile:l,updatePrintFile:c,updateFileVersion:u,deletePrintFile:d,setFileVersionAsCurrent:async(h,p)=>{var y;try{const g=((y=e.find(v=>v.id===h))==null?void 0:y.versions)||[];await Promise.all(g.map(async v=>{const{error:x}=await G.from("print_file_versions").update({is_current_version:v.id===p}).eq("id",v.id);if(x)throw x})),await a(),s({title:"Success",description:"File version updated successfully."})}catch(g){throw console.error("Error setting file version as current:",g),s({title:"Error",description:"Failed to update file version.",variant:"destructive"}),g}},refetch:a}},KW=()=>{const{products:e,loading:t,addProduct:n,updateProduct:r,deleteProduct:s,addSku:i,updateSku:a,deleteSku:l}=nP();qW();const[c,u]=m.useState("grid"),[d,f]=m.useState(new Set),[h,p]=m.useState(!1),[y,g]=m.useState(!1),[v,x]=m.useState(null),[w,b]=m.useState(null),[j,N]=m.useState(""),[C,_]=m.useState(!1);ke();const k=S=>{const T=new Set(d);T.has(S)?T.delete(S):T.add(S),f(T)},E=S=>{x(S),_(!1),p(!0)},R=S=>{x(S),_(!0),p(!0)},M=()=>{x(null),_(!1),p(!0)},O=S=>{N(S),b(null),g(!0)},A=S=>{b(S),N(S.product_id),g(!0)},I=async S=>{try{v?await r(v.id,S):await n(S),x(null),_(!1)}catch(T){console.error("Error saving product:",T)}},W=async S=>{try{w?await a(w.id,S):await i(S),b(null)}catch(T){console.error("Error in handleSkuSave:",T)}},U=async S=>{try{await s(S)}catch(T){console.error("Error deleting product:",T)}},D=S=>S===0?o.jsx(re,{variant:"destructive",children:"Out of Stock"}):S<10?o.jsx(re,{className:"bg-yellow-500 text-black hover:bg-yellow-600",children:"Low Stock"}):o.jsx(re,{className:"bg-green-600 text-white hover:bg-green-700",children:"In Stock"});return t?o.jsx("div",{children:"Loading products..."}):o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Products"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your 3D print product catalog with print files, components, and SKUs."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(_c,{type:"single",value:c,onValueChange:S=>S&&u(S),children:[o.jsx(xn,{value:"grid","aria-label":"Grid view",children:o.jsx(C_,{className:"h-4 w-4"})}),o.jsx(xn,{value:"list","aria-label":"List view",children:o.jsx(Lf,{className:"h-4 w-4"})})]}),o.jsxs(L,{onClick:M,children:[o.jsx(nm,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})]}),e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx("div",{className:"mx-auto w-24 h-24 bg-muted rounded-full flex items-center justify-center mb-4",children:o.jsx(at,{className:"h-12 w-12 text-muted-foreground"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products found"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm",children:"You haven't added any products to your catalog yet. Add your first product to get started."}),o.jsxs(L,{onClick:M,children:[o.jsx(nm,{className:"mr-2 h-4 w-4"}),"Add Your First Product"]})]}):c==="grid"?o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(S=>{var T;return o.jsxs(se,{className:"cursor-pointer hover:shadow-lg transition-shadow flex flex-col",onClick:()=>E(S),children:[o.jsxs(ce,{className:"flex-row items-start justify-between space-y-0 pb-2",children:[o.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1 pr-2",children:[o.jsx("div",{className:"flex-shrink-0",children:S.image_url?o.jsx("img",{src:S.image_url,alt:S.name,className:"w-12 h-12 rounded object-cover"}):o.jsx("div",{className:"w-12 h-12 rounded bg-muted flex items-center justify-center",children:o.jsx(at,{className:"h-6 w-6 text-muted-foreground"})})}),o.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[o.jsx(ue,{className:"text-lg truncate",children:S.name}),o.jsx(Fa,{children:S.description})]})]}),o.jsxs(re,{variant:"outline",className:"shrink-0",children:[S.skus.length," SKU",S.skus.length!==1?"s":""]})]}),o.jsx(ie,{className:"flex-grow",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ff,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:S.file_name||((T=S.print_file)==null?void 0:T.name)||"No print file"})]}),S.requires_assembly&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(at,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[S.components.length," component",S.components.length!==1?"s":""]})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:"Total Stock: "}),S.skus.reduce((z,B)=>z+B.stock_level,0)," units"]})]})}),o.jsx($N,{children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[S.skus.length>0&&o.jsxs("span",{className:"text-sm text-muted-foreground",children:["$",Math.min(...S.skus.map(z=>z.price||0))," - $",Math.max(...S.skus.map(z=>z.price||0))]}),S.requires_assembly&&o.jsx(re,{variant:"secondary",className:"text-xs",children:"Assembly Required"})]})})]},S.id)})}):o.jsx(se,{children:o.jsx(ie,{className:"pt-6",children:o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"grid grid-cols-12 gap-4 pb-4 border-b border-border",children:[o.jsx("div",{className:"col-span-4 text-left text-sm font-medium text-muted-foreground",children:"Product"}),o.jsx("div",{className:"col-span-2 text-left text-sm font-medium text-muted-foreground",children:"Print File"}),o.jsx("div",{className:"col-span-2 text-center text-sm font-medium text-muted-foreground",children:"SKUs"}),o.jsx("div",{className:"col-span-2 text-center text-sm font-medium text-muted-foreground",children:"Total Stock"}),o.jsx("div",{className:"col-span-1 text-center text-sm font-medium text-muted-foreground",children:"Assembly"}),o.jsx("div",{className:"col-span-1 text-right text-sm font-medium text-muted-foreground",children:"Actions"})]}),o.jsx("div",{className:"divide-y divide-border",children:e.map(S=>{var B;const T=d.has(S.id),z=S.skus.reduce((H,V)=>H+V.stock_level,0);return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-12 gap-4 py-4 hover:bg-muted/50",children:[o.jsxs("div",{className:"col-span-4 flex items-center gap-3",children:[o.jsx(L,{variant:"ghost",size:"sm",className:"p-0 h-6 w-6 flex-shrink-0",onClick:()=>k(S.id),children:T?o.jsx(Af,{className:"h-4 w-4"}):o.jsx(Of,{className:"h-4 w-4"})}),o.jsx("div",{className:"flex-shrink-0",children:S.image_url?o.jsx("img",{src:S.image_url,alt:S.name,className:"w-10 h-10 rounded object-cover"}):o.jsx("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center",children:o.jsx(at,{className:"h-5 w-5 text-muted-foreground"})})}),o.jsx("button",{onClick:()=>E(S),className:"text-left hover:underline font-medium",children:S.name})]}),o.jsx("div",{className:"col-span-2 flex items-center",children:o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium",children:S.file_name||((B=S.print_file)==null?void 0:B.name)||"No file"}),o.jsx("div",{className:"text-muted-foreground",children:S.file_name||S.print_file?"Active":"No file"})]})}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:S.skus.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"SKUs"})]}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:z}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"units"})]}),o.jsx("div",{className:"col-span-1 flex items-center justify-center",children:S.requires_assembly?o.jsx(re,{variant:"secondary",children:"Required"}):o.jsx(re,{variant:"outline",children:"None"})}),o.jsx("div",{className:"col-span-1 flex items-center justify-end",children:o.jsxs(dr,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{size:"icon",variant:"ghost",children:o.jsx(Vo,{className:"h-4 w-4"})})}),o.jsxs(Bn,{align:"end",children:[o.jsx(fs,{children:"Actions"}),o.jsxs(Ge,{onClick:()=>E(S),children:[o.jsx(S_,{className:"mr-2 h-4 w-4"}),"View Details"]}),o.jsxs(Ge,{onClick:()=>R(S),children:[o.jsx(Od,{className:"mr-2 h-4 w-4"}),"Edit Product"]}),o.jsxs(Ge,{onClick:H=>{H.stopPropagation(),O(S.id)},children:[o.jsx(nm,{className:"mr-2 h-4 w-4"}),"Add SKU"]})]})]})})]}),T&&S.skus.map(H=>{var V;return o.jsxs("div",{className:"grid grid-cols-12 gap-4 py-3 bg-muted/20",children:[o.jsx("div",{className:"col-span-4 flex items-center gap-3 pl-12",children:o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsx("div",{className:"font-medium text-base",children:H.sku}),o.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(fn,{color:H.hex_code||H.color,filamentType:H.filament_type,size:"sm"}),o.jsx("span",{children:H.color})]}),H.filament_type&&o.jsxs("span",{children:["(",H.filament_type,")"]}),o.jsxs("span",{children:["Qty per SKU: ",H.quantity]})]})]})}),o.jsx("div",{className:"col-span-2 flex items-center",children:o.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",((V=H.price)==null?void 0:V.toFixed(2))||"0.00"]})}),o.jsx("div",{className:"col-span-2 flex items-center justify-center",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:"-"})}),o.jsxs("div",{className:"col-span-2 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"font-medium",children:H.stock_level}),D(H.stock_level)]}),o.jsx("div",{className:"col-span-1 flex items-center justify-center",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:"-"})}),o.jsx("div",{className:"col-span-1 flex items-center justify-end",children:o.jsxs(dr,{children:[o.jsx(fr,{asChild:!0,children:o.jsx(L,{size:"icon",variant:"ghost",children:o.jsx(Vo,{className:"h-4 w-4"})})}),o.jsxs(Bn,{align:"end",children:[o.jsxs(Ge,{onClick:J=>{J.stopPropagation(),A(H)},children:[o.jsx(Od,{className:"mr-2 h-4 w-4"}),"Edit SKU"]}),o.jsx(Ge,{onClick:()=>l(H.id),children:"Delete SKU"})]})]})})]},H.id)})]},S.id)})})]})})}),o.jsx(HW,{product:v,isOpen:h,onClose:()=>{p(!1),x(null),_(!1)},onSave:I,onDelete:U,initialEditMode:C}),o.jsx(VW,{sku:w,productId:j,isOpen:y,onClose:()=>{g(!1),b(null),N("")},onSave:W})]})},GW=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{toast:s}=ke(),i=async()=>{try{const{data:u,error:d}=await G.from("orders").select("*").order("order_date",{ascending:!1});if(d)throw d;const{data:f,error:h}=await G.from("order_items").select("*");if(h)throw h;const p=(u||[]).map(y=>{const g=(f||[]).filter(w=>w.order_id===y.id),v={...y,total_revenue:typeof y.total_revenue=="string"?parseFloat(y.total_revenue)||0:y.total_revenue||0};return{...Em(v),items:g.map(w=>ub(w))}});t(p)}catch(u){console.error("Error fetching orders:",u),s({title:"Error",description:"Failed to load orders from database.",variant:"destructive"})}finally{r(!1)}},a=async u=>{try{const d={order_number:u.orderNumber,platform:u.platform,customer_name:u.customerName,customer_email:u.customerEmail,order_date:u.orderDate,status:u.status||"pending",total_revenue:u.totalRevenue.toString(),shipping_street:u.shippingStreet,shipping_city:u.shippingCity,shipping_state:u.shippingState,shipping_zip:u.shippingZip,shipping_country:u.shippingCountry||"USA",tenant_id:"550e8400-e29b-41d4-a716-446655440000"},{data:f,error:h}=await G.from("orders").insert(d).select().single();if(h)throw h;const{data:p,error:y}=await G.from("order_items").insert(u.items.map(w=>({order_id:f.id,sku:w.sku,product_name:w.productName,quantity:w.quantity,unit_price:w.unitPrice,total_price:w.totalPrice,finished_good_id:w.finishedGoodId,tenant_id:"550e8400-e29b-41d4-a716-446655440000"}))).select();if(y)throw y;const g={...f,total_revenue:typeof f.total_revenue=="string"?parseFloat(f.total_revenue)||0:f.total_revenue||0},x={...Em(g),items:(p||[]).map(w=>ub(w))};return t(w=>[x,...w]),s({title:"Success",description:`Order ${u.orderNumber} has been created.`}),x}catch(d){throw console.error("Error adding order:",d),s({title:"Error",description:"Failed to create order.",variant:"destructive"}),d}},l=async(u,d)=>{try{const f=q8(d);typeof f.total_revenue=="number"&&(f.total_revenue=f.total_revenue.toString());const{data:h,error:p}=await G.from("orders").update(f).eq("id",u).select().single();if(p)throw p;const y={...h,total_revenue:typeof h.total_revenue=="string"?parseFloat(h.total_revenue)||0:h.total_revenue||0},g=Em(y);return t(v=>v.map(x=>x.id===u?{...x,...g}:x)),s({title:"Success",description:"Order updated successfully."}),h}catch(f){throw console.error("Error updating order:",f),s({title:"Error",description:"Failed to update order.",variant:"destructive"}),f}},c=async u=>{try{const{error:d}=await G.from("orders").delete().eq("id",u);if(d)throw d;t(f=>f.filter(h=>h.id!==u)),s({title:"Success",description:"Order deleted successfully."})}catch(d){throw console.error("Error deleting order:",d),s({title:"Error",description:"Failed to delete order.",variant:"destructive"}),d}};return m.useEffect(()=>{i()},[]),{orders:e,loading:n,addOrder:a,updateOrder:l,deleteOrder:c,refetch:i}},YW=({order:e,isOpen:t,onClose:n})=>{var i,a;const{toast:r}=ke();if(!e)return null;const s=(l,c)=>{navigator.clipboard.writeText(l),r({title:"Copied to clipboard",description:`${c} copied successfully`})};return o.jsx(zt,{open:t,onOpenChange:n,children:o.jsxs(Et,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(Pt,{children:o.jsxs(Tt,{className:"flex items-center gap-2 py-[7px] font-bold text-lg",children:[o.jsx(at,{className:"h-5 w-5"}),"Order Details: ",e.orderNumber]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dd,{className:"h-4 w-4 text-blue-600"}),o.jsx("span",{className:"font-medium",children:"Customer"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:e.customerName}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s(e.customerName,"Customer name"),children:o.jsx(hi,{className:"h-3 w-3"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dc,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"font-medium",children:"Order Date"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:new Date(e.orderDate).toLocaleDateString()}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s(e.orderDate,"Order date"),children:o.jsx(hi,{className:"h-3 w-3"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(at,{className:"h-4 w-4 text-purple-600"}),o.jsx("span",{className:"font-medium",children:"Source"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[e.platform==="Etsy"?o.jsx(re,{className:"!bg-[#F1641E] !text-white !border-0 hover:!bg-[#F1641E]/80",children:e.platform}):o.jsx(re,{variant:"outline",children:e.platform}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s(e.platform,"Source"),children:o.jsx(hi,{className:"h-3 w-3"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(If,{className:"h-4 w-4 text-emerald-600"}),o.jsx("span",{className:"font-medium",children:"Revenue"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold",children:["$",parseFloat(((i=e.totalRevenue)==null?void 0:i.toString())||"0").toFixed(2)]}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>{var l;return s(parseFloat(((l=e.totalRevenue)==null?void 0:l.toString())||"0").toFixed(2),"Revenue")},children:o.jsx(hi,{className:"h-3 w-3"})})]})]})]}),o.jsx(Dr,{}),(e.shippingStreet||e.shippingCity)&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dA,{className:"h-4 w-4 text-red-600"}),o.jsx("span",{className:"font-medium",children:"Shipping Address"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:[e.shippingStreet,e.shippingCity,e.shippingState,e.shippingZip,e.shippingCountry].filter(Boolean).join(", ")}),o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s([e.shippingStreet,e.shippingCity,e.shippingState,e.shippingZip,e.shippingCountry].filter(Boolean).join(", "),"Shipping address"),children:o.jsx(hi,{className:"h-3 w-3"})})]})]}),o.jsx(Dr,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-medium",children:"Order Items"}),o.jsx("div",{className:"space-y-2",children:(a=e.items)==null?void 0:a.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:l.productName}),o.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:["SKU: ",l.sku,o.jsx(L,{variant:"ghost",size:"sm",onClick:()=>s(l.sku,"SKU"),children:o.jsx(hi,{className:"h-3 w-3"})})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"font-medium",children:["Qty: ",l.quantity]})})]},c))})]}),o.jsx(Dr,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:"Status:"}),o.jsx(re,{className:e.status.toLowerCase()==="completed"?"bg-green-500 text-white hover:bg-green-600":e.status.toLowerCase()==="paid"?"bg-blue-900 text-white hover:bg-blue-800":e.status.toLowerCase()==="pending"?"bg-yellow-500 text-white hover:bg-yellow-600":e.status.toLowerCase()==="cancelled"?"bg-red-500 text-white hover:bg-red-600":"bg-muted text-muted-foreground",children:e.status})]})]})]})})},QW=()=>{const{orders:e,loading:t}=GW(),[n,r]=m.useState(null),[s,i]=m.useState(!1),[a,l]=m.useState("all"),[c,u]=m.useState({from:void 0,to:void 0}),[d,f]=m.useState(!1),p=(()=>{const _=new Date;switch(a){case"7days":return e.filter(k=>{const E=Yi(k.orderDate);return Gi(E,{start:$o(_,7),end:_})});case"30days":return e.filter(k=>{const E=Yi(k.orderDate);return Gi(E,{start:$o(_,30),end:_})});default:return c.from&&c.to?e.filter(k=>{const E=Yi(k.orderDate);return Gi(E,{start:c.from,end:c.to})}):e}})(),g=p.filter(_=>_.status==="Open").length,v=_=>_==="All"?p:p.filter(k=>k.platform.toLowerCase()===_.toLowerCase()),x=_=>{const k=_.reduce((R,M)=>R+M.totalRevenue,0),E=_.reduce((R,M)=>R+M.items.reduce((O,A)=>O+A.quantity,0),0);return{totalRevenue:k,totalUnits:E}},w=_=>{r(_),i(!0)},b=_=>{l(_),_!=="all"&&u({from:void 0,to:void 0})},j=()=>{switch(a){case"7days":return"Last 7 Days";case"30days":return"Last 30 Days";default:return c.from&&c.to?`${Wn(c.from,"MMM dd")} - ${Wn(c.to,"MMM dd")}`:"All Time"}},N=_=>{const{totalRevenue:k,totalUnits:E}=x(_);return o.jsx(se,{children:o.jsxs(ie,{className:"pt-6",children:[o.jsxs("div",{className:"mb-4 grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",k.toFixed(2)]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]}),o.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:E}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Units"})]})]}),o.jsxs(Ga,{children:[o.jsx(Ya,{children:o.jsxs(gr,{children:[o.jsx(Re,{children:"Order ID"}),o.jsx(Re,{children:"Source"}),o.jsx(Re,{children:"Customer"}),o.jsx(Re,{children:"Date"}),o.jsx(Re,{children:"Status"}),o.jsx(Re,{children:"Revenue"}),o.jsx(Re,{children:"SKU"}),o.jsx(Re,{children:"Actions"})]})}),o.jsx(Qa,{children:_.map(R=>{var M,O;return o.jsxs(gr,{children:[o.jsx(Pe,{className:"font-medium",children:o.jsx("button",{onClick:()=>w(R),className:"text-foreground hover:underline cursor-pointer",children:R.orderNumber})}),o.jsx(Pe,{children:R.platform==="Etsy"?o.jsx(re,{className:"!bg-[#F1641E] !text-white !border-0 hover:!bg-[#F1641E]/80",children:R.platform}):o.jsx(re,{variant:"outline",children:R.platform})}),o.jsx(Pe,{children:R.customerName}),o.jsx(Pe,{children:new Date(R.orderDate).toLocaleDateString()}),o.jsx(Pe,{children:o.jsx(re,{className:R.status.toLowerCase()==="completed"?"bg-green-500 text-white hover:bg-green-600":R.status.toLowerCase()==="paid"?"bg-blue-900 text-white hover:bg-blue-800":R.status.toLowerCase()==="pending"?"bg-yellow-500 text-white hover:bg-yellow-600":R.status.toLowerCase()==="cancelled"?"bg-red-500 text-white hover:bg-red-600":"bg-muted text-muted-foreground",children:R.status})}),o.jsxs(Pe,{className:"font-medium",children:["$",parseFloat(((M=R.totalRevenue)==null?void 0:M.toString())||"0").toFixed(2)]}),o.jsx(Pe,{children:o.jsx("ul",{className:"text-sm",children:(O=R.items)==null?void 0:O.map(A=>o.jsxs("li",{children:[A.sku," (x",A.quantity,")"]},A.sku))})}),o.jsx(Pe,{children:o.jsxs(L,{variant:"outline",size:"sm",onClick:()=>w(R),children:[o.jsx(S_,{className:"h-4 w-4 mr-1"}),"View"]})})]},R.id)})})]})]})})},C=x(p);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Orders"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(cy,{open:d,onOpenChange:f,children:[o.jsx(uy,{asChild:!0,children:o.jsx(L,{variant:"outline",size:"icon",children:o.jsx(Dc,{className:"h-4 w-4"})})}),o.jsx(yh,{className:"w-auto p-0",align:"end",children:o.jsx(xh,{mode:"range",selected:{from:c.from,to:c.to},onSelect:_=>{u({from:_==null?void 0:_.from,to:_==null?void 0:_.to}),_!=null&&_.from&&(_!=null&&_.to)&&(l("all"),f(!1))},numberOfMonths:2})})]}),o.jsxs(Ye,{value:a,onValueChange:b,children:[o.jsx(He,{className:"w-[180px]",children:o.jsx(Qe,{placeholder:"Select date range"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"all",children:"All Time"}),o.jsx(fe,{value:"7days",children:"Last 7 Days"}),o.jsx(fe,{value:"30days",children:"Last 30 Days"})]})]})]})})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing data for: ",j()]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Total Open Orders"}),o.jsx(Fv,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:g}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all sales channels"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Total Revenue"}),o.jsx(If,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",C.totalRevenue.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"For selected period"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Units Sold"}),o.jsx(at,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:C.totalUnits}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total items shipped"})]})]})]}),o.jsxs(Xa,{defaultValue:"All",children:[o.jsxs(ai,{children:[o.jsx(mt,{value:"All",children:"All"}),o.jsx(mt,{value:"Shopify",children:"Shopify"}),o.jsx(mt,{value:"Etsy",children:"Etsy"})]}),o.jsx($t,{value:"All",children:N(v("All"))}),o.jsx($t,{value:"Shopify",children:N(v("Shopify"))}),o.jsx($t,{value:"Etsy",children:N(v("Etsy"))})]}),o.jsx(YW,{order:n,isOpen:s,onClose:()=>i(!1)})]})},_i=[{id:"1",customer:"Customer A",product:"Product 1",status:"completed",orderDate:new Date().toISOString(),totalRevenue:150,items:[{quantity:5,unitPrice:20},{quantity:2,unitPrice:25}]},{id:"2",customer:"Customer B",product:"Product 2",status:"pending",orderDate:new Date(Date.now()-24*60*60*1e3).toISOString(),totalRevenue:75,items:[{quantity:3,unitPrice:25}]},{id:"3",customer:"Customer C",product:"Product 3",status:"completed",orderDate:new Date(Date.now()-2*24*60*60*1e3).toISOString(),totalRevenue:200,items:[{quantity:4,unitPrice:30},{quantity:2,unitPrice:40}]},{id:"4",customer:"Customer D",product:"Product 4",status:"completed",orderDate:new Date(Date.now()-10*24*60*60*1e3).toISOString(),totalRevenue:120,items:[{quantity:8,unitPrice:15}]}],JW=({analyticsData:e})=>{const{totalRevenue:t,totalUnits:n}=e,r={profit:t*.35,activePrinters:4,completionRate:94.2,averageJobTime:4.2,utilization:78.5,timeSaved:156};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(se,{className:"border-2",children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Total Revenue"}),o.jsx(If,{className:"h-5 w-5 text-green-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-3xl font-bold",children:["$",t.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+12.5% from last period"})]})]}),o.jsxs(se,{className:"border-2",children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Profit"}),o.jsx(Id,{className:"h-5 w-5 text-emerald-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-3xl font-bold",children:["$",r.profit.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"35% margin"})]})]}),o.jsxs(se,{className:"border-2",children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Print Completion"}),o.jsx(Ir,{className:"h-5 w-5 text-green-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-3xl font-bold",children:[r.completionRate,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Success rate"})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Active Printers"}),o.jsx(Iv,{className:"h-4 w-4 text-blue-600"})]}),o.jsxs(ie,{children:[o.jsx("div",{className:"text-2xl font-bold",children:r.activePrinters}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently printing"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Utilization"}),o.jsx(Ip,{className:"h-4 w-4 text-purple-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[r.utilization,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Fleet average"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Avg Job Time"}),o.jsx(rr,{className:"h-4 w-4 text-orange-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[r.averageJobTime,"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Per print job"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Time Saved"}),o.jsx(rr,{className:"h-4 w-4 text-cyan-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[r.timeSaved,"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Automation benefits"})]})]})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Performance Summary"})}),o.jsx(ie,{children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Revenue per Unit"}),o.jsxs(re,{variant:"secondary",children:["$",n>0?(t/n).toFixed(2):"0.00"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Units Produced"}),o.jsx(re,{variant:"secondary",children:n})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"ROI on Automation"}),o.jsx(re,{variant:"secondary",children:"245%"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Throughput Improvement"}),o.jsx(re,{variant:"secondary",children:"+38%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Quality Score"}),o.jsx(re,{variant:"secondary",children:"94.2/100"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Auto Queue Efficiency"}),o.jsx(re,{variant:"secondary",children:"92%"})]})]})]})})]})]})},XW=({analyticsData:e})=>{const{totalRevenue:t}=e,n={totalRevenue:t,profit:t*.35,cogs:t*.65,currentInventoryValue:12450,materialCosts:t*.25,laborCosts:t*.15,overheadCosts:t*.25,grossMargin:.35,netMargin:.28};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Total Revenue"}),o.jsx(If,{className:"h-4 w-4 text-green-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",n.totalRevenue.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+12.5% from last period"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Net Profit"}),o.jsx(Id,{className:"h-4 w-4 text-emerald-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",n.profit.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(n.grossMargin*100).toFixed(1),"% margin"]})]})]})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Cost Breakdown"})}),o.jsx(ie,{children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-lg font-semibold",children:["$",n.materialCosts.toFixed(2)]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Materials"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"25% of revenue"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-lg font-semibold",children:["$",n.laborCosts.toFixed(2)]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Labor"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"15% of revenue"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-lg font-semibold",children:["$",n.overheadCosts.toFixed(2)]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Overhead"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"25% of revenue"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-lg font-semibold",children:["$",n.profit.toFixed(2)]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Profit"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"35% of revenue"})]})]})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"COGS"}),o.jsx(yA,{className:"h-4 w-4 text-orange-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",n.cogs.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"65% of revenue"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Inventory Value"}),o.jsx(at,{className:"h-4 w-4 text-blue-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",n.currentInventoryValue.toLocaleString()]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Current stock value"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Gross Margin"}),o.jsx(Id,{className:"h-4 w-4 text-purple-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[(n.grossMargin*100).toFixed(1),"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Before overhead"})]})]})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Financial Performance"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Revenue Growth (YoY)"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"+23.4%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Profit Growth (YoY)"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"+18.7%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Cost Reduction"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"-8.2%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Inventory Turnover"}),o.jsx("span",{className:"text-sm font-semibold",children:"6.2x"})]})]})})]})]})},ZW=({analyticsData:e})=>{const t={printTime:1248,materialUsage:34.5,energyConsumption:2156,utilization:78.5,averageJobTime:4.2,timeSavedBedSwapper:156,autoQueueEfficiency:92,throughput:127};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Total Print Time"}),o.jsx(Iv,{className:"h-4 w-4 text-indigo-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.printTime,"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Active printing"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Material Used"}),o.jsx(Ip,{className:"h-4 w-4 text-cyan-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.materialUsage,"kg"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Filament consumed"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Energy Usage"}),o.jsx(Lv,{className:"h-4 w-4 text-amber-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.energyConsumption," kWh"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Power consumption"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Printer Utilization"}),o.jsx(Ip,{className:"h-4 w-4 text-pink-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.utilization,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Average usage"})]})]})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Efficiency Metrics"})}),o.jsx(ie,{children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[t.timeSavedBedSwapper,"h"]}),o.jsx("div",{className:"text-sm font-medium",children:"Time Saved"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Bed swapper automation"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[t.autoQueueEfficiency,"%"]}),o.jsx("div",{className:"text-sm font-medium",children:"Queue Efficiency"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Automated scheduling"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.averageJobTime,"h"]}),o.jsx("div",{className:"text-sm font-medium",children:"Avg Job Time"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Per print job"})]})]})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Throughput Analysis"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Jobs Completed"}),o.jsxs("span",{className:"text-sm font-semibold",children:[t.throughput,"/week"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Peak Utilization"}),o.jsx("span",{className:"text-sm font-semibold",children:"94.2%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Idle Time Reduction"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"-23%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Setup Time"}),o.jsx("span",{className:"text-sm font-semibold",children:"12 min avg"})]})]})})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Resource Efficiency"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Material Efficiency"}),o.jsx("span",{className:"text-sm font-semibold",children:"96.8%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Energy per kg"}),o.jsxs("span",{className:"text-sm font-semibold",children:[(t.energyConsumption/t.materialUsage).toFixed(1)," kWh"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Cost per Hour"}),o.jsx("span",{className:"text-sm font-semibold",children:"$3.24"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Waste Reduction"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"-15%"})]})]})})]})]})]})},eH=({analyticsData:e})=>{const t={completionRate:94.2,failureRate:5.8,maintenanceHours:23,firstPassYield:89.3,defectRate:2.1,customerSatisfaction:4.7,returnRate:1.2,qualityScore:94.2};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Completion Rate"}),o.jsx(Ir,{className:"h-4 w-4 text-green-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.completionRate,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Successful prints"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Failure Rate"}),o.jsx(Fc,{className:"h-4 w-4 text-red-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.failureRate,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Failed prints"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"First Pass Yield"}),o.jsx(Ir,{className:"h-4 w-4 text-blue-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.firstPassYield,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Right first time"})]})]}),o.jsxs(se,{children:[o.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Maintenance Hours"}),o.jsx(Iv,{className:"h-4 w-4 text-gray-600"})]}),o.jsxs(ie,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[t.maintenanceHours,"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This period"})]})]})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Quality Performance"})}),o.jsx(ie,{children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Defect Rate"}),o.jsxs("span",{className:"text-sm font-semibold",children:[t.defectRate,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Quality Score"}),o.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[t.qualityScore,"/100"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Customer Satisfaction"}),o.jsxs("span",{className:"text-sm font-semibold",children:[t.customerSatisfaction,"/5.0"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Return Rate"}),o.jsxs("span",{className:"text-sm font-semibold",children:[t.returnRate,"%"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Print Quality Consistency"}),o.jsx("span",{className:"text-sm font-semibold",children:"97.3%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Material Waste"}),o.jsx("span",{className:"text-sm font-semibold",children:"3.2%"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Dimensional Accuracy"}),o.jsx("span",{className:"text-sm font-semibold",children:"0.1mm"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Surface Finish Grade"}),o.jsx("span",{className:"text-sm font-semibold",children:"A"})]})]})]})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Failure Analysis"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Bed Adhesion"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"35%"}})}),o.jsx("span",{className:"text-xs",children:"35%"})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Filament Issues"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"25%"}})}),o.jsx("span",{className:"text-xs",children:"25%"})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Power Loss"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"20%"}})}),o.jsx("span",{className:"text-xs",children:"20%"})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Other"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"20%"}})}),o.jsx("span",{className:"text-xs",children:"20%"})]})]})]})})]}),o.jsxs(se,{children:[o.jsx(ce,{children:o.jsx(ue,{children:"Maintenance Schedule"})}),o.jsx(ie,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Preventive Maintenance"}),o.jsx("span",{className:"text-sm font-semibold text-green-600",children:"On Schedule"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Nozzle Replacements"}),o.jsx("span",{className:"text-sm font-semibold",children:"Every 500h"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Belt Tensioning"}),o.jsx("span",{className:"text-sm font-semibold",children:"Weekly"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Calibration Check"}),o.jsx("span",{className:"text-sm font-semibold",children:"Daily"})]})]})})]})]})]})},tH=()=>{const[e,t]=m.useState("all"),[n,r]=m.useState({from:void 0,to:void 0}),[s,i]=m.useState(!1),a=()=>{if(!_i||!Array.isArray(_i))return[];const f=new Date;switch(e){case"7days":return _i.filter(h=>{if(!h.orderDate)return!1;try{const p=Yi(h.orderDate);return Gi(p,{start:$o(f,7),end:f})}catch{return!1}});case"30days":return _i.filter(h=>{if(!h.orderDate)return!1;try{const p=Yi(h.orderDate);return Gi(p,{start:$o(f,30),end:f})}catch{return!1}});default:return n.from&&n.to?_i.filter(h=>{if(!h.orderDate)return!1;try{const p=Yi(h.orderDate);return Gi(p,{start:n.from,end:n.to})}catch{return!1}}):_i}},l=f=>{t(f),f!=="all"&&r({from:void 0,to:void 0})},c=()=>{switch(e){case"7days":return"Last 7 Days";case"30days":return"Last 30 Days";default:return n.from&&n.to?`${Wn(n.from,"MMM dd")} - ${Wn(n.to,"MMM dd")}`:"All Time"}},u=a(),d={filteredOrders:u,totalRevenue:u.reduce((f,h)=>f+(h.totalRevenue||0),0),totalUnits:u.reduce((f,h)=>!h.items||!Array.isArray(h.items)?f:f+h.items.reduce((p,y)=>p+(y.quantity||0),0),0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Analytics"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(cy,{open:s,onOpenChange:i,children:[o.jsx(uy,{asChild:!0,children:o.jsx(L,{variant:"outline",size:"icon",children:o.jsx(Dc,{className:"h-4 w-4"})})}),o.jsx(yh,{className:"w-auto p-0",align:"end",children:o.jsx(xh,{mode:"range",selected:{from:n.from,to:n.to},onSelect:f=>{r({from:f==null?void 0:f.from,to:f==null?void 0:f.to}),f!=null&&f.from&&(f!=null&&f.to)&&(t("all"),i(!1))},numberOfMonths:2})})]}),o.jsxs(Ye,{value:e,onValueChange:l,children:[o.jsx(He,{className:"w-[180px]",children:o.jsx(Qe,{placeholder:"Select date range"})}),o.jsxs(Ve,{children:[o.jsx(fe,{value:"all",children:"All Time"}),o.jsx(fe,{value:"7days",children:"Last 7 Days"}),o.jsx(fe,{value:"30days",children:"Last 30 Days"})]})]})]})})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing data for: ",c()]}),o.jsxs(Xa,{defaultValue:"overview",className:"space-y-6",children:[o.jsxs(ai,{className:"grid w-full grid-cols-4",children:[o.jsx(mt,{value:"overview",children:"Overview"}),o.jsx(mt,{value:"financial",children:"Financial"}),o.jsx(mt,{value:"production",children:"Production"}),o.jsx(mt,{value:"quality",children:"Quality"})]}),o.jsx($t,{value:"overview",children:o.jsx(JW,{analyticsData:d})}),o.jsx($t,{value:"financial",children:o.jsx(XW,{analyticsData:d})}),o.jsx($t,{value:"production",children:o.jsx(ZW,{analyticsData:d})}),o.jsx($t,{value:"quality",children:o.jsx(eH,{analyticsData:d})})]})]})},nH=()=>{const{id:e}=gD(),[t]=qD(),n=Da(),r=t.get("type"),i=(()=>{const a=parseInt(e||"0");return r==="filament"?[{id:1,name:"SUNLU PLA+ Filament",brand:"SUNLU",material:"PLA+",color:"Black",price:25.99,originalPrice:29.99,weight:"1kg",diameter:"1.75mm",inStock:!0,description:"High-quality PLA+ filament with excellent layer adhesion and minimal warping. Perfect for beginners and professionals alike.",features:["Easy to print","Low odor","Excellent surface finish","Wide temperature range"]}].find(c=>c.id===a):r==="accessory"?[{id:1,name:"Build Plate",brand:"Bambu Lab",type:"Print Surface",price:39.99,compatibility:"A1 Series",inStock:!0,description:"Premium build plate designed for optimal first layer adhesion and easy print removal.",features:["Easy print removal","Excellent adhesion","Durable coating","Easy to clean"]}].find(c=>c.id===a):r==="tool"?[{id:1,name:"Digital Calipers",brand:"Mitutoyo",type:"Measurement",price:89.99,accuracy:"0.02mm",inStock:!0,description:"Professional-grade digital calipers for precise measurements of 3D printed parts and filament dimensions.",features:["High precision","Digital display","Stainless steel construction","Battery included"]}].find(c=>c.id===a):null})();return i?o.jsx("div",{className:"min-h-screen bg-white",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[o.jsxs(L,{onClick:()=>n("/store"),variant:"ghost",className:"mb-8 text-gray-600 hover:text-gray-900",children:[o.jsx(I0,{className:"h-4 w-4 mr-2"}),"Back to Store"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"aspect-square bg-gray-50 rounded-lg flex items-center justify-center relative",children:[i.id===1&&o.jsx(re,{className:"absolute top-4 left-4 bg-red-500 hover:bg-red-500 text-white",children:"SALE"}),o.jsx("span",{className:"text-gray-400",children:"Product Image"})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:i.brand}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i.name}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[i.originalPrice&&o.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["$",i.originalPrice]}),o.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",i.price]})]}),o.jsx(re,{variant:i.inStock?"default":"secondary",children:i.inStock?"In Stock":"Out of Stock"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Description"}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Features"}),o.jsx("ul",{className:"space-y-2",children:i.features.map((a,l)=>o.jsxs("li",{className:"flex items-center text-gray-600",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-3"}),a]},l))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Specifications"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[r==="filament"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Material:"}),o.jsx("span",{className:"text-gray-900",children:i.material})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Color:"}),o.jsx("span",{className:"text-gray-900",children:i.color})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Weight:"}),o.jsx("span",{className:"text-gray-900",children:i.weight})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Diameter:"}),o.jsx("span",{className:"text-gray-900",children:i.diameter})]})]}),r==="accessory"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Type:"}),o.jsx("span",{className:"text-gray-900",children:i.type})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Compatibility:"}),o.jsx("span",{className:"text-gray-900",children:i.compatibility})]})]}),r==="tool"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Type:"}),o.jsx("span",{className:"text-gray-900",children:i.type})]}),i.accuracy&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Accuracy:"}),o.jsx("span",{className:"text-gray-900",children:i.accuracy})]})]})]})]}),o.jsxs("div",{className:"flex gap-4 pt-6",children:[o.jsxs(L,{className:"flex-1 h-12",disabled:!i.inStock,size:"lg",children:[o.jsx(Fv,{className:"h-5 w-5 mr-2"}),"Add to Cart"]}),o.jsx(L,{variant:"outline",size:"lg",className:"h-12 px-6",children:o.jsx(rA,{className:"h-5 w-5"})})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Product not found"}),o.jsxs(L,{onClick:()=>n("/store"),variant:"outline",children:[o.jsx(I0,{className:"h-4 w-4 mr-2"}),"Back to Store"]})]})})};class kb extends m.Component{constructor(){super(...arguments);xt(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return console.error("ErrorBoundary caught error:",n),{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary details:",n,r)}render(){var n;return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-100 p-4",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[o.jsx("h1",{className:"text-xl font-bold text-red-600 mb-4",children:"Something went wrong"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"The application encountered an error. Please try refreshing the page."}),o.jsxs("details",{className:"mb-4",children:[o.jsx("summary",{className:"cursor-pointer text-sm text-gray-600",children:"Error details (for debugging)"}),o.jsx("pre",{className:"text-xs bg-gray-100 p-2 mt-2 rounded overflow-auto",children:(n=this.state.error)==null?void 0:n.toString()})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Refresh Page"}),o.jsx("button",{onClick:()=>window.location.href="/auth",className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:"Go to Login"})]})]})}):this.props.children}}const rH=()=>{const{signIn:e,signUp:t}=si(),n=Da(),[r,s]=m.useState(!1),[i,a]=m.useState(null),[l,c]=m.useState({email:"",password:""}),[u,d]=m.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",companyName:""}),f=async p=>{p.preventDefault(),s(!0),a(null);const{error:y}=await e(l.email,l.password);y?a(y.message):n("/"),s(!1)},h=async p=>{if(p.preventDefault(),u.password!==u.confirmPassword){a("Passwords do not match");return}if(u.password.length<6){a("Password must be at least 6 characters");return}s(!0),a(null);const{error:y}=await t(u.email,u.password,u.firstName,u.lastName,u.companyName);y?a(y.message):n("/"),s(!1)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:o.jsxs(se,{className:"w-full max-w-md",children:[o.jsxs(ce,{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(QM,{className:"h-6 w-6 text-primary"}),o.jsx("span",{className:"text-lg font-semibold",children:"PrintFlow"})]}),o.jsx(ue,{children:"Welcome to PrintFlow"}),o.jsx(Fa,{children:"3D Print Farm Management Software"})]}),o.jsxs(ie,{children:[o.jsxs(Xa,{defaultValue:"signin",className:"w-full",children:[o.jsxs(ai,{className:"grid w-full grid-cols-2",children:[o.jsx(mt,{value:"signin",children:"Sign In"}),o.jsx(mt,{value:"signup",children:"Sign Up"})]}),o.jsx($t,{value:"signin",children:o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signin-email",children:"Email"}),o.jsx(le,{id:"signin-email",type:"email",placeholder:"email@example.com",value:l.email,onChange:p=>c({...l,email:p.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signin-password",children:"Password"}),o.jsx(le,{id:"signin-password",type:"password",placeholder:"",value:l.password,onChange:p=>c({...l,password:p.target.value}),required:!0})]}),o.jsx(L,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(va,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"})]})}),o.jsx($t,{value:"signup",children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-firstname",children:"First Name"}),o.jsx(le,{id:"signup-firstname",type:"text",placeholder:"John",value:u.firstName,onChange:p=>d({...u,firstName:p.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-lastname",children:"Last Name"}),o.jsx(le,{id:"signup-lastname",type:"text",placeholder:"Doe",value:u.lastName,onChange:p=>d({...u,lastName:p.target.value}),required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-company",children:"Company Name"}),o.jsx(le,{id:"signup-company",type:"text",placeholder:"My Print Farm",value:u.companyName,onChange:p=>d({...u,companyName:p.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-email",children:"Email"}),o.jsx(le,{id:"signup-email",type:"email",placeholder:"email@example.com",value:u.email,onChange:p=>d({...u,email:p.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-password",children:"Password"}),o.jsx(le,{id:"signup-password",type:"password",placeholder:"",value:u.password,onChange:p=>d({...u,password:p.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Q,{htmlFor:"signup-confirm",children:"Confirm Password"}),o.jsx(le,{id:"signup-confirm",type:"password",placeholder:"",value:u.confirmPassword,onChange:p=>d({...u,confirmPassword:p.target.value}),required:!0})]}),o.jsx(L,{type:"submit",className:"w-full",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx(va,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})})]}),i&&o.jsx(fy,{variant:"destructive",className:"mt-4",children:o.jsx(hy,{children:i})})]})]})})},sH=({children:e})=>{const{user:t,loading:n}=si();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(va,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{children:"Loading..."})]})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(PD,{to:"/auth",replace:!0})},oH=new _I,iH=()=>(console.log("=== APP COMPONENT RENDERING ==="),o.jsx(kb,{children:o.jsx(gW,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:o.jsx(EI,{client:oH,children:o.jsxs(aI,{children:[o.jsx(rO,{}),o.jsx(IO,{}),o.jsx(zD,{children:o.jsx(h$,{children:o.jsxs(MD,{children:[o.jsxs(Ot,{path:"/",element:o.jsx(sH,{children:o.jsx(W8,{children:o.jsx(kb,{children:o.jsx(L5,{})})})}),children:[o.jsx(Ot,{index:!0,element:o.jsx(YD,{})}),o.jsx(Ot,{path:"printers",element:o.jsx(J8,{})}),o.jsx(Ot,{path:"worklist",element:o.jsx(g7,{})}),o.jsx(Ot,{path:"queue",element:o.jsx(k7,{})}),o.jsx(Ot,{path:"products",element:o.jsx(KW,{})}),o.jsx(Ot,{path:"material-inventory",element:o.jsx(H7,{})}),o.jsx(Ot,{path:"inventory",element:o.jsx(K7,{})}),o.jsx(Ot,{path:"orders",element:o.jsx(QW,{})}),o.jsx(Ot,{path:"analytics",element:o.jsx(tH,{})}),o.jsx(Ot,{path:"store",element:o.jsx(pW,{})}),o.jsx(Ot,{path:"store/product/:id",element:o.jsx(nH,{})}),o.jsx(Ot,{path:"settings",element:o.jsx(mW,{})})]}),o.jsx(Ot,{path:"/auth",element:o.jsx(rH,{})}),o.jsx(Ot,{path:"*",element:o.jsx(QD,{})})]})})})]})})})}));Z1(document.getElementById("root")).render(o.jsx(iH,{}));
